import{a as J,c as Gr,e as no,f as T,g as he,i as _e,j as pt,l as Te}from"./chunk-PWCKSV3D.js";var kr=T(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});function io(t,e){var n=t>>>16&65535,r=t&65535,i=e>>>16&65535,o=e&65535;return r*o+(n*o+r*i<<16>>>0)|0}le.mul=Math.imul||io;function oo(t,e){return t+e|0}le.add=oo;function so(t,e){return t-e|0}le.sub=so;function ao(t,e){return t<<e|t>>>32-e}le.rotl=ao;function uo(t,e){return t<<32-e|t>>>e}le.rotr=uo;function co(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}le.isInteger=Number.isInteger||co;le.MAX_SAFE_INTEGER=9007199254740991;le.isSafeInteger=function(t){return le.isInteger(t)&&t>=-le.MAX_SAFE_INTEGER&&t<=le.MAX_SAFE_INTEGER}});var Xe=T(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var Xr=kr();function fo(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}A.readInt16BE=fo;function ho(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}A.readUint16BE=ho;function lo(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}A.readInt16LE=lo;function po(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}A.readUint16LE=po;function Jr(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}A.writeUint16BE=Jr;A.writeInt16BE=Jr;function Qr(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}A.writeUint16LE=Qr;A.writeInt16LE=Qr;function zt(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}A.readInt32BE=zt;function Yt(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}A.readUint32BE=Yt;function Gt(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}A.readInt32LE=Gt;function kt(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}A.readUint32LE=kt;function bt(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}A.writeUint32BE=bt;A.writeInt32BE=bt;function Dt(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}A.writeUint32LE=Dt;A.writeInt32LE=Dt;function bo(t,e){e===void 0&&(e=0);var n=zt(t,e),r=zt(t,e+4);return n*4294967296+r-(r>>31)*4294967296}A.readInt64BE=bo;function Do(t,e){e===void 0&&(e=0);var n=Yt(t,e),r=Yt(t,e+4);return n*4294967296+r}A.readUint64BE=Do;function mo(t,e){e===void 0&&(e=0);var n=Gt(t,e),r=Gt(t,e+4);return r*4294967296+n-(n>>31)*4294967296}A.readInt64LE=mo;function Eo(t,e){e===void 0&&(e=0);var n=kt(t,e),r=kt(t,e+4);return r*4294967296+n}A.readUint64LE=Eo;function Zr(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),bt(t/4294967296>>>0,e,n),bt(t>>>0,e,n+4),e}A.writeUint64BE=Zr;A.writeInt64BE=Zr;function en(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),Dt(t>>>0,e,n),Dt(t/4294967296>>>0,e,n+4),e}A.writeUint64LE=en;A.writeInt64LE=en;function go(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=t/8+n-1;o>=n;o--)r+=e[o]*i,i*=256;return r}A.readUintBE=go;function _o(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+t/8;o++)r+=e[o]*i,i*=256;return r}A.readUintLE=_o;function wo(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Xr.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,o=t/8+r-1;o>=r;o--)n[o]=e/i&255,i*=256;return n}A.writeUintBE=wo;function yo(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Xr.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,o=r;o<r+t/8;o++)n[o]=e/i&255,i*=256;return n}A.writeUintLE=yo;function vo(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e)}A.readFloat32BE=vo;function So(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e,!0)}A.readFloat32LE=So;function xo(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e)}A.readFloat64BE=xo;function Oo(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e,!0)}A.readFloat64LE=Oo;function Co(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t),e}A.writeFloat32BE=Co;function No(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t,!0),e}A.writeFloat32LE=No;function Ao(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t),e}A.writeFloat64BE=Ao;function Uo(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t,!0),e}A.writeFloat64LE=Uo});var De=T(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});function To(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Xt.wipe=To});var rn=T(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});var se=Xe(),Jt=De(),Io=20;function Ro(t,e,n){for(var r=1634760805,i=857760878,o=2036477234,s=1797285236,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],c=n[7]<<24|n[6]<<16|n[5]<<8|n[4],u=n[11]<<24|n[10]<<16|n[9]<<8|n[8],l=n[15]<<24|n[14]<<16|n[13]<<8|n[12],h=n[19]<<24|n[18]<<16|n[17]<<8|n[16],b=n[23]<<24|n[22]<<16|n[21]<<8|n[20],f=n[27]<<24|n[26]<<16|n[25]<<8|n[24],d=n[31]<<24|n[30]<<16|n[29]<<8|n[28],D=e[3]<<24|e[2]<<16|e[1]<<8|e[0],E=e[7]<<24|e[6]<<16|e[5]<<8|e[4],v=e[11]<<24|e[10]<<16|e[9]<<8|e[8],O=e[15]<<24|e[14]<<16|e[13]<<8|e[12],g=r,_=i,S=o,x=s,w=a,y=c,N=u,U=l,q=h,V=b,K=f,z=d,H=D,$=E,m=v,C=O,Y=0;Y<Io;Y+=2)g=g+w|0,H^=g,H=H>>>16|H<<16,q=q+H|0,w^=q,w=w>>>20|w<<12,_=_+y|0,$^=_,$=$>>>16|$<<16,V=V+$|0,y^=V,y=y>>>20|y<<12,S=S+N|0,m^=S,m=m>>>16|m<<16,K=K+m|0,N^=K,N=N>>>20|N<<12,x=x+U|0,C^=x,C=C>>>16|C<<16,z=z+C|0,U^=z,U=U>>>20|U<<12,S=S+N|0,m^=S,m=m>>>24|m<<8,K=K+m|0,N^=K,N=N>>>25|N<<7,x=x+U|0,C^=x,C=C>>>24|C<<8,z=z+C|0,U^=z,U=U>>>25|U<<7,_=_+y|0,$^=_,$=$>>>24|$<<8,V=V+$|0,y^=V,y=y>>>25|y<<7,g=g+w|0,H^=g,H=H>>>24|H<<8,q=q+H|0,w^=q,w=w>>>25|w<<7,g=g+y|0,C^=g,C=C>>>16|C<<16,K=K+C|0,y^=K,y=y>>>20|y<<12,_=_+N|0,H^=_,H=H>>>16|H<<16,z=z+H|0,N^=z,N=N>>>20|N<<12,S=S+U|0,$^=S,$=$>>>16|$<<16,q=q+$|0,U^=q,U=U>>>20|U<<12,x=x+w|0,m^=x,m=m>>>16|m<<16,V=V+m|0,w^=V,w=w>>>20|w<<12,S=S+U|0,$^=S,$=$>>>24|$<<8,q=q+$|0,U^=q,U=U>>>25|U<<7,x=x+w|0,m^=x,m=m>>>24|m<<8,V=V+m|0,w^=V,w=w>>>25|w<<7,_=_+N|0,H^=_,H=H>>>24|H<<8,z=z+H|0,N^=z,N=N>>>25|N<<7,g=g+y|0,C^=g,C=C>>>24|C<<8,K=K+C|0,y^=K,y=y>>>25|y<<7;se.writeUint32LE(g+r|0,t,0),se.writeUint32LE(_+i|0,t,4),se.writeUint32LE(S+o|0,t,8),se.writeUint32LE(x+s|0,t,12),se.writeUint32LE(w+a|0,t,16),se.writeUint32LE(y+c|0,t,20),se.writeUint32LE(N+u|0,t,24),se.writeUint32LE(U+l|0,t,28),se.writeUint32LE(q+h|0,t,32),se.writeUint32LE(V+b|0,t,36),se.writeUint32LE(K+f|0,t,40),se.writeUint32LE(z+d|0,t,44),se.writeUint32LE(H+D|0,t,48),se.writeUint32LE($+E|0,t,52),se.writeUint32LE(m+v|0,t,56),se.writeUint32LE(C+O|0,t,60)}function tn(t,e,n,r,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var o,s;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),s=o.length-e.length,o.set(e,s)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,s=i}for(var a=new Uint8Array(64),c=0;c<n.length;c+=64){Ro(a,o,t);for(var u=c;u<c+64&&u<n.length;u++)r[u]=n[u]^a[u-c];Mo(o,0,s)}return Jt.wipe(a),i===0&&Jt.wipe(o),r}mt.streamXOR=tn;function Po(t,e,n,r){return r===void 0&&(r=0),Jt.wipe(n),tn(t,e,n,n,r)}mt.stream=Po;function Mo(t,e,n){for(var r=1;n--;)r=r+(t[e]&255)|0,t[e]=r&255,r>>>=8,e++;if(r>0)throw new Error("ChaCha: counter overflow")}});var Et=T(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});function Lo(t,e,n){return~(t-1)&e|t-1&n}Fe.select=Lo;function Fo(t,e){return(t|0)-(e|0)-1>>>31&1}Fe.lessOrEqual=Fo;function nn(t,e){if(t.length!==e.length)return 0;for(var n=0,r=0;r<t.length;r++)n|=t[r]^e[r];return 1&n-1>>>8}Fe.compare=nn;function Bo(t,e){return t.length===0||e.length===0?!1:nn(t,e)!==0}Fe.equal=Bo});var sn=T(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var jo=Et(),gt=De();we.DIGEST_LENGTH=16;var on=function(){function t(e){this.digestLength=we.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=n&8191;var r=e[2]|e[3]<<8;this._r[1]=(n>>>13|r<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(r>>>10|i<<6)&7939;var o=e[6]|e[7]<<8;this._r[3]=(i>>>7|o<<9)&8191;var s=e[8]|e[9]<<8;this._r[4]=(o>>>4|s<<12)&255,this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(s>>>14|a<<2)&8191;var c=e[12]|e[13]<<8;this._r[7]=(a>>>11|c<<5)&8065;var u=e[14]|e[15]<<8;this._r[8]=(c>>>8|u<<8)&8191,this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,n,r){for(var i=this._fin?0:2048,o=this._h[0],s=this._h[1],a=this._h[2],c=this._h[3],u=this._h[4],l=this._h[5],h=this._h[6],b=this._h[7],f=this._h[8],d=this._h[9],D=this._r[0],E=this._r[1],v=this._r[2],O=this._r[3],g=this._r[4],_=this._r[5],S=this._r[6],x=this._r[7],w=this._r[8],y=this._r[9];r>=16;){var N=e[n+0]|e[n+1]<<8;o+=N&8191;var U=e[n+2]|e[n+3]<<8;s+=(N>>>13|U<<3)&8191;var q=e[n+4]|e[n+5]<<8;a+=(U>>>10|q<<6)&8191;var V=e[n+6]|e[n+7]<<8;c+=(q>>>7|V<<9)&8191;var K=e[n+8]|e[n+9]<<8;u+=(V>>>4|K<<12)&8191,l+=K>>>1&8191;var z=e[n+10]|e[n+11]<<8;h+=(K>>>14|z<<2)&8191;var H=e[n+12]|e[n+13]<<8;b+=(z>>>11|H<<5)&8191;var $=e[n+14]|e[n+15]<<8;f+=(H>>>8|$<<8)&8191,d+=$>>>5|i;var m=0,C=m;C+=o*D,C+=s*(5*y),C+=a*(5*w),C+=c*(5*x),C+=u*(5*S),m=C>>>13,C&=8191,C+=l*(5*_),C+=h*(5*g),C+=b*(5*O),C+=f*(5*v),C+=d*(5*E),m+=C>>>13,C&=8191;var Y=m;Y+=o*E,Y+=s*D,Y+=a*(5*y),Y+=c*(5*w),Y+=u*(5*x),m=Y>>>13,Y&=8191,Y+=l*(5*S),Y+=h*(5*_),Y+=b*(5*g),Y+=f*(5*O),Y+=d*(5*v),m+=Y>>>13,Y&=8191;var I=m;I+=o*v,I+=s*E,I+=a*D,I+=c*(5*y),I+=u*(5*w),m=I>>>13,I&=8191,I+=l*(5*x),I+=h*(5*S),I+=b*(5*_),I+=f*(5*g),I+=d*(5*O),m+=I>>>13,I&=8191;var R=m;R+=o*O,R+=s*v,R+=a*E,R+=c*D,R+=u*(5*y),m=R>>>13,R&=8191,R+=l*(5*w),R+=h*(5*x),R+=b*(5*S),R+=f*(5*_),R+=d*(5*g),m+=R>>>13,R&=8191;var P=m;P+=o*g,P+=s*O,P+=a*v,P+=c*E,P+=u*D,m=P>>>13,P&=8191,P+=l*(5*y),P+=h*(5*w),P+=b*(5*x),P+=f*(5*S),P+=d*(5*_),m+=P>>>13,P&=8191;var M=m;M+=o*_,M+=s*g,M+=a*O,M+=c*v,M+=u*E,m=M>>>13,M&=8191,M+=l*D,M+=h*(5*y),M+=b*(5*w),M+=f*(5*x),M+=d*(5*S),m+=M>>>13,M&=8191;var L=m;L+=o*S,L+=s*_,L+=a*g,L+=c*O,L+=u*v,m=L>>>13,L&=8191,L+=l*E,L+=h*D,L+=b*(5*y),L+=f*(5*w),L+=d*(5*x),m+=L>>>13,L&=8191;var F=m;F+=o*x,F+=s*S,F+=a*_,F+=c*g,F+=u*O,m=F>>>13,F&=8191,F+=l*v,F+=h*E,F+=b*D,F+=f*(5*y),F+=d*(5*w),m+=F>>>13,F&=8191;var B=m;B+=o*w,B+=s*x,B+=a*S,B+=c*_,B+=u*g,m=B>>>13,B&=8191,B+=l*O,B+=h*v,B+=b*E,B+=f*D,B+=d*(5*y),m+=B>>>13,B&=8191;var j=m;j+=o*y,j+=s*w,j+=a*x,j+=c*S,j+=u*_,m=j>>>13,j&=8191,j+=l*g,j+=h*O,j+=b*v,j+=f*E,j+=d*D,m+=j>>>13,j&=8191,m=(m<<2)+m|0,m=m+C|0,C=m&8191,m=m>>>13,Y+=m,o=C,s=Y,a=I,c=R,u=P,l=M,h=L,b=F,f=B,d=j,n+=16,r-=16}this._h[0]=o,this._h[1]=s,this._h[2]=a,this._h[3]=c,this._h[4]=u,this._h[5]=l,this._h[6]=h,this._h[7]=b,this._h[8]=f,this._h[9]=d},t.prototype.finish=function(e,n){n===void 0&&(n=0);var r=new Uint16Array(10),i,o,s,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,r[0]=this._h[0]+5,i=r[0]>>>13,r[0]&=8191,a=1;a<10;a++)r[a]=this._h[a]+i,i=r[a]>>>13,r[a]&=8191;for(r[9]-=8192,o=(i^1)-1,a=0;a<10;a++)r[a]&=o;for(o=~o,a=0;a<10;a++)this._h[a]=this._h[a]&o|r[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,s=this._h[0]+this._pad[0],this._h[0]=s&65535,a=1;a<8;a++)s=(this._h[a]+this._pad[a]|0)+(s>>>16)|0,this._h[a]=s&65535;return e[n+0]=this._h[0]>>>0,e[n+1]=this._h[0]>>>8,e[n+2]=this._h[1]>>>0,e[n+3]=this._h[1]>>>8,e[n+4]=this._h[2]>>>0,e[n+5]=this._h[2]>>>8,e[n+6]=this._h[3]>>>0,e[n+7]=this._h[3]>>>8,e[n+8]=this._h[4]>>>0,e[n+9]=this._h[4]>>>8,e[n+10]=this._h[5]>>>0,e[n+11]=this._h[5]>>>8,e[n+12]=this._h[6]>>>0,e[n+13]=this._h[6]>>>8,e[n+14]=this._h[7]>>>0,e[n+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var n=0,r=e.length,i;if(this._leftover){i=16-this._leftover,i>r&&(i=r);for(var o=0;o<i;o++)this._buffer[this._leftover+o]=e[n+o];if(r-=i,n+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(i=r-r%16,this._blocks(e,n,i),n+=i,r-=i),r){for(var o=0;o<r;o++)this._buffer[this._leftover+o]=e[n+o];this._leftover+=r}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return gt.wipe(this._buffer),gt.wipe(this._r),gt.wipe(this._h),gt.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();we.Poly1305=on;function Ho(t,e){var n=new on(t);n.update(e);var r=n.digest();return n.clean(),r}we.oneTimeAuth=Ho;function $o(t,e){return t.length!==we.DIGEST_LENGTH||e.length!==we.DIGEST_LENGTH?!1:jo.equal(t,e)}we.equal=$o});var cn=T(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});var _t=rn(),qo=sn(),Je=De(),an=Xe(),Vo=Et();ye.KEY_LENGTH=32;ye.NONCE_LENGTH=12;ye.TAG_LENGTH=16;var un=new Uint8Array(16),Ko=function(){function t(e){if(this.nonceLength=ye.NONCE_LENGTH,this.tagLength=ye.TAG_LENGTH,e.length!==ye.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,n,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var s=new Uint8Array(32);_t.stream(this._key,o,s,4);var a=n.length+this.tagLength,c;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(a);return _t.streamXOR(this._key,o,n,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),s,c.subarray(0,c.length-this.tagLength),r),Je.wipe(o),c},t.prototype.open=function(e,n,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(n.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var s=new Uint8Array(32);_t.stream(this._key,o,s,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,s,n.subarray(0,n.length-this.tagLength),r),!Vo.equal(a,n.subarray(n.length-this.tagLength,n.length)))return null;var c=n.length-this.tagLength,u;if(i){if(i.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(c);return _t.streamXOR(this._key,o,n.subarray(0,n.length-this.tagLength),u,4),Je.wipe(o),u},t.prototype.clean=function(){return Je.wipe(this._key),this},t.prototype._authenticate=function(e,n,r,i){var o=new qo.Poly1305(n);i&&(o.update(i),i.length%16>0&&o.update(un.subarray(i.length%16))),o.update(r),r.length%16>0&&o.update(un.subarray(r.length%16));var s=new Uint8Array(8);i&&an.writeUint64LE(i.length,s),o.update(s),an.writeUint64LE(r.length,s),o.update(s);for(var a=o.digest(),c=0;c<a.length;c++)e[c]=a[c];o.clean(),Je.wipe(a),Je.wipe(s)},t}();ye.ChaCha20Poly1305=Ko});var fn=T(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});function Wo(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Qt.isSerializableHash=Wo});var ln=T(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});var me=fn(),zo=Et(),Yo=De(),hn=function(){function t(e,n){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);n.length>this.blockSize?this._inner.update(n).finish(r).clean():r.set(n);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),me.isSerializableHash(this._inner)&&me.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Yo.wipe(r)}return t.prototype.reset=function(){if(!me.isSerializableHash(this._inner)||!me.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){me.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),me.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!me.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!me.isSerializableHash(this._inner)||!me.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!me.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Qe.HMAC=hn;function Go(t,e,n){var r=new hn(t,e);r.update(n);var i=r.digest();return r.clean(),i}Qe.hmac=Go;Qe.equal=zo.equal});var bn=T(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});var dn=ln(),pn=De(),ko=function(){function t(e,n,r,i){r===void 0&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var o=dn.hmac(this._hash,r,n);this._hmac=new dn.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var n=new Uint8Array(e),r=0;r<n.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),n[r]=this._buffer[this._bufpos++];return n},t.prototype.clean=function(){this._hmac.clean(),pn.wipe(this._buffer),pn.wipe(this._counter),this._bufpos=0},t}();Zt.HKDF=ko});var mn=T(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.BrowserRandomSource=void 0;var Dn=65536,er=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let n=new Uint8Array(e);for(let r=0;r<n.length;r+=Dn)this._crypto.getRandomValues(n.subarray(r,r+Math.min(n.length-r,Dn)));return n}};wt.BrowserRandomSource=er});var En=T(()=>{"use strict"});var gn=T(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.NodeRandomSource=void 0;var Xo=De(),tr=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Gr<"u"){let e=En();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=n[i];return(0,Xo.wipe)(n),r}};yt.NodeRandomSource=tr});var _n=T(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.SystemRandomSource=void 0;var Jo=mn(),Qo=gn(),rr=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Jo.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Qo.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};vt.SystemRandomSource=rr});var ir=T(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.randomStringForEntropy=ae.randomString=ae.randomUint32=ae.randomBytes=ae.defaultRandomSource=void 0;var Zo=_n(),es=Xe(),wn=De();ae.defaultRandomSource=new Zo.SystemRandomSource;function nr(t,e=ae.defaultRandomSource){return e.randomBytes(t)}ae.randomBytes=nr;function ts(t=ae.defaultRandomSource){let e=nr(4,t),n=(0,es.readUint32LE)(e);return(0,wn.wipe)(e),n}ae.randomUint32=ts;var yn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function vn(t,e=yn,n=ae.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let r="",i=e.length,o=256-256%i;for(;t>0;){let s=nr(Math.ceil(t*256/o),n);for(let a=0;a<s.length&&t>0;a++){let c=s[a];c<o&&(r+=e.charAt(c%i),t--)}(0,wn.wipe)(s)}return r}ae.randomString=vn;function rs(t,e=yn,n=ae.defaultRandomSource){let r=Math.ceil(t/(Math.log(e.length)/Math.LN2));return vn(r,e,n)}ae.randomStringForEntropy=rs});var xn=T(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var xt=Xe(),St=De();Ce.DIGEST_LENGTH=32;Ce.BLOCK_SIZE=64;var Sn=function(){function t(){this.digestLength=Ce.DIGEST_LENGTH,this.blockSize=Ce.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){St.wipe(this._buffer),St.wipe(this._temp),this.reset()},t.prototype.update=function(e,n){if(n===void 0&&(n=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(or(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=or(this._temp,this._state,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},t.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,r=this._bufferLength,i=n/536870912|0,o=n<<3,s=n%64<56?64:128;this._buffer[r]=128;for(var a=r+1;a<s-8;a++)this._buffer[a]=0;xt.writeUint32BE(i,this._buffer,s-8),xt.writeUint32BE(o,this._buffer,s-4),or(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)xt.writeUint32BE(this._state[a],e,a*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){St.wipe(e.state),e.buffer&&St.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Ce.SHA256=Sn;var ns=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function or(t,e,n,r,i){for(;i>=64;){for(var o=e[0],s=e[1],a=e[2],c=e[3],u=e[4],l=e[5],h=e[6],b=e[7],f=0;f<16;f++){var d=r+f*4;t[f]=xt.readUint32BE(n,d)}for(var f=16;f<64;f++){var D=t[f-2],E=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10;D=t[f-15];var v=(D>>>7|D<<25)^(D>>>18|D<<14)^D>>>3;t[f]=(E+t[f-7]|0)+(v+t[f-16]|0)}for(var f=0;f<64;f++){var E=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&h)|0)+(b+(ns[f]+t[f]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0;b=h,h=l,l=u,u=c+E|0,c=a,a=s,s=o,o=E+v|0}e[0]+=o,e[1]+=s,e[2]+=a,e[3]+=c,e[4]+=u,e[5]+=l,e[6]+=h,e[7]+=b,r+=64,i-=64}return r}function is(t){var e=new Sn;e.update(t);var n=e.digest();return e.clean(),n}Ce.hash=is});var An=T(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.sharedKey=G.generateKeyPair=G.generateKeyPairFromSeed=G.scalarMultBase=G.scalarMult=G.SHARED_KEY_LENGTH=G.SECRET_KEY_LENGTH=G.PUBLIC_KEY_LENGTH=void 0;var os=ir(),ss=De();G.PUBLIC_KEY_LENGTH=32;G.SECRET_KEY_LENGTH=32;G.SHARED_KEY_LENGTH=32;function Ee(t){let e=new Float64Array(16);if(t)for(let n=0;n<t.length;n++)e[n]=t[n];return e}var On=new Uint8Array(32);On[0]=9;var as=Ee([56129,1]);function sr(t){let e=1;for(let n=0;n<16;n++){let r=t[n]+e+65535;e=Math.floor(r/65536),t[n]=r-e*65536}t[0]+=e-1+37*(e-1)}function Ze(t,e,n){let r=~(n-1);for(let i=0;i<16;i++){let o=r&(t[i]^e[i]);t[i]^=o,e[i]^=o}}function us(t,e){let n=Ee(),r=Ee();for(let i=0;i<16;i++)r[i]=e[i];sr(r),sr(r),sr(r);for(let i=0;i<2;i++){n[0]=r[0]-65517;for(let s=1;s<15;s++)n[s]=r[s]-65535-(n[s-1]>>16&1),n[s-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);let o=n[15]>>16&1;n[14]&=65535,Ze(r,n,1-o)}for(let i=0;i<16;i++)t[2*i]=r[i]&255,t[2*i+1]=r[i]>>8}function cs(t,e){for(let n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function Ot(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]+n[r]}function Ct(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]-n[r]}function ve(t,e,n){let r,i,o=0,s=0,a=0,c=0,u=0,l=0,h=0,b=0,f=0,d=0,D=0,E=0,v=0,O=0,g=0,_=0,S=0,x=0,w=0,y=0,N=0,U=0,q=0,V=0,K=0,z=0,H=0,$=0,m=0,C=0,Y=0,I=n[0],R=n[1],P=n[2],M=n[3],L=n[4],F=n[5],B=n[6],j=n[7],Q=n[8],Z=n[9],ee=n[10],te=n[11],re=n[12],ne=n[13],ie=n[14],oe=n[15];r=e[0],o+=r*I,s+=r*R,a+=r*P,c+=r*M,u+=r*L,l+=r*F,h+=r*B,b+=r*j,f+=r*Q,d+=r*Z,D+=r*ee,E+=r*te,v+=r*re,O+=r*ne,g+=r*ie,_+=r*oe,r=e[1],s+=r*I,a+=r*R,c+=r*P,u+=r*M,l+=r*L,h+=r*F,b+=r*B,f+=r*j,d+=r*Q,D+=r*Z,E+=r*ee,v+=r*te,O+=r*re,g+=r*ne,_+=r*ie,S+=r*oe,r=e[2],a+=r*I,c+=r*R,u+=r*P,l+=r*M,h+=r*L,b+=r*F,f+=r*B,d+=r*j,D+=r*Q,E+=r*Z,v+=r*ee,O+=r*te,g+=r*re,_+=r*ne,S+=r*ie,x+=r*oe,r=e[3],c+=r*I,u+=r*R,l+=r*P,h+=r*M,b+=r*L,f+=r*F,d+=r*B,D+=r*j,E+=r*Q,v+=r*Z,O+=r*ee,g+=r*te,_+=r*re,S+=r*ne,x+=r*ie,w+=r*oe,r=e[4],u+=r*I,l+=r*R,h+=r*P,b+=r*M,f+=r*L,d+=r*F,D+=r*B,E+=r*j,v+=r*Q,O+=r*Z,g+=r*ee,_+=r*te,S+=r*re,x+=r*ne,w+=r*ie,y+=r*oe,r=e[5],l+=r*I,h+=r*R,b+=r*P,f+=r*M,d+=r*L,D+=r*F,E+=r*B,v+=r*j,O+=r*Q,g+=r*Z,_+=r*ee,S+=r*te,x+=r*re,w+=r*ne,y+=r*ie,N+=r*oe,r=e[6],h+=r*I,b+=r*R,f+=r*P,d+=r*M,D+=r*L,E+=r*F,v+=r*B,O+=r*j,g+=r*Q,_+=r*Z,S+=r*ee,x+=r*te,w+=r*re,y+=r*ne,N+=r*ie,U+=r*oe,r=e[7],b+=r*I,f+=r*R,d+=r*P,D+=r*M,E+=r*L,v+=r*F,O+=r*B,g+=r*j,_+=r*Q,S+=r*Z,x+=r*ee,w+=r*te,y+=r*re,N+=r*ne,U+=r*ie,q+=r*oe,r=e[8],f+=r*I,d+=r*R,D+=r*P,E+=r*M,v+=r*L,O+=r*F,g+=r*B,_+=r*j,S+=r*Q,x+=r*Z,w+=r*ee,y+=r*te,N+=r*re,U+=r*ne,q+=r*ie,V+=r*oe,r=e[9],d+=r*I,D+=r*R,E+=r*P,v+=r*M,O+=r*L,g+=r*F,_+=r*B,S+=r*j,x+=r*Q,w+=r*Z,y+=r*ee,N+=r*te,U+=r*re,q+=r*ne,V+=r*ie,K+=r*oe,r=e[10],D+=r*I,E+=r*R,v+=r*P,O+=r*M,g+=r*L,_+=r*F,S+=r*B,x+=r*j,w+=r*Q,y+=r*Z,N+=r*ee,U+=r*te,q+=r*re,V+=r*ne,K+=r*ie,z+=r*oe,r=e[11],E+=r*I,v+=r*R,O+=r*P,g+=r*M,_+=r*L,S+=r*F,x+=r*B,w+=r*j,y+=r*Q,N+=r*Z,U+=r*ee,q+=r*te,V+=r*re,K+=r*ne,z+=r*ie,H+=r*oe,r=e[12],v+=r*I,O+=r*R,g+=r*P,_+=r*M,S+=r*L,x+=r*F,w+=r*B,y+=r*j,N+=r*Q,U+=r*Z,q+=r*ee,V+=r*te,K+=r*re,z+=r*ne,H+=r*ie,$+=r*oe,r=e[13],O+=r*I,g+=r*R,_+=r*P,S+=r*M,x+=r*L,w+=r*F,y+=r*B,N+=r*j,U+=r*Q,q+=r*Z,V+=r*ee,K+=r*te,z+=r*re,H+=r*ne,$+=r*ie,m+=r*oe,r=e[14],g+=r*I,_+=r*R,S+=r*P,x+=r*M,w+=r*L,y+=r*F,N+=r*B,U+=r*j,q+=r*Q,V+=r*Z,K+=r*ee,z+=r*te,H+=r*re,$+=r*ne,m+=r*ie,C+=r*oe,r=e[15],_+=r*I,S+=r*R,x+=r*P,w+=r*M,y+=r*L,N+=r*F,U+=r*B,q+=r*j,V+=r*Q,K+=r*Z,z+=r*ee,H+=r*te,$+=r*re,m+=r*ne,C+=r*ie,Y+=r*oe,o+=38*S,s+=38*x,a+=38*w,c+=38*y,u+=38*N,l+=38*U,h+=38*q,b+=38*V,f+=38*K,d+=38*z,D+=38*H,E+=38*$,v+=38*m,O+=38*C,g+=38*Y,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=h+i+65535,i=Math.floor(r/65536),h=r-i*65536,r=b+i+65535,i=Math.floor(r/65536),b=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=D+i+65535,i=Math.floor(r/65536),D=r-i*65536,r=E+i+65535,i=Math.floor(r/65536),E=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=O+i+65535,i=Math.floor(r/65536),O=r-i*65536,r=g+i+65535,i=Math.floor(r/65536),g=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=h+i+65535,i=Math.floor(r/65536),h=r-i*65536,r=b+i+65535,i=Math.floor(r/65536),b=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=D+i+65535,i=Math.floor(r/65536),D=r-i*65536,r=E+i+65535,i=Math.floor(r/65536),E=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=O+i+65535,i=Math.floor(r/65536),O=r-i*65536,r=g+i+65535,i=Math.floor(r/65536),g=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=b,t[8]=f,t[9]=d,t[10]=D,t[11]=E,t[12]=v,t[13]=O,t[14]=g,t[15]=_}function et(t,e){ve(t,e,e)}function fs(t,e){let n=Ee();for(let r=0;r<16;r++)n[r]=e[r];for(let r=253;r>=0;r--)et(n,n),r!==2&&r!==4&&ve(n,n,e);for(let r=0;r<16;r++)t[r]=n[r]}function ar(t,e){let n=new Uint8Array(32),r=new Float64Array(80),i=Ee(),o=Ee(),s=Ee(),a=Ee(),c=Ee(),u=Ee();for(let f=0;f<31;f++)n[f]=t[f];n[31]=t[31]&127|64,n[0]&=248,cs(r,e);for(let f=0;f<16;f++)o[f]=r[f];i[0]=a[0]=1;for(let f=254;f>=0;--f){let d=n[f>>>3]>>>(f&7)&1;Ze(i,o,d),Ze(s,a,d),Ot(c,i,s),Ct(i,i,s),Ot(s,o,a),Ct(o,o,a),et(a,c),et(u,i),ve(i,s,i),ve(s,o,c),Ot(c,i,s),Ct(i,i,s),et(o,i),Ct(s,a,u),ve(i,s,as),Ot(i,i,a),ve(s,s,i),ve(i,a,u),ve(a,o,r),et(o,c),Ze(i,o,d),Ze(s,a,d)}for(let f=0;f<16;f++)r[f+16]=i[f],r[f+32]=s[f],r[f+48]=o[f],r[f+64]=a[f];let l=r.subarray(32),h=r.subarray(16);fs(l,l),ve(h,h,l);let b=new Uint8Array(32);return us(b,h),b}G.scalarMult=ar;function Cn(t){return ar(t,On)}G.scalarMultBase=Cn;function Nn(t){if(t.length!==G.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${G.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:Cn(e),secretKey:e}}G.generateKeyPairFromSeed=Nn;function hs(t){let e=(0,os.randomBytes)(32,t),n=Nn(e);return(0,ss.wipe)(e),n}G.generateKeyPair=hs;function ls(t,e,n=!1){if(t.length!==G.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==G.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let r=ar(t,e);if(n){let i=0;for(let o=0;o<r.length;o++)i|=r[o];if(i===0)throw new Error("X25519: invalid shared key")}return r}G.sharedKey=ls});var at={};he(at,{__assign:()=>Ur,__asyncDelegator:()=>Ya,__asyncGenerator:()=>za,__asyncValues:()=>Ga,__await:()=>st,__awaiter:()=>Ha,__classPrivateFieldGet:()=>Qa,__classPrivateFieldSet:()=>Za,__createBinding:()=>qa,__decorate:()=>Fa,__exportStar:()=>Va,__extends:()=>Ma,__generator:()=>$a,__importDefault:()=>Ja,__importStar:()=>Xa,__makeTemplateObject:()=>ka,__metadata:()=>ja,__param:()=>Ba,__read:()=>ti,__rest:()=>La,__spread:()=>Ka,__spreadArrays:()=>Wa,__values:()=>Tr});function Ma(t,e){Ar(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function La(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fa(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function Ba(t,e){return function(n,r){e(n,r,t)}}function ja(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ha(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function $a(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function qa(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Va(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Tr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ka(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ti(arguments[e]));return t}function Wa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function st(t){return this instanceof st?(this.v=t,this):new st(t)}function za(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(f){return new Promise(function(d,D){o.push([b,f,d,D])>1||a(b,f)})})}function a(b,f){try{c(r[b](f))}catch(d){h(o[0][3],d)}}function c(b){b.value instanceof st?Promise.resolve(b.value.v).then(u,l):h(o[0][2],b)}function u(b){a("next",b)}function l(b){a("throw",b)}function h(b,f){b(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ya(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:st(t[i](s)),done:i==="return"}:o?o(s):s}:o}}function Ga(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tr=="function"?Tr(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}function ka(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Xa(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ja(t){return t&&t.__esModule?t:{default:t}}function Qa(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Za(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var Ar,Ur,ut=no(()=>{"use strict";Ar=function(t,e){return Ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ar(t,e)};Ur=function(){return Ur=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ur.apply(this,arguments)}});var ri=T(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.delay=void 0;function eu(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Pt.delay=eu});var ni=T(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ONE_THOUSAND=Ve.ONE_HUNDRED=void 0;Ve.ONE_HUNDRED=100;Ve.ONE_THOUSAND=1e3});var ii=T(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.ONE_YEAR=p.FOUR_WEEKS=p.THREE_WEEKS=p.TWO_WEEKS=p.ONE_WEEK=p.THIRTY_DAYS=p.SEVEN_DAYS=p.FIVE_DAYS=p.THREE_DAYS=p.ONE_DAY=p.TWENTY_FOUR_HOURS=p.TWELVE_HOURS=p.SIX_HOURS=p.THREE_HOURS=p.ONE_HOUR=p.SIXTY_MINUTES=p.THIRTY_MINUTES=p.TEN_MINUTES=p.FIVE_MINUTES=p.ONE_MINUTE=p.SIXTY_SECONDS=p.THIRTY_SECONDS=p.TEN_SECONDS=p.FIVE_SECONDS=p.ONE_SECOND=void 0;p.ONE_SECOND=1;p.FIVE_SECONDS=5;p.TEN_SECONDS=10;p.THIRTY_SECONDS=30;p.SIXTY_SECONDS=60;p.ONE_MINUTE=p.SIXTY_SECONDS;p.FIVE_MINUTES=p.ONE_MINUTE*5;p.TEN_MINUTES=p.ONE_MINUTE*10;p.THIRTY_MINUTES=p.ONE_MINUTE*30;p.SIXTY_MINUTES=p.ONE_MINUTE*60;p.ONE_HOUR=p.SIXTY_MINUTES;p.THREE_HOURS=p.ONE_HOUR*3;p.SIX_HOURS=p.ONE_HOUR*6;p.TWELVE_HOURS=p.ONE_HOUR*12;p.TWENTY_FOUR_HOURS=p.ONE_HOUR*24;p.ONE_DAY=p.TWENTY_FOUR_HOURS;p.THREE_DAYS=p.ONE_DAY*3;p.FIVE_DAYS=p.ONE_DAY*5;p.SEVEN_DAYS=p.ONE_DAY*7;p.THIRTY_DAYS=p.ONE_DAY*30;p.ONE_WEEK=p.SEVEN_DAYS;p.TWO_WEEKS=p.ONE_WEEK*2;p.THREE_WEEKS=p.ONE_WEEK*3;p.FOUR_WEEKS=p.ONE_WEEK*4;p.ONE_YEAR=p.ONE_DAY*365});var Ir=T(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});var oi=(ut(),pt(at));oi.__exportStar(ni(),Mt);oi.__exportStar(ii(),Mt)});var ai=T(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.fromMiliseconds=Ke.toMiliseconds=void 0;var si=Ir();function tu(t){return t*si.ONE_THOUSAND}Ke.toMiliseconds=tu;function ru(t){return Math.floor(t/si.ONE_THOUSAND)}Ke.fromMiliseconds=ru});var ci=T(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var ui=(ut(),pt(at));ui.__exportStar(ri(),Lt);ui.__exportStar(ai(),Lt)});var fi=T(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.Watch=void 0;var Ft=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let n=this.get(e);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let r=Date.now()-n.started;this.timestamps.set(e,{started:n.started,elapsed:r})}get(e){let n=this.timestamps.get(e);if(typeof n>"u")throw new Error(`No timestamp found for label: ${e}`);return n}elapsed(e){let n=this.get(e);return n.elapsed||Date.now()-n.started}};ct.Watch=Ft;ct.default=Ft});var hi=T(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.IWatch=void 0;var Rr=class{};Bt.IWatch=Rr});var li=T(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});var nu=(ut(),pt(at));nu.__exportStar(hi(),Pr)});var di=T(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var jt=(ut(),pt(at));jt.__exportStar(ci(),We);jt.__exportStar(fi(),We);jt.__exportStar(li(),We);jt.__exportStar(Ir(),We)});var Mr=T(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.getLocalStorage=W.getLocalStorageOrThrow=W.getCrypto=W.getCryptoOrThrow=W.getLocation=W.getLocationOrThrow=W.getNavigator=W.getNavigatorOrThrow=W.getDocument=W.getDocumentOrThrow=W.getFromWindowOrThrow=W.getFromWindow=void 0;function Pe(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}W.getFromWindow=Pe;function ze(t){let e=Pe(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}W.getFromWindowOrThrow=ze;function iu(){return ze("document")}W.getDocumentOrThrow=iu;function ou(){return Pe("document")}W.getDocument=ou;function su(){return ze("navigator")}W.getNavigatorOrThrow=su;function au(){return Pe("navigator")}W.getNavigator=au;function uu(){return ze("location")}W.getLocationOrThrow=uu;function cu(){return Pe("location")}W.getLocation=cu;function fu(){return ze("crypto")}W.getCryptoOrThrow=fu;function hu(){return Pe("crypto")}W.getCrypto=hu;function lu(){return ze("localStorage")}W.getLocalStorageOrThrow=lu;function du(){return Pe("localStorage")}W.getLocalStorage=du});var bi=T(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.getWindowMetadata=void 0;var pi=Mr();function pu(){let t,e;try{t=pi.getDocumentOrThrow(),e=pi.getLocationOrThrow()}catch{return null}function n(){let h=t.getElementsByTagName("link"),b=[];for(let f=0;f<h.length;f++){let d=h[f],D=d.getAttribute("rel");if(D&&D.toLowerCase().indexOf("icon")>-1){let E=d.getAttribute("href");if(E)if(E.toLowerCase().indexOf("https:")===-1&&E.toLowerCase().indexOf("http:")===-1&&E.indexOf("//")!==0){let v=e.protocol+"//"+e.host;if(E.indexOf("/")===0)v+=E;else{let O=e.pathname.split("/");O.pop();let g=O.join("/");v+=g+"/"+E}b.push(v)}else if(E.indexOf("//")===0){let v=e.protocol+E;b.push(v)}else b.push(E)}}return b}function r(...h){let b=t.getElementsByTagName("meta");for(let f=0;f<b.length;f++){let d=b[f],D=["itemprop","property","name"].map(E=>d.getAttribute(E)).filter(E=>E?h.includes(E):!1);if(D.length&&D){let E=d.getAttribute("content");if(E)return E}}return""}function i(){let h=r("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function o(){return r("description","og:description","twitter:description","keywords")}let s=i(),a=o(),c=e.origin,u=n();return{description:a,url:c,icons:u,name:s}}Ht.getWindowMetadata=pu});var mi=T((hh,Di)=>{"use strict";Di.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var yi=T((lh,wi)=>{"use strict";var _i="%[a-f0-9]{2}",Ei=new RegExp("("+_i+")|([^%]+?)","gi"),gi=new RegExp("("+_i+")+","gi");function Lr(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Lr(n),Lr(r))}function bu(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Ei)||[],n=1;n<e.length;n++)t=Lr(e,n).join(""),e=t.match(Ei)||[];return t}}function Du(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=gi.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=bu(n[0]);r!==n[0]&&(e[n[0]]=r)}n=gi.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),o=0;o<i.length;o++){var s=i[o];t=t.replace(new RegExp(s,"g"),e[s])}return t}wi.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Du(t)}}});var Si=T((dh,vi)=>{"use strict";vi.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]}});var Oi=T((ph,xi)=>{"use strict";xi.exports=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),o=0;o<r.length;o++){var s=r[o],a=t[s];(i?e.indexOf(s)!==-1:e(s,a,t))&&(n[s]=a)}return n}});var Pi=T(ue=>{"use strict";var mu=mi(),Eu=yi(),Ni=Si(),gu=Oi(),_u=t=>t==null,Fr=Symbol("encodeFragmentIdentifier");function wu(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{let i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[X(e,t),"[",i,"]"].join("")]:[...n,[X(e,t),"[",X(i,t),"]=",X(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[X(e,t),"[]"].join("")]:[...n,[X(e,t),"[]=",X(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[X(e,t),":list="].join("")]:[...n,[X(e,t),":list=",X(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[X(n,t),e,X(i,t)].join("")]:[[r,X(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,X(e,t)]:[...n,[X(e,t),"=",X(r,t)].join("")]}}function yu(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[].concat(i[n],r)};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[].concat(i[n],r)};case"comma":case"separator":return(n,r,i)=>{let o=typeof r=="string"&&r.includes(t.arrayFormatSeparator),s=typeof r=="string"&&!o&&xe(r,t).includes(t.arrayFormatSeparator);r=s?xe(r,t):r;let a=o||s?r.split(t.arrayFormatSeparator).map(c=>xe(c,t)):r===null?r:xe(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{let o=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!o){i[n]=r&&xe(r,t);return}let s=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>xe(a,t));if(i[n]===void 0){i[n]=s;return}i[n]=[].concat(i[n],s)};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[].concat(i[n],r)}}}function Ai(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function X(t,e){return e.encode?e.strict?mu(t):encodeURIComponent(t):t}function xe(t,e){return e.decode?Eu(t):t}function Ui(t){return Array.isArray(t)?t.sort():typeof t=="object"?Ui(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function Ti(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function vu(t){let e="",n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function Ii(t){t=Ti(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function Ci(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function Ri(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),Ai(e.arrayFormatSeparator);let n=yu(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(let i of t.split("&")){if(i==="")continue;let[o,s]=Ni(e.decode?i.replace(/\+/g," "):i,"=");s=s===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?s:xe(s,e),n(xe(o,e),s,r)}for(let i of Object.keys(r)){let o=r[i];if(typeof o=="object"&&o!==null)for(let s of Object.keys(o))o[s]=Ci(o[s],e);else r[i]=Ci(o,e)}return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,o)=>{let s=r[o];return s&&typeof s=="object"&&!Array.isArray(s)?i[o]=Ui(s):i[o]=s,i},Object.create(null))}ue.extract=Ii;ue.parse=Ri;ue.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),Ai(e.arrayFormatSeparator);let n=s=>e.skipNull&&_u(t[s])||e.skipEmptyString&&t[s]==="",r=wu(e),i={};for(let s of Object.keys(t))n(s)||(i[s]=t[s]);let o=Object.keys(i);return e.sort!==!1&&o.sort(e.sort),o.map(s=>{let a=t[s];return a===void 0?"":a===null?X(s,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?X(s,e)+"[]":a.reduce(r(s),[]).join("&"):X(s,e)+"="+X(a,e)}).filter(s=>s.length>0).join("&")};ue.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[n,r]=Ni(t,"#");return Object.assign({url:n.split("?")[0]||"",query:Ri(Ii(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:xe(r,e)}:{})};ue.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[Fr]:!0},e);let n=Ti(t.url).split("?")[0]||"",r=ue.extract(t.url),i=ue.parse(r,{sort:!1}),o=Object.assign(i,t.query),s=ue.stringify(o,e);s&&(s=`?${s}`);let a=vu(t.url);return t.fragmentIdentifier&&(a=`#${e[Fr]?X(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${n}${s}${a}`};ue.pick=(t,e,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[Fr]:!1},n);let{url:r,query:i,fragmentIdentifier:o}=ue.parseUrl(t,n);return ue.stringifyUrl({url:r,query:gu(i,e),fragmentIdentifier:o},n)};ue.exclude=(t,e,n)=>{let r=Array.isArray(e)?i=>!e.includes(i):(i,o)=>!e(i,o);return ue.pick(t,r,n)}});var qr=_e(cn()),Yi=_e(bn()),Vr=_e(ir()),ft=_e(xn()),qt=_e(An());function Ie(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function tt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ie(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Nt(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));let n=tt(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return Ie(n)}var lr={};he(lr,{identity:()=>Es});function ds(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var D=0,E=0,v=0,O=d.length;v!==O&&d[v]===0;)v++,D++;for(var g=(O-v)*l+1>>>0,_=new Uint8Array(g);v!==O;){for(var S=d[v],x=0,w=g-1;(S!==0||x<E)&&w!==-1;w--,x++)S+=256*_[w]>>>0,_[w]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");E=x,v++}for(var y=g-E;y!==g&&_[y]===0;)y++;for(var N=c.repeat(D);y<g;++y)N+=t.charAt(_[y]);return N}function b(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var D=0;if(d[D]!==" "){for(var E=0,v=0;d[D]===c;)E++,D++;for(var O=(d.length-D)*u+1>>>0,g=new Uint8Array(O);d[D];){var _=n[d.charCodeAt(D)];if(_===255)return;for(var S=0,x=O-1;(_!==0||S<v)&&x!==-1;x--,S++)_+=a*g[x]>>>0,g[x]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=S,D++}if(d[D]!==" "){for(var w=O-v;w!==O&&g[w]===0;)w++;for(var y=new Uint8Array(E+(O-w)),N=E;w!==O;)y[N++]=g[w++];return y}}}function f(d){var D=b(d);if(D)return D;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:b,decode:f}}var ps=ds,bs=ps,Un=bs;var Gc=new Uint8Array(0);var Tn=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},Se=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var In=t=>new TextEncoder().encode(t),Rn=t=>new TextDecoder().decode(t);var ur=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},cr=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Mn(this,e)}},fr=class{constructor(e){this.decoders=e}or(e){return Mn(this,e)}decode(e){let n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Mn=(t,e)=>new fr(J(J({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e})),hr=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new ur(e,n,r),this.decoder=new cr(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Be=({name:t,prefix:e,encode:n,decode:r})=>new hr(t,e,n,r),Ne=({prefix:t,name:e,alphabet:n})=>{let{encode:r,decode:i}=Un(n,e);return Be({prefix:t,name:e,encode:r,decode:o=>Se(i(o))})},Ds=(t,e,n,r)=>{let i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*n/8|0),a=0,c=0,u=0;for(let l=0;l<o;++l){let h=i[t[l]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},ms=(t,e,n)=>{let r=e[e.length-1]==="=",i=(1<<n)-1,o="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>n;)s-=n,o+=e[i&a>>s];if(s&&(o+=e[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},k=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Be({prefix:e,name:t,encode(i){return ms(i,r,n)},decode(i){return Ds(i,r,n,t)}});var Es=Be({prefix:"\0",name:"identity",encode:t=>Rn(t),decode:t=>In(t)});var dr={};he(dr,{base2:()=>gs});var gs=k({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pr={};he(pr,{base8:()=>_s});var _s=k({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var br={};he(br,{base10:()=>ws});var ws=Ne({prefix:"9",name:"base10",alphabet:"0123456789"});var Dr={};he(Dr,{base16:()=>ys,base16upper:()=>vs});var ys=k({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vs=k({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var mr={};he(mr,{base32:()=>je,base32hex:()=>Cs,base32hexpad:()=>As,base32hexpadupper:()=>Us,base32hexupper:()=>Ns,base32pad:()=>xs,base32padupper:()=>Os,base32upper:()=>Ss,base32z:()=>Ts});var je=k({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ss=k({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xs=k({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Os=k({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Cs=k({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ns=k({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),As=k({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Us=k({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ts=k({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Er={};he(Er,{base36:()=>Is,base36upper:()=>Rs});var Is=Ne({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rs=Ne({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gr={};he(gr,{base58btc:()=>ge,base58flickr:()=>Ps});var ge=Ne({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ps=Ne({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _r={};he(_r,{base64:()=>Ms,base64pad:()=>Ls,base64url:()=>Fs,base64urlpad:()=>Bs});var Ms=k({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ls=k({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fs=k({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bs=k({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wr={};he(wr,{base256emoji:()=>Vs});var Ln=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),js=Ln.reduce((t,e,n)=>(t[n]=e,t),[]),Hs=Ln.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function $s(t){return t.reduce((e,n)=>(e+=js[n],e),"")}function qs(t){let e=[];for(let n of t){let r=Hs[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}var Vs=Be({prefix:"\u{1F680}",name:"base256emoji",encode:$s,decode:qs});var xr={};he(xr,{sha256:()=>ua,sha512:()=>ca});var Ks=jn,Fn=128,Ws=127,zs=~Ws,Ys=Math.pow(2,31);function jn(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Ys;)e[n++]=t&255|Fn,t/=128;for(;t&zs;)e[n++]=t&255|Fn,t>>>=7;return e[n]=t|0,jn.bytes=n-r+1,e}var Gs=yr,ks=128,Bn=127;function yr(t,r){var n=0,r=r||0,i=0,o=r,s,a=t.length;do{if(o>=a)throw yr.bytes=0,new RangeError("Could not decode varint");s=t[o++],n+=i<28?(s&Bn)<<i:(s&Bn)*Math.pow(2,i),i+=7}while(s>=ks);return yr.bytes=o-r,n}var Xs=Math.pow(2,7),Js=Math.pow(2,14),Qs=Math.pow(2,21),Zs=Math.pow(2,28),ea=Math.pow(2,35),ta=Math.pow(2,42),ra=Math.pow(2,49),na=Math.pow(2,56),ia=Math.pow(2,63),oa=function(t){return t<Xs?1:t<Js?2:t<Qs?3:t<Zs?4:t<ea?5:t<ta?6:t<ra?7:t<na?8:t<ia?9:10},sa={encode:Ks,decode:Gs,encodingLength:oa},aa=sa,rt=aa;var nt=(t,e=0)=>[rt.decode(t,e),rt.decode.bytes],He=(t,e,n=0)=>(rt.encode(t,e,n),e),$e=t=>rt.encodingLength(t);var Re=(t,e)=>{let n=e.byteLength,r=$e(t),i=r+$e(n),o=new Uint8Array(i+n);return He(t,o,0),He(n,o,r),o.set(e,i),new qe(t,n,e,o)},Hn=t=>{let e=Se(t),[n,r]=nt(e),[i,o]=nt(e.subarray(r)),s=e.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new qe(n,i,s,e)},$n=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Tn(t.bytes,e.bytes),qe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};var Sr=({name:t,code:e,encode:n})=>new vr(t,e,n),vr=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?Re(this.code,n):n.then(r=>Re(this.code,r))}else throw Error("Unknown type, must be binary type")}};var Vn=t=>e=>Te(void 0,null,function*(){return new Uint8Array(yield crypto.subtle.digest(t,e))}),ua=Sr({name:"sha2-256",code:18,encode:Vn("SHA-256")}),ca=Sr({name:"sha2-512",code:19,encode:Vn("SHA-512")});var Or={};he(Or,{identity:()=>la});var Kn=0,fa="identity",Wn=Se,ha=t=>Re(Kn,Wn(t)),la={code:Kn,name:fa,encode:Wn,digest:ha};var Ef=new TextEncoder,gf=new TextDecoder;var It=class t{constructor(e,n,r,i){this.code=n,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Tt,byteLength:Tt,code:Ut,version:Ut,multihash:Ut,bytes:Ut,_baseCache:Tt,asCID:Tt})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:n}=this;if(e!==ot)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Ea)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(n)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:n}=this.multihash,r=Re(e,n);return t.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&$n(this.multihash,e.multihash)}toString(e){let{bytes:n,version:r,_baseCache:i}=this;switch(r){case 0:return Da(n,i,e||ge.encoder);default:return ma(n,i,e||je.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return _a(/^0\.0/,wa),!!(e&&(e[Yn]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:n,code:r,multihash:i,bytes:o}=e;return new t(n,r,i,o||zn(n,r,i.bytes))}else if(e!=null&&e[Yn]===!0){let{version:n,multihash:r,code:i}=e,o=Hn(r);return t.create(n,i,o)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(n!==ot)throw new Error(`Version 0 CID must use dag-pb (code: ${ot}) block encoding`);return new t(e,n,r,r.bytes)}case 1:{let i=zn(e,n,r.bytes);return new t(e,n,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,ot,e)}static createV1(e,n){return t.create(1,e,n)}static decode(e){let[n,r]=t.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){let n=t.inspectBytes(e),r=n.size-n.multihashSize,i=Se(e.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");let o=i.subarray(n.multihashSize-n.digestSize),s=new qe(n.multihashCode,n.digestSize,o,i);return[n.version===0?t.createV0(s):t.createV1(n.codec,s),e.subarray(n.size)]}static inspectBytes(e){let n=0,r=()=>{let[h,b]=nt(e.subarray(n));return n+=b,h},i=r(),o=ot;if(i===18?(i=0,n=0):i===1&&(o=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=n,a=r(),c=r(),u=n+c,l=u-s;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:l,size:u}}static parse(e,n){let[r,i]=ba(e,n),o=t.decode(i);return o._baseCache.set(r,e),o}},ba=(t,e)=>{switch(t[0]){case"Q":{let n=e||ge;return[ge.prefix,n.decode(`${ge.prefix}${t}`)]}case ge.prefix:{let n=e||ge;return[ge.prefix,n.decode(t)]}case je.prefix:{let n=e||je;return[je.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Da=(t,e,n)=>{let{prefix:r}=n;if(r!==ge.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let i=e.get(r);if(i==null){let o=n.encode(t).slice(1);return e.set(r,o),o}else return i},ma=(t,e,n)=>{let{prefix:r}=n,i=e.get(r);if(i==null){let o=n.encode(t);return e.set(r,o),o}else return i},ot=112,Ea=18,zn=(t,e,n)=>{let r=$e(t),i=r+$e(e),o=new Uint8Array(i+n.byteLength);return He(t,o,0),He(e,o,r),o.set(n,i),o},Yn=Symbol.for("@ipld/js-cid/CID"),Ut={writable:!1,configurable:!1,enumerable:!0},Tt={writable:!1,enumerable:!1,configurable:!1},ga="0.0.0-dev",_a=(t,e)=>{if(t.test(ga))console.warn(e);else throw new Error(e)},wa=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Cr=J(J(J(J(J(J(J(J(J(J({},lr),dr),pr),br),Dr),mr),Er),gr),_r),wr),Cf=J(J({},xr),Or);function kn(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}var Gn=kn("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Nr=kn("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);let e=tt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ya=J({utf8:Gn,"utf-8":Gn,hex:Cr.base16,latin1:Nr,ascii:Nr,binary:Nr},Cr),Rt=ya;function de(t,e="utf8"){let n=Rt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ie(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function pe(t,e="utf8"){let n=Rt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var Xn=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},va=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}();var Sa=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}();var xa=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}();var Oa=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();var Ca=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();var Na=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Aa=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Jn=3,Ua=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Na]],Qn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ei(t){return t?Zn(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Ca:typeof navigator<"u"?Zn(navigator.userAgent):Ra()}function Ta(t){return t!==""&&Ua.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]},!1)}function Zn(t){var e=Ta(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Oa;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Jn&&(i=Xn(Xn([],i,!0),Pa(Jn-i.length),!0)):i=[];var o=i.join("."),s=Ia(t),a=Aa.exec(t);return a&&a[1]?new xa(n,o,s,a[1]):new va(n,o,s)}function Ia(t){for(var e=0,n=Qn.length;e<n;e++){var r=Qn[e],i=r[0],o=r[1],s=o.exec(t);if(s)return i}return null}function Ra(){var t=typeof process<"u"&&process.version;return t?new Sa(process.version.slice(1)):null}function Pa(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Oe=_e(di()),Ue=_e(Mr()),Gi=_e(bi()),Ge=_e(Pi());var Mi={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var Su=":";function qh(t){let[e,n]=t.split(Su);return{namespace:e,reference:n}}function Vh(t,e=[]){let n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;let i=t[r];n.push(...i.accounts)}),n}function ki(t,e){return t.includes(":")?[t]:e.chains||[]}var Xi="base10",fe="base16",Hr="base64pad",Kr="utf8",Ji=0,ht=1,xu=0,Li=1,$r=12,Wr=32;function Kh(){let t=qt.generateKeyPair();return{privateKey:pe(t.secretKey,fe),publicKey:pe(t.publicKey,fe)}}function Wh(){let t=(0,Vr.randomBytes)(Wr);return pe(t,fe)}function zh(t,e){let n=qt.sharedKey(de(t,fe),de(e,fe),!0),r=new Yi.HKDF(ft.SHA256,n).expand(Wr);return pe(r,fe)}function Yh(t){let e=(0,ft.hash)(de(t,fe));return pe(e,fe)}function Gh(t){let e=(0,ft.hash)(de(t,Kr));return pe(e,fe)}function Ou(t){return de(`${t}`,Xi)}function Vt(t){return Number(pe(t,Xi))}function kh(t){let e=Ou(typeof t.type<"u"?t.type:Ji);if(Vt(e)===ht&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let n=typeof t.senderPublicKey<"u"?de(t.senderPublicKey,fe):void 0,r=typeof t.iv<"u"?de(t.iv,fe):(0,Vr.randomBytes)($r),i=new qr.ChaCha20Poly1305(de(t.symKey,fe)).seal(r,de(t.message,Kr));return Cu({type:e,sealed:i,iv:r,senderPublicKey:n})}function Xh(t){let e=new qr.ChaCha20Poly1305(de(t.symKey,fe)),{sealed:n,iv:r}=Qi(t.encoded),i=e.open(r,n);if(i===null)throw new Error("Failed to decrypt");return pe(i,Kr)}function Cu(t){if(Vt(t.type)===ht){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return pe(Nt([t.type,t.senderPublicKey,t.iv,t.sealed]),Hr)}return pe(Nt([t.type,t.iv,t.sealed]),Hr)}function Qi(t){let e=de(t,Hr),n=e.slice(xu,Li),r=Li;if(Vt(n)===ht){let a=r+Wr,c=a+$r,u=e.slice(r,a),l=e.slice(a,c),h=e.slice(c);return{type:n,sealed:h,iv:l,senderPublicKey:u}}let i=r+$r,o=e.slice(r,i),s=e.slice(i);return{type:n,sealed:s,iv:o}}function Jh(t,e){let n=Qi(t);return Nu({type:Vt(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?pe(n.senderPublicKey,fe):void 0,receiverPublicKey:e?.receiverPublicKey})}function Nu(t){let e=t?.type||Ji;if(e===ht){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Qh(t){return t.type===ht&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var Au=Object.defineProperty,Fi=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Tu=Object.prototype.propertyIsEnumerable,Bi=(t,e,n)=>e in t?Au(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ji=(t,e)=>{for(var n in e||(e={}))Uu.call(e,n)&&Bi(t,n,e[n]);if(Fi)for(var n of Fi(e))Tu.call(e,n)&&Bi(t,n,e[n]);return t},Iu="ReactNative",ce={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};var Ru="js";function Zi(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function lt(){return!(0,Ue.getDocument)()&&!!(0,Ue.getNavigator)()&&navigator.product===Iu}function Kt(){return!Zi()&&!!(0,Ue.getNavigator)()&&!!(0,Ue.getDocument)()}function dt(){return lt()?ce.reactNative:Zi()?ce.node:Kt()?ce.browser:ce.unknown}function Zh(){var t;try{return lt()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Pu(t,e){let n=Ge.parse(t);return n=ji(ji({},n),e),t=Ge.stringify(n),t}function el(){return(0,Gi.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function Mu(){if(dt()===ce.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:n,Version:r}=global.Platform;return[n,r].join("-")}let t=ei();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Lu(){var t;let e=dt();return e===ce.browser?[e,((t=(0,Ue.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function Fu(t,e,n){let r=Mu(),i=Lu();return[[t,e].join("-"),[Ru,n].join("-"),r,i].join("/")}function tl({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:o,useOnCloseEvent:s,bundleId:a}){let c=n.split("?"),u=Fu(t,e,r),l={auth:i,ua:u,projectId:o,useOnCloseEvent:s||void 0,origin:a||void 0},h=Pu(c[1]||"",l);return c[0]+"?"+h}function Me(t,e){return t.filter(n=>e.includes(n)).length===t.length}function rl(t){return Object.fromEntries(t.entries())}function nl(t){return new Map(Object.entries(t))}function il(t=Oe.FIVE_MINUTES,e){let n=(0,Oe.toMiliseconds)(t||Oe.FIVE_MINUTES),r,i,o;return{resolve:s=>{o&&r&&(clearTimeout(o),r(s))},reject:s=>{o&&i&&(clearTimeout(o),i(s))},done:()=>new Promise((s,a)=>{o=setTimeout(()=>{a(new Error(e))},n),r=s,i=a})}}function ol(t,e,n){return new Promise((r,i)=>Te(this,null,function*(){let o=setTimeout(()=>i(new Error(n)),e);try{let s=yield t;r(s)}catch(s){i(s)}clearTimeout(o)}))}function eo(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function sl(t){return eo("topic",t)}function al(t){return eo("id",t)}function ul(t){let[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function cl(t,e){return(0,Oe.fromMiliseconds)((e||Date.now())+(0,Oe.toMiliseconds)(t))}function fl(t){return Date.now()>=(0,Oe.toMiliseconds)(t)}function hl(t,e){return`${t}${e?`:${e}`:""}`}function Br(t=[],e=[]){return[...new Set([...t,...e])]}function ll(r){return Te(this,arguments,function*({id:t,topic:e,wcDeepLink:n}){try{if(!n)return;let o=(typeof n=="string"?JSON.parse(n):n)?.href;if(typeof o!="string")return;o.endsWith("/")&&(o=o.slice(0,-1));let s=`${o}/wc?requestId=${t}&sessionTopic=${e}`,a=dt();a===ce.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):a===ce.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&(yield global.Linking.openURL(s))}catch(i){console.error(i)}})}function dl(t,e){return Te(this,null,function*(){try{return(yield t.getItem(e))||(Kt()?localStorage.getItem(e):void 0)}catch(n){console.error(n)}})}var Bu="irn";function pl(t){return t?.relay||{protocol:Bu}}function bl(t){let e=Mi[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var ju=Object.defineProperty,Hi=Object.getOwnPropertySymbols,Hu=Object.prototype.hasOwnProperty,$u=Object.prototype.propertyIsEnumerable,$i=(t,e,n)=>e in t?ju(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qu=(t,e)=>{for(var n in e||(e={}))Hu.call(e,n)&&$i(t,n,e[n]);if(Hi)for(var n of Hi(e))$u.call(e,n)&&$i(t,n,e[n]);return t};function Vu(t,e="-"){let n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){let o=i.replace(r,""),s=t[i];n[o]=s}}),n}function Dl(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),o=typeof n<"u"?t.substring(n):"",s=Ge.parse(o);return{protocol:r,topic:Ku(i[0]),version:parseInt(i[1],10),symKey:s.symKey,relay:Vu(s)}}function Ku(t){return t.startsWith("//")?t.substring(2):t}function Wu(t,e="-"){let n="relay",r={};return Object.keys(t).forEach(i=>{let o=n+e+i;t[i]&&(r[o]=t[i])}),r}function ml(t){return`${t.protocol}:${t.topic}@${t.version}?`+Ge.stringify(qu({symKey:t.symKey},Wu(t.relay)))}var zu=Object.defineProperty,Yu=Object.defineProperties,Gu=Object.getOwnPropertyDescriptors,qi=Object.getOwnPropertySymbols,ku=Object.prototype.hasOwnProperty,Xu=Object.prototype.propertyIsEnumerable,Vi=(t,e,n)=>e in t?zu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ju=(t,e)=>{for(var n in e||(e={}))ku.call(e,n)&&Vi(t,n,e[n]);if(qi)for(var n of qi(e))Xu.call(e,n)&&Vi(t,n,e[n]);return t},Qu=(t,e)=>Yu(t,Gu(e));function ke(t){let e=[];return t.forEach(n=>{let[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Zu(t){let e=[];return Object.values(t).forEach(n=>{e.push(...ke(n.accounts))}),e}function ec(t,e){let n=[];return Object.values(t).forEach(r=>{ke(r.accounts).includes(e)&&n.push(...r.methods)}),n}function tc(t,e){let n=[];return Object.values(t).forEach(r=>{ke(r.accounts).includes(e)&&n.push(...r.events)}),n}function El(t,e){let n=hc(t,e);if(n)throw new Error(n.message);let r={};for(let[i,o]of Object.entries(t))r[i]={methods:o.methods,events:o.events,chains:o.accounts.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)};return r}function to(t){return t.includes(":")}function rc(t){return to(t)?t.split(":")[0]:t}function gl(t){var e,n,r;let i={};if(!zr(t))return i;for(let[o,s]of Object.entries(t)){let a=to(o)?[o]:s.chains,c=s.methods||[],u=s.events||[],l=rc(o);i[l]=Qu(Ju({},i[l]),{chains:Br(a,(e=i[l])==null?void 0:e.chains),methods:Br(c,(n=i[l])==null?void 0:n.methods),events:Br(u,(r=i[l])==null?void 0:r.events)})}return i}var nc={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ic={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ae(t,e){let{message:n,code:r}=ic[t];return{message:e?`${n} ${e}`:n,code:r}}function Ye(t,e){let{message:n,code:r}=nc[t];return{message:e?`${n} ${e}`:n,code:r}}function Wt(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function zr(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Le(t){return typeof t>"u"}function be(t,e){return e&&Le(t)?!0:typeof t=="string"&&!!t.trim().length}function Yr(t,e){return e&&Le(t)?!0:typeof t=="number"&&!isNaN(t)}function _l(t,e){let{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n),o=!0;return Me(i,r)?(r.forEach(s=>{let{accounts:a,methods:c,events:u}=t.namespaces[s],l=ke(a),h=n[s];(!Me(ki(s,h),l)||!Me(h.methods,c)||!Me(h.events,u))&&(o=!1)}),o):!1}function $t(t){return be(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function oc(t){if(be(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let n=e[0]+":"+e[1];return!!e[2]&&$t(n)}}return!1}function wl(t){if(be(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function yl(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function vl(t){return t?.topic}function Sl(t,e){let n=null;return be(t?.publicKey,!1)||(n=Ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function Ki(t){let e=!0;return Wt(t)?t.length&&(e=t.every(n=>be(n,!1))):e=!1,e}function sc(t,e,n){let r=null;return Wt(e)&&e.length?e.forEach(i=>{r||$t(i)||(r=Ye("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):$t(t)||(r=Ye("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function ac(t,e,n){let r=null;return Object.entries(t).forEach(([i,o])=>{if(r)return;let s=sc(i,ki(i,o),`${e} ${n}`);s&&(r=s)}),r}function uc(t,e){let n=null;return Wt(t)?t.forEach(r=>{n||oc(r)||(n=Ye("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ye("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function cc(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;let i=uc(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function fc(t,e){let n=null;return Ki(t?.methods)?Ki(t?.events)||(n=Ye("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Ye("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function ro(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;let i=fc(r,`${e}, namespace`);i&&(n=i)}),n}function xl(t,e,n){let r=null;if(t&&zr(t)){let i=ro(t,e);i&&(r=i);let o=ac(t,e,n);o&&(r=o)}else r=Ae("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function hc(t,e){let n=null;if(t&&zr(t)){let r=ro(t,e);r&&(n=r);let i=cc(t,e);i&&(n=i)}else n=Ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function lc(t){return be(t.protocol,!0)}function Ol(t,e){let n=!1;return e&&!t?n=!0:t&&Wt(t)&&t.length&&t.forEach(r=>{n=lc(r)}),n}function Cl(t){return typeof t=="number"}function Nl(t){return typeof t<"u"&&typeof t!==null}function Al(t){return!(!t||typeof t!="object"||!t.code||!Yr(t.code,!1)||!t.message||!be(t.message,!1))}function Ul(t){return!(Le(t)||!be(t.method,!1))}function Tl(t){return!(Le(t)||Le(t.result)&&Le(t.error)||!Yr(t.id,!1)||!be(t.jsonrpc,!1))}function Il(t){return!(Le(t)||!be(t.name,!1))}function Rl(t,e){return!(!$t(e)||!Zu(t).includes(e))}function Pl(t,e,n){return be(n,!1)?ec(t,e).includes(n):!1}function Ml(t,e,n){return be(n,!1)?tc(t,e).includes(n):!1}function Ll(t,e,n){let r=null,i=dc(t),o=pc(e),s=Object.keys(i),a=Object.keys(o),c=Wi(Object.keys(t)),u=Wi(Object.keys(e)),l=c.filter(h=>!u.includes(h));return l.length&&(r=Ae("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),Me(s,a)||(r=Ae("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;let b=ke(e[h].accounts);b.includes(h)||(r=Ae("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${b.toString()}`))}),s.forEach(h=>{r||(Me(i[h].methods,o[h].methods)?Me(i[h].events,o[h].events)||(r=Ae("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=Ae("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function dc(t){let e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function Wi(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function pc(t){let e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:ke(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(o=>o.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function Fl(t,e){return Yr(t,!1)&&t<=e.max&&t>=e.min}function Bl(){let t=dt();return new Promise(e=>{switch(t){case ce.browser:e(bc());break;case ce.reactNative:e(Dc());break;case ce.node:e(mc());break;default:e(!0)}})}function bc(){return Kt()&&navigator?.onLine}function Dc(){return Te(this,null,function*(){return lt()&&typeof global<"u"&&global!=null&&global.NetInfo?(yield global==null?void 0:global.NetInfo.fetch())?.isConnected:!0})}function mc(){return!0}function jl(t){switch(dt()){case ce.browser:Ec(t);break;case ce.reactNative:gc(t);break;case ce.node:break}}function Ec(t){!lt()&&Kt()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function gc(t){lt()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}var jr={},zi=class{static get(e){return jr[e]}static set(e,n){jr[e]=n}static delete(e){delete jr[e]}};export{Xe as a,De as b,ir as c,Nt as d,de as e,pe as f,at as g,ut as h,di as i,qh as j,Vh as k,fe as l,ht as m,Kh as n,Wh as o,zh as p,Yh as q,Gh as r,Vt as s,kh as t,Xh as u,Qi as v,Jh as w,Nu as x,Qh as y,Zi as z,lt as A,Kt as B,Zh as C,el as D,tl as E,rl as F,nl as G,il as H,ol as I,sl as J,al as K,ul as L,cl as M,fl as N,hl as O,Br as P,ll as Q,dl as R,pl as S,bl as T,Dl as U,ml as V,El as W,to as X,rc as Y,gl as Z,Ae as _,Ye as $,Wt as aa,zr as ba,Le as ca,be as da,_l as ea,wl as fa,yl as ga,vl as ha,Sl as ia,xl as ja,hc as ka,lc as la,Ol as ma,Cl as na,Nl as oa,Al as pa,Ul as qa,Tl as ra,Il as sa,Rl as ta,Pl as ua,Ml as va,Ll as wa,Fl as xa,Bl as ya,jl as za,zi as Aa};
