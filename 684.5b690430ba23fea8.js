(self.webpackChunkArenaton=self.webpackChunkArenaton||[]).push([[684],{5553:(De,Z,K)=>{"use strict";Z.Xx=Z._w=Z.aP=Z.KS=Z.jQ=void 0;K(5784);const ve=K(6375);K(9815);function ne(V){const B=new Float64Array(16);if(V)for(let M=0;M<V.length;M++)B[M]=V[M];return B}Z.jQ=64,Z.KS=64,Z.aP=32,new Uint8Array(32)[0]=9;const ae=ne(),ee=ne([1]),ce=(ne([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ne([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),Pe=ne([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ge=ne([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);ne([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ue(V,B){for(let M=0;M<16;M++)V[M]=0|B[M]}function Ge(V){let B=1;for(let M=0;M<16;M++){let f=V[M]+B+65535;B=Math.floor(f/65536),V[M]=f-65536*B}V[0]+=B-1+37*(B-1)}function je(V,B,M){const f=~(M-1);for(let T=0;T<16;T++){const _e=f&(V[T]^B[T]);V[T]^=_e,B[T]^=_e}}function Ve(V,B){const M=ne(),f=ne();for(let T=0;T<16;T++)f[T]=B[T];Ge(f),Ge(f),Ge(f);for(let T=0;T<2;T++){M[0]=f[0]-65517;for(let Se=1;Se<15;Se++)M[Se]=f[Se]-65535-(M[Se-1]>>16&1),M[Se-1]&=65535;M[15]=f[15]-32767-(M[14]>>16&1);const _e=M[15]>>16&1;M[14]&=65535,je(f,M,1-_e)}for(let T=0;T<16;T++)V[2*T]=255&f[T],V[2*T+1]=f[T]>>8}function Tt(V){const B=new Uint8Array(32);return Ve(B,V),1&B[0]}function qe(V,B,M){for(let f=0;f<16;f++)V[f]=B[f]+M[f]}function X(V,B,M){for(let f=0;f<16;f++)V[f]=B[f]-M[f]}function oe(V,B,M){let f,T,_e=0,Se=0,He=0,ot=0,Xe=0,nt=0,qt=0,ir=0,sr=0,Ht=0,Vt=0,It=0,St=0,tt=0,ft=0,it=0,st=0,Bt=0,Yt=0,lr=0,fr=0,or=0,gr=0,yr=0,Ur=0,_r=0,br=0,fn=0,Jn=0,hn=0,pn=0,Pt=M[0],Ot=M[1],Ft=M[2],gt=M[3],kt=M[4],Xt=M[5],Lt=M[6],Dt=M[7],At=M[8],Ct=M[9],yt=M[10],ht=M[11],Kt=M[12],Qt=M[13],Gt=M[14],Jt=M[15];f=B[0],_e+=f*Pt,Se+=f*Ot,He+=f*Ft,ot+=f*gt,Xe+=f*kt,nt+=f*Xt,qt+=f*Lt,ir+=f*Dt,sr+=f*At,Ht+=f*Ct,Vt+=f*yt,It+=f*ht,St+=f*Kt,tt+=f*Qt,ft+=f*Gt,it+=f*Jt,f=B[1],Se+=f*Pt,He+=f*Ot,ot+=f*Ft,Xe+=f*gt,nt+=f*kt,qt+=f*Xt,ir+=f*Lt,sr+=f*Dt,Ht+=f*At,Vt+=f*Ct,It+=f*yt,St+=f*ht,tt+=f*Kt,ft+=f*Qt,it+=f*Gt,st+=f*Jt,f=B[2],He+=f*Pt,ot+=f*Ot,Xe+=f*Ft,nt+=f*gt,qt+=f*kt,ir+=f*Xt,sr+=f*Lt,Ht+=f*Dt,Vt+=f*At,It+=f*Ct,St+=f*yt,tt+=f*ht,ft+=f*Kt,it+=f*Qt,st+=f*Gt,Bt+=f*Jt,f=B[3],ot+=f*Pt,Xe+=f*Ot,nt+=f*Ft,qt+=f*gt,ir+=f*kt,sr+=f*Xt,Ht+=f*Lt,Vt+=f*Dt,It+=f*At,St+=f*Ct,tt+=f*yt,ft+=f*ht,it+=f*Kt,st+=f*Qt,Bt+=f*Gt,Yt+=f*Jt,f=B[4],Xe+=f*Pt,nt+=f*Ot,qt+=f*Ft,ir+=f*gt,sr+=f*kt,Ht+=f*Xt,Vt+=f*Lt,It+=f*Dt,St+=f*At,tt+=f*Ct,ft+=f*yt,it+=f*ht,st+=f*Kt,Bt+=f*Qt,Yt+=f*Gt,lr+=f*Jt,f=B[5],nt+=f*Pt,qt+=f*Ot,ir+=f*Ft,sr+=f*gt,Ht+=f*kt,Vt+=f*Xt,It+=f*Lt,St+=f*Dt,tt+=f*At,ft+=f*Ct,it+=f*yt,st+=f*ht,Bt+=f*Kt,Yt+=f*Qt,lr+=f*Gt,fr+=f*Jt,f=B[6],qt+=f*Pt,ir+=f*Ot,sr+=f*Ft,Ht+=f*gt,Vt+=f*kt,It+=f*Xt,St+=f*Lt,tt+=f*Dt,ft+=f*At,it+=f*Ct,st+=f*yt,Bt+=f*ht,Yt+=f*Kt,lr+=f*Qt,fr+=f*Gt,or+=f*Jt,f=B[7],ir+=f*Pt,sr+=f*Ot,Ht+=f*Ft,Vt+=f*gt,It+=f*kt,St+=f*Xt,tt+=f*Lt,ft+=f*Dt,it+=f*At,st+=f*Ct,Bt+=f*yt,Yt+=f*ht,lr+=f*Kt,fr+=f*Qt,or+=f*Gt,gr+=f*Jt,f=B[8],sr+=f*Pt,Ht+=f*Ot,Vt+=f*Ft,It+=f*gt,St+=f*kt,tt+=f*Xt,ft+=f*Lt,it+=f*Dt,st+=f*At,Bt+=f*Ct,Yt+=f*yt,lr+=f*ht,fr+=f*Kt,or+=f*Qt,gr+=f*Gt,yr+=f*Jt,f=B[9],Ht+=f*Pt,Vt+=f*Ot,It+=f*Ft,St+=f*gt,tt+=f*kt,ft+=f*Xt,it+=f*Lt,st+=f*Dt,Bt+=f*At,Yt+=f*Ct,lr+=f*yt,fr+=f*ht,or+=f*Kt,gr+=f*Qt,yr+=f*Gt,Ur+=f*Jt,f=B[10],Vt+=f*Pt,It+=f*Ot,St+=f*Ft,tt+=f*gt,ft+=f*kt,it+=f*Xt,st+=f*Lt,Bt+=f*Dt,Yt+=f*At,lr+=f*Ct,fr+=f*yt,or+=f*ht,gr+=f*Kt,yr+=f*Qt,Ur+=f*Gt,_r+=f*Jt,f=B[11],It+=f*Pt,St+=f*Ot,tt+=f*Ft,ft+=f*gt,it+=f*kt,st+=f*Xt,Bt+=f*Lt,Yt+=f*Dt,lr+=f*At,fr+=f*Ct,or+=f*yt,gr+=f*ht,yr+=f*Kt,Ur+=f*Qt,_r+=f*Gt,br+=f*Jt,f=B[12],St+=f*Pt,tt+=f*Ot,ft+=f*Ft,it+=f*gt,st+=f*kt,Bt+=f*Xt,Yt+=f*Lt,lr+=f*Dt,fr+=f*At,or+=f*Ct,gr+=f*yt,yr+=f*ht,Ur+=f*Kt,_r+=f*Qt,br+=f*Gt,fn+=f*Jt,f=B[13],tt+=f*Pt,ft+=f*Ot,it+=f*Ft,st+=f*gt,Bt+=f*kt,Yt+=f*Xt,lr+=f*Lt,fr+=f*Dt,or+=f*At,gr+=f*Ct,yr+=f*yt,Ur+=f*ht,_r+=f*Kt,br+=f*Qt,fn+=f*Gt,Jn+=f*Jt,f=B[14],ft+=f*Pt,it+=f*Ot,st+=f*Ft,Bt+=f*gt,Yt+=f*kt,lr+=f*Xt,fr+=f*Lt,or+=f*Dt,gr+=f*At,yr+=f*Ct,Ur+=f*yt,_r+=f*ht,br+=f*Kt,fn+=f*Qt,Jn+=f*Gt,hn+=f*Jt,f=B[15],it+=f*Pt,st+=f*Ot,Bt+=f*Ft,Yt+=f*gt,lr+=f*kt,fr+=f*Xt,or+=f*Lt,gr+=f*Dt,yr+=f*At,Ur+=f*Ct,_r+=f*yt,br+=f*ht,fn+=f*Kt,Jn+=f*Qt,hn+=f*Gt,pn+=f*Jt,_e+=38*st,Se+=38*Bt,He+=38*Yt,ot+=38*lr,Xe+=38*fr,nt+=38*or,qt+=38*gr,ir+=38*yr,sr+=38*Ur,Ht+=38*_r,Vt+=38*br,It+=38*fn,St+=38*Jn,tt+=38*hn,ft+=38*pn,T=1,f=_e+T+65535,T=Math.floor(f/65536),_e=f-65536*T,f=Se+T+65535,T=Math.floor(f/65536),Se=f-65536*T,f=He+T+65535,T=Math.floor(f/65536),He=f-65536*T,f=ot+T+65535,T=Math.floor(f/65536),ot=f-65536*T,f=Xe+T+65535,T=Math.floor(f/65536),Xe=f-65536*T,f=nt+T+65535,T=Math.floor(f/65536),nt=f-65536*T,f=qt+T+65535,T=Math.floor(f/65536),qt=f-65536*T,f=ir+T+65535,T=Math.floor(f/65536),ir=f-65536*T,f=sr+T+65535,T=Math.floor(f/65536),sr=f-65536*T,f=Ht+T+65535,T=Math.floor(f/65536),Ht=f-65536*T,f=Vt+T+65535,T=Math.floor(f/65536),Vt=f-65536*T,f=It+T+65535,T=Math.floor(f/65536),It=f-65536*T,f=St+T+65535,T=Math.floor(f/65536),St=f-65536*T,f=tt+T+65535,T=Math.floor(f/65536),tt=f-65536*T,f=ft+T+65535,T=Math.floor(f/65536),ft=f-65536*T,f=it+T+65535,T=Math.floor(f/65536),it=f-65536*T,_e+=T-1+37*(T-1),T=1,f=_e+T+65535,T=Math.floor(f/65536),_e=f-65536*T,f=Se+T+65535,T=Math.floor(f/65536),Se=f-65536*T,f=He+T+65535,T=Math.floor(f/65536),He=f-65536*T,f=ot+T+65535,T=Math.floor(f/65536),ot=f-65536*T,f=Xe+T+65535,T=Math.floor(f/65536),Xe=f-65536*T,f=nt+T+65535,T=Math.floor(f/65536),nt=f-65536*T,f=qt+T+65535,T=Math.floor(f/65536),qt=f-65536*T,f=ir+T+65535,T=Math.floor(f/65536),ir=f-65536*T,f=sr+T+65535,T=Math.floor(f/65536),sr=f-65536*T,f=Ht+T+65535,T=Math.floor(f/65536),Ht=f-65536*T,f=Vt+T+65535,T=Math.floor(f/65536),Vt=f-65536*T,f=It+T+65535,T=Math.floor(f/65536),It=f-65536*T,f=St+T+65535,T=Math.floor(f/65536),St=f-65536*T,f=tt+T+65535,T=Math.floor(f/65536),tt=f-65536*T,f=ft+T+65535,T=Math.floor(f/65536),ft=f-65536*T,f=it+T+65535,T=Math.floor(f/65536),it=f-65536*T,_e+=T-1+37*(T-1),V[0]=_e,V[1]=Se,V[2]=He,V[3]=ot,V[4]=Xe,V[5]=nt,V[6]=qt,V[7]=ir,V[8]=sr,V[9]=Ht,V[10]=Vt,V[11]=It,V[12]=St,V[13]=tt,V[14]=ft,V[15]=it}function p(V,B){oe(V,B,B)}function I(V,B){const M=ne(),f=ne(),T=ne(),_e=ne(),Se=ne(),He=ne(),ot=ne(),Xe=ne(),nt=ne();X(M,V[1],V[0]),X(nt,B[1],B[0]),oe(M,M,nt),qe(f,V[0],V[1]),qe(nt,B[0],B[1]),oe(f,f,nt),oe(T,V[3],B[3]),oe(T,T,ce),oe(_e,V[2],B[2]),qe(_e,_e,_e),X(Se,f,M),X(He,_e,T),qe(ot,_e,T),qe(Xe,f,M),oe(V[0],Se,He),oe(V[1],Xe,ot),oe(V[2],ot,He),oe(V[3],Se,Xe)}function O(V,B,M){for(let f=0;f<4;f++)je(V[f],B[f],M)}function g(V,B){const M=ne(),f=ne(),T=ne();(function m(V,B){const M=ne();let f;for(f=0;f<16;f++)M[f]=B[f];for(f=253;f>=0;f--)p(M,M),2!==f&&4!==f&&oe(M,M,B);for(f=0;f<16;f++)V[f]=M[f]})(T,B[2]),oe(M,B[0],T),oe(f,B[1],T),Ve(V,f),V[31]^=Tt(M)<<7}function F(V,B){const M=[ne(),ne(),ne(),ne()];ue(M[0],Pe),ue(M[1],ge),ue(M[2],ee),oe(M[3],Pe,ge),function E(V,B,M){ue(V[0],ae),ue(V[1],ee),ue(V[2],ee),ue(V[3],ae);for(let f=255;f>=0;--f){const T=M[f/8|0]>>(7&f)&1;O(V,B,T),I(B,V),I(V,V),O(V,B,T)}}(V,M,B)}Z._w=function de(V){if(V.length!==Z.aP)throw new Error(`ed25519: seed must be ${Z.aP} bytes`);const B=(0,ve.hash)(V);B[0]&=248,B[31]&=127,B[31]|=64;const M=new Uint8Array(32),f=[ne(),ne(),ne(),ne()];F(f,B),g(M,f);const T=new Uint8Array(64);return T.set(V),T.set(M,32),{publicKey:M,secretKey:T}};const te=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function z(V,B){let M,f,T,_e;for(f=63;f>=32;--f){for(M=0,T=f-32,_e=f-12;T<_e;++T)B[T]+=M-16*B[f]*te[T-(f-32)],M=Math.floor((B[T]+128)/256),B[T]-=256*M;B[T]+=M,B[f]=0}for(M=0,T=0;T<32;T++)B[T]+=M-(B[31]>>4)*te[T],M=B[T]>>8,B[T]&=255;for(T=0;T<32;T++)B[T]-=M*te[T];for(f=0;f<32;f++)B[f+1]+=B[f]>>8,V[f]=255&B[f]}function me(V){const B=new Float64Array(64);for(let M=0;M<64;M++)B[M]=V[M];for(let M=0;M<64;M++)V[M]=0;z(V,B)}Z.Xx=function Fe(V,B){const M=new Float64Array(64),f=[ne(),ne(),ne(),ne()],T=(0,ve.hash)(V.subarray(0,32));T[0]&=248,T[31]&=127,T[31]|=64;const _e=new Uint8Array(64);_e.set(T.subarray(32),32);const Se=new ve.SHA512;Se.update(_e.subarray(32)),Se.update(B);const He=Se.digest();Se.clean(),me(He),F(f,He),g(_e,f),Se.reset(),Se.update(_e.subarray(0,32)),Se.update(V.subarray(32)),Se.update(B);const ot=Se.digest();me(ot);for(let Xe=0;Xe<32;Xe++)M[Xe]=He[Xe];for(let Xe=0;Xe<32;Xe++)for(let nt=0;nt<32;nt++)M[Xe+nt]+=ot[Xe]*T[nt];return z(_e.subarray(32),M),_e}},6375:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});var v=K(4502),se=K(9815);Z.DIGEST_LENGTH=64,Z.BLOCK_SIZE=128;var ve=function(){function ae(){this.digestLength=Z.DIGEST_LENGTH,this.blockSize=Z.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return ae.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},ae.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},ae.prototype.clean=function(){se.wipe(this._buffer),se.wipe(this._tempHi),se.wipe(this._tempLo),this.reset()},ae.prototype.update=function(ee,ie){if(void 0===ie&&(ie=ee.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var ce=0;if(this._bytesHashed+=ie,this._bufferLength>0){for(;this._bufferLength<Z.BLOCK_SIZE&&ie>0;)this._buffer[this._bufferLength++]=ee[ce++],ie--;this._bufferLength===this.blockSize&&(ne(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ie>=this.blockSize&&(ce=ne(this._tempHi,this._tempLo,this._stateHi,this._stateLo,ee,ce,ie),ie%=this.blockSize);ie>0;)this._buffer[this._bufferLength++]=ee[ce++],ie--;return this},ae.prototype.finish=function(ee){if(!this._finished){var ie=this._bytesHashed,ce=this._bufferLength,Pe=ie/536870912|0,ge=ie<<3,Ke=ie%128<112?128:256;this._buffer[ce]=128;for(var ue=ce+1;ue<Ke-8;ue++)this._buffer[ue]=0;v.writeUint32BE(Pe,this._buffer,Ke-8),v.writeUint32BE(ge,this._buffer,Ke-4),ne(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,Ke),this._finished=!0}for(ue=0;ue<this.digestLength/8;ue++)v.writeUint32BE(this._stateHi[ue],ee,8*ue),v.writeUint32BE(this._stateLo[ue],ee,8*ue+4);return this},ae.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},ae.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},ae.prototype.restoreState=function(ee){return this._stateHi.set(ee.stateHi),this._stateLo.set(ee.stateLo),this._bufferLength=ee.bufferLength,ee.buffer&&this._buffer.set(ee.buffer),this._bytesHashed=ee.bytesHashed,this._finished=!1,this},ae.prototype.cleanSavedState=function(ee){se.wipe(ee.stateHi),se.wipe(ee.stateLo),ee.buffer&&se.wipe(ee.buffer),ee.bufferLength=0,ee.bytesHashed=0},ae}();Z.SHA512=ve;var x=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function ne(ae,ee,ie,ce,Pe,ge,Ke){for(var g,E,F,de,C,H,te,z,ue=ie[0],Ge=ie[1],je=ie[2],Ve=ie[3],Ye=ie[4],Et=ie[5],Tt=ie[6],bt=ie[7],qe=ce[0],X=ce[1],oe=ce[2],p=ce[3],m=ce[4],_=ce[5],I=ce[6],O=ce[7];Ke>=128;){for(var me=0;me<16;me++)ae[me]=v.readUint32BE(Pe,Fe=8*me+ge),ee[me]=v.readUint32BE(Pe,Fe+4);for(me=0;me<80;me++){var f,qt,Xr=Ge,Qr=je,lt=Ve,V=Ye,B=Et,M=Tt,_e=X,Se=oe,He=p,ot=m,Xe=_,nt=I;if(C=65535&(E=O),H=E>>>16,te=65535&(g=bt),z=g>>>16,C+=65535&(E=(m>>>14|Ye<<18)^(m>>>18|Ye<<14)^(Ye>>>9|m<<23)),H+=E>>>16,te+=65535&(g=(Ye>>>14|m<<18)^(Ye>>>18|m<<14)^(m>>>9|Ye<<23)),z+=g>>>16,C+=65535&(E=m&_^~m&I),H+=E>>>16,te+=65535&(g=Ye&Et^~Ye&Tt),z+=g>>>16,C+=65535&(E=x[2*me+1]),H+=E>>>16,te+=65535&(g=x[2*me]),z+=g>>>16,H+=(E=ee[me%16])>>>16,te+=65535&(g=ae[me%16]),z+=g>>>16,te+=(H+=(C+=65535&E)>>>16)>>>16,C=65535&(E=de=65535&C|H<<16),H=E>>>16,te=65535&(g=F=65535&te|(z+=te>>>16)<<16),z=g>>>16,C+=65535&(E=(qe>>>28|ue<<4)^(ue>>>2|qe<<30)^(ue>>>7|qe<<25)),H+=E>>>16,te+=65535&(g=(ue>>>28|qe<<4)^(qe>>>2|ue<<30)^(qe>>>7|ue<<25)),z+=g>>>16,H+=(E=qe&X^qe&oe^X&oe)>>>16,te+=65535&(g=ue&Ge^ue&je^Ge&je),z+=g>>>16,f=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,qt=65535&C|H<<16,C=65535&(E=He),H=E>>>16,te=65535&(g=lt),z=g>>>16,H+=(E=de)>>>16,te+=65535&(g=F),z+=g>>>16,Ge=ue,je=Xr,Ve=Qr,Ye=lt=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,Et=V,Tt=B,bt=M,ue=f,X=qe,oe=_e,p=Se,m=He=65535&C|H<<16,_=ot,I=Xe,O=nt,qe=qt,me%16==15)for(var Fe=0;Fe<16;Fe++)C=65535&(E=ee[Fe]),H=E>>>16,te=65535&(g=ae[Fe]),z=g>>>16,C+=65535&(E=ee[(Fe+9)%16]),H+=E>>>16,te+=65535&(g=ae[(Fe+9)%16]),z+=g>>>16,C+=65535&(E=((de=ee[(Fe+1)%16])>>>1|(F=ae[(Fe+1)%16])<<31)^(de>>>8|F<<24)^(de>>>7|F<<25)),H+=E>>>16,te+=65535&(g=(F>>>1|de<<31)^(F>>>8|de<<24)^F>>>7),z+=g>>>16,H+=(E=((de=ee[(Fe+14)%16])>>>19|(F=ae[(Fe+14)%16])<<13)^(F>>>29|de<<3)^(de>>>6|F<<26))>>>16,te+=65535&(g=(F>>>19|de<<13)^(de>>>29|F<<3)^F>>>6),z+=g>>>16,ae[Fe]=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ee[Fe]=65535&C|H<<16}C=65535&(E=qe),H=E>>>16,te=65535&(g=ue),z=g>>>16,H+=(E=ce[0])>>>16,te+=65535&(g=ie[0]),z+=g>>>16,ie[0]=ue=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[0]=qe=65535&C|H<<16,C=65535&(E=X),H=E>>>16,te=65535&(g=Ge),z=g>>>16,H+=(E=ce[1])>>>16,te+=65535&(g=ie[1]),z+=g>>>16,ie[1]=Ge=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[1]=X=65535&C|H<<16,C=65535&(E=oe),H=E>>>16,te=65535&(g=je),z=g>>>16,H+=(E=ce[2])>>>16,te+=65535&(g=ie[2]),z+=g>>>16,ie[2]=je=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[2]=oe=65535&C|H<<16,C=65535&(E=p),H=E>>>16,te=65535&(g=Ve),z=g>>>16,H+=(E=ce[3])>>>16,te+=65535&(g=ie[3]),z+=g>>>16,ie[3]=Ve=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[3]=p=65535&C|H<<16,C=65535&(E=m),H=E>>>16,te=65535&(g=Ye),z=g>>>16,H+=(E=ce[4])>>>16,te+=65535&(g=ie[4]),z+=g>>>16,ie[4]=Ye=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[4]=m=65535&C|H<<16,C=65535&(E=_),H=E>>>16,te=65535&(g=Et),z=g>>>16,H+=(E=ce[5])>>>16,te+=65535&(g=ie[5]),z+=g>>>16,ie[5]=Et=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[5]=_=65535&C|H<<16,C=65535&(E=I),H=E>>>16,te=65535&(g=Tt),z=g>>>16,H+=(E=ce[6])>>>16,te+=65535&(g=ie[6]),z+=g>>>16,ie[6]=Tt=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[6]=I=65535&C|H<<16,C=65535&(E=O),H=E>>>16,te=65535&(g=bt),z=g>>>16,H+=(E=ce[7])>>>16,te+=65535&(g=ie[7]),z+=g>>>16,ie[7]=bt=65535&(te+=(H+=(C+=65535&E)>>>16)>>>16)|(z+=te>>>16)<<16,ce[7]=O=65535&C|H<<16,ge+=128,Ke-=128}return ge}Z.hash=function Ce(ae){var ee=new ve;ee.update(ae);var ie=ee.digest();return ee.clean(),ie}},1688:(De,Z)=>{"use strict";function K(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function v(){const ve=K();return ve.subtle||ve.webkitSubtle}Object.defineProperty(Z,"__esModule",{value:!0}),Z.isBrowserCryptoAvailable=Z.getSubtleCrypto=Z.getBrowerCrypto=void 0,Z.getBrowerCrypto=K,Z.getSubtleCrypto=v,Z.isBrowserCryptoAvailable=function se(){return!!K()&&!!v()}},2220:(De,Z)=>{"use strict";function K(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function v(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(Z,"__esModule",{value:!0}),Z.isBrowser=Z.isNode=Z.isReactNative=void 0,Z.isReactNative=K,Z.isNode=v,Z.isBrowser=function se(){return!K()&&!v()}},1948:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});const v=K(4308);v.__exportStar(K(1688),Z),v.__exportStar(K(2220),Z)},5684:(De,Z,K)=>{"use strict";K.r(Z),K.d(Z,{EthereumProvider:()=>Hd,OPTIONAL_EVENTS:()=>ju,OPTIONAL_METHODS:()=>Nu,REQUIRED_EVENTS:()=>Cs,REQUIRED_METHODS:()=>As,default:()=>Ts});var v=K(5861),se=K(9069),ve=K.n(se),x=K(1761),ne=K(9274),Ce=K(2062),ae=K(8767),ee=K(232);class ie extends ee.q{constructor(n){super(),this.opts=n,this.protocol="wc",this.version=2}}class Pe extends ee.q{constructor(n,r){super(),this.core=n,this.logger=r,this.records=new Map}}class ge{constructor(n,r){this.logger=n,this.core=r}}class Ke extends ee.q{constructor(n,r){super(),this.relayer=n,this.logger=r}}class ue extends ee.q{constructor(n){super()}}class Ge{constructor(n,r,o,a){this.core=n,this.logger=r,this.name=o}}class Ve extends ee.q{constructor(n,r){super(),this.relayer=n,this.logger=r}}class Et extends ee.q{constructor(n,r){super(),this.core=n,this.logger=r}}class bt{constructor(n,r){this.projectId=n,this.logger=r}}class X{constructor(n){this.opts=n,this.protocol="wc",this.version=2}}class p{constructor(n){this.client=n}}const m=y=>JSON.stringify(y,(n,r)=>"bigint"==typeof r?r.toString()+"n":r);function I(y){if("string"!=typeof y)throw new Error("Cannot safe json parse value of type "+typeof y);try{return(y=>{const r=y.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(r,(o,a)=>"string"==typeof a&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)})(y)}catch{return y}}function O(y){return"string"==typeof y?y:m(y)||""}var g=K(5553),E=K(5784),F=K(3961);const te="base64url",z="utf8",Fe=":",Oe="did",Xr="key",Qr="base58btc",lt="z",V="K36";var f=K(682),T=K(1892),_e=K(5676);function He(y){return(0,T.B)((0,_e.m)(O(y),z),te)}function ot(y){const n=(0,_e.m)(V,Qr),r=lt+(0,T.B)((0,f.z)([n,y]),Qr);return[Oe,Xr,r].join(Fe)}function nt(y){return(0,T.B)(y,te)}function It(y=(0,E.randomBytes)(32)){return g._w(y)}function tt(){return(tt=(0,v.Z)(function*(y,n,r,o,a=(0,F.fromMiliseconds)(Date.now())){const u={alg:"EdDSA",typ:"JWT"},D={iss:ot(o.publicKey),sub:y,aud:n,iat:a,exp:a+r},$=function ir(y){return(0,_e.m)([He(y.header),He(y.payload)].join("."),"utf8")}({header:u,payload:D});return function Ht(y){return[He(y.header),He(y.payload),nt(y.signature)].join(".")}({header:u,payload:D,signature:g.Xx(o.secretKey,$)})})).apply(this,arguments)}K(2088);var Bt=K(4577);const gr="INTERNAL_ERROR",yr="SERVER_ERROR",Ur=[-32700,-32600,-32601,-32602,-32603],br={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[gr]:{code:-32603,message:"Internal error"},[yr]:{code:-32e3,message:"Server error"}},fn=yr;function Pt(y){return Object.keys(br).includes(y)?br[y]:br[fn]}function gt(y,n,r){return y.message.includes("getaddrinfo ENOTFOUND")||y.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${n}`):y}var kt=K(1948);function Lt(y=3){return Date.now()*Math.pow(10,y)+Math.floor(Math.random()*Math.pow(10,y))}function Dt(y=6){return BigInt(Lt(y))}function At(y,n,r){return{id:r||Lt(),jsonrpc:"2.0",method:y,params:n}}function Ct(y,n){return{id:y,jsonrpc:"2.0",result:n}}function yt(y,n,r){return{id:y,jsonrpc:"2.0",error:ht(n,r)}}function ht(y,n){return typeof y>"u"?Pt(gr):("string"==typeof y&&(y=Object.assign(Object.assign({},Pt(yr)),{message:y})),typeof n<"u"&&(y.data=n),function hn(y){return Ur.includes(y)}(y.code)&&(y=function Ot(y){return Object.values(br).find(r=>r.code===y)||br[fn]}(y.code)),y)}class Kt{}class Gt extends Kt{constructor(){super()}}class Jt extends Gt{constructor(n){super()}}function us(y,n){const r=function Oo(y){const n=y.match(new RegExp(/^\w+:/,"gi"));if(n&&n.length)return n[0]}(y);return!(typeof r>"u")&&new RegExp(n).test(r)}function ls(y){return us(y,"^https?:")}function fs(y){return us(y,"^wss?:")}function dn(y){return"object"==typeof y&&"id"in y&&"jsonrpc"in y&&"2.0"===y.jsonrpc}function Di(y){return dn(y)&&"method"in y}function ui(y){return dn(y)&&(tn(y)||Tr(y))}function tn(y){return"result"in y}function Tr(y){return"error"in y}class Dr extends Jt{constructor(n){super(n),this.events=new se.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(n),this.connection.connected&&this.registerEventListeners()}connect(n=this.connection){var r=this;return(0,v.Z)(function*(){yield r.open(n)})()}disconnect(){var n=this;return(0,v.Z)(function*(){yield n.close()})()}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}request(n,r){var o=this;return(0,v.Z)(function*(){return o.requestStrict(At(n.method,n.params||[],n.id||Dt().toString()),r)})()}requestStrict(n,r){var o=this;return(0,v.Z)(function*(){return new Promise(function(){var a=(0,v.Z)(function*(u,h){if(!o.connection.connected)try{yield o.open()}catch(S){h(S)}o.events.on(`${n.id}`,S=>{Tr(S)?h(S.error):u(S.result)});try{yield o.connection.send(n,r)}catch(S){h(S)}});return function(u,h){return a.apply(this,arguments)}}())})()}setConnection(n=this.connection){return n}onPayload(n){this.events.emit("payload",n),ui(n)?this.events.emit(`${n.id}`,n):this.events.emit("message",{type:n.method,data:n.params})}onClose(n){n&&3e3===n.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${n.code} ${n.reason?`(${n.reason})`:""}`)),this.events.emit("disconnect")}open(n=this.connection){var r=this;return(0,v.Z)(function*(){r.connection===n&&r.connection.connected||(r.connection.connected&&r.close(),"string"==typeof n&&(yield r.connection.open(n),n=r.connection),r.connection=r.setConnection(n),yield r.connection.open(),r.registerEventListeners(),r.events.emit("connect"))})()}close(){var n=this;return(0,v.Z)(function*(){yield n.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",n=>this.onPayload(n)),this.connection.on("close",n=>this.onClose(n)),this.connection.on("error",n=>this.events.emit("error",n)),this.connection.on("register_error",n=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const hs=y=>y.split("?")[0],Ro=typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:K(5504);var Do=K(8222),Wn=K.n(Do),No=function ds(y,n){if(y.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),o=0;o<r.length;o++)r[o]=255;for(var a=0;a<y.length;a++){var u=y.charAt(a),h=u.charCodeAt(0);if(255!==r[h])throw new TypeError(u+" is ambiguous");r[h]=a}var S=y.length,D=y.charAt(0),$=Math.log(S)/Math.log(256),W=Math.log(256)/Math.log(S);function Ie(we){if("string"!=typeof we)throw new TypeError("Expected String");if(0===we.length)return new Uint8Array;var Qe=0;if(" "!==we[Qe]){for(var Be=0,vt=0;we[Qe]===D;)Be++,Qe++;for(var hr=(we.length-Qe)*$+1>>>0,pt=new Uint8Array(hr);we[Qe];){var Zt=r[we.charCodeAt(Qe)];if(255===Zt)return;for(var ct=0,zt=hr-1;(0!==Zt||ct<vt)&&-1!==zt;zt--,ct++)pt[zt]=(Zt+=S*pt[zt]>>>0)%256>>>0,Zt=Zt/256>>>0;if(0!==Zt)throw new Error("Non-zero carry");vt=ct,Qe++}if(" "!==we[Qe]){for(var Je=hr-vt;Je!==hr&&0===pt[Je];)Je++;for(var cr=new Uint8Array(Be+(hr-Je)),Zn=Be;Je!==hr;)cr[Zn++]=pt[Je++];return cr}}}return{encode:function le(we){if(we instanceof Uint8Array||(ArrayBuffer.isView(we)?we=new Uint8Array(we.buffer,we.byteOffset,we.byteLength):Array.isArray(we)&&(we=Uint8Array.from(we))),!(we instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===we.length)return"";for(var Qe=0,Be=0,vt=0,hr=we.length;vt!==hr&&0===we[vt];)vt++,Qe++;for(var pt=(hr-vt)*W+1>>>0,Zt=new Uint8Array(pt);vt!==hr;){for(var ct=we[vt],zt=0,Je=pt-1;(0!==ct||zt<Be)&&-1!==Je;Je--,zt++)Zt[Je]=(ct+=256*Zt[Je]>>>0)%S>>>0,ct=ct/S>>>0;if(0!==ct)throw new Error("Non-zero carry");Be=zt,vt++}for(var cr=pt-Be;cr!==pt&&0===Zt[cr];)cr++;for(var Zn=D.repeat(Qe);cr<pt;++cr)Zn+=y.charAt(Zt[cr]);return Zn},decodeUnsafe:Ie,decode:function ke(we){var Qe=Ie(we);if(Qe)return Qe;throw new Error(`Non-${n} character`)}}};const ys=y=>{if(y instanceof Uint8Array&&"Uint8Array"===y.constructor.name)return y;if(y instanceof ArrayBuffer)return new Uint8Array(y);if(ArrayBuffer.isView(y))return new Uint8Array(y.buffer,y.byteOffset,y.byteLength);throw new Error("Unknown type, must be binary type")};class _s{constructor(n,r,o){this.name=n,this.prefix=r,this.baseEncode=o}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class Lo{constructor(n,r,o){if(this.name=n,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=o}decode(n){if("string"==typeof n){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(n){return Ni(this,n)}}class Mo{constructor(n){this.decoders=n}or(n){return Ni(this,n)}decode(n){const o=this.decoders[n[0]];if(o)return o.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ni=(y,n)=>new Mo({...y.decoders||{[y.prefix]:y},...n.decoders||{[n.prefix]:n}});class fi{constructor(n,r,o,a){this.name=n,this.prefix=r,this.baseEncode=o,this.baseDecode=a,this.encoder=new _s(n,r,o),this.decoder=new Lo(n,r,a)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}const rn=({name:y,prefix:n,encode:r,decode:o})=>new fi(y,n,r,o),Yn=({prefix:y,name:n,alphabet:r})=>{const{encode:o,decode:a}=No(r,n);return rn({prefix:y,name:n,encode:o,decode:u=>ys(a(u))})},er=({name:y,prefix:n,bitsPerChar:r,alphabet:o})=>rn({prefix:n,name:y,encode:a=>((y,n,r)=>{const o="="===n[n.length-1],a=(1<<r)-1;let u="",h=0,S=0;for(let D=0;D<y.length;++D)for(S=S<<8|y[D],h+=8;h>r;)h-=r,u+=n[a&S>>h];if(h&&(u+=n[a&S<<r-h]),o)for(;u.length*r&7;)u+="=";return u})(a,o,r),decode:a=>((y,n,r,o)=>{const a={};for(let W=0;W<n.length;++W)a[n[W]]=W;let u=y.length;for(;"="===y[u-1];)--u;const h=new Uint8Array(u*r/8|0);let S=0,D=0,$=0;for(let W=0;W<u;++W){const le=a[y[W]];if(void 0===le)throw new SyntaxError(`Non-${o} character`);D=D<<r|le,S+=r,S>=8&&(S-=8,h[$++]=255&D>>S)}if(S>=r||255&D<<8-S)throw new SyntaxError("Unexpected end of data");return h})(a,o,r,y)}),zo=rn({prefix:"\0",name:"identity",encode:y=>(y=>(new TextDecoder).decode(y))(y),decode:y=>(y=>(new TextEncoder).encode(y))(y)});var Uo=Object.freeze({__proto__:null,identity:zo});const $o=er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qo=Object.freeze({__proto__:null,base2:$o});const In=er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vs=Object.freeze({__proto__:null,base8:In});const Ho=Yn({prefix:"9",name:"base10",alphabet:"0123456789"});var hi=Object.freeze({__proto__:null,base10:Ho});const Vo=er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ji=er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Bo=Object.freeze({__proto__:null,base16:Vo,base16upper:ji});const ms=er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bs=er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ws=er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xn=er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xs=er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ko=er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ko=er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Go=er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),P=er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var N=Object.freeze({__proto__:null,base32:ms,base32upper:bs,base32pad:ws,base32padupper:Xn,base32hex:xs,base32hexupper:ko,base32hexpad:Ko,base32hexpadupper:Go,base32z:P});const Q=Yn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),he=Yn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var at=Object.freeze({__proto__:null,base36:Q,base36upper:he});const Re=Yn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wt=Yn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Wt=Object.freeze({__proto__:null,base58btc:Re,base58flickr:wt});const tr=er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_t=er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wr=er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Nr=er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ar=Object.freeze({__proto__:null,base64:tr,base64pad:_t,base64url:wr,base64urlpad:Nr});const xr=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Pr=xr.reduce((y,n,r)=>(y[r]=n,y),[]),_n=xr.reduce((y,n,r)=>(y[n.codePointAt(0)]=r,y),[]),Es=rn({prefix:"\u{1f680}",name:"base256emoji",encode:function nn(y){return y.reduce((n,r)=>n+Pr[r],"")},decode:function Sn(y){const n=[];for(const r of y){const o=_n[r.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${r}`);n.push(o)}return new Uint8Array(n)}});var pi=Object.freeze({__proto__:null,base256emoji:Es}),Zc=128,vh=-128,mh=Math.pow(2,31),wh=128,Uc=127,xh=Math.pow(2,7),Eh=Math.pow(2,14),Ih=Math.pow(2,21),Sh=Math.pow(2,28),Ph=Math.pow(2,35),Oh=Math.pow(2,42),Ah=Math.pow(2,49),Ch=Math.pow(2,56),Rh=Math.pow(2,63),Dh={encode:function zc(y,n,r){n=n||[];for(var o=r=r||0;y>=mh;)n[r++]=255&y|Zc,y/=128;for(;y&vh;)n[r++]=255&y|Zc,y>>>=7;return n[r]=0|y,zc.bytes=r-o+1,n},decode:function Jo(y,o){var h,r=0,a=0,u=o=o||0,S=y.length;do{if(u>=S)throw Jo.bytes=0,new RangeError("Could not decode varint");h=y[u++],r+=a<28?(h&Uc)<<a:(h&Uc)*Math.pow(2,a),a+=7}while(h>=wh);return Jo.bytes=u-o,r},encodingLength:function(y){return y<xh?1:y<Eh?2:y<Ih?3:y<Sh?4:y<Ph?5:y<Oh?6:y<Ah?7:y<Ch?8:y<Rh?9:10}},$c=Dh;const qc=(y,n,r=0)=>($c.encode(y,n,r),n),Hc=y=>$c.encodingLength(y),Wo=(y,n)=>{const r=n.byteLength,o=Hc(y),a=o+Hc(r),u=new Uint8Array(a+r);return qc(y,u,0),qc(r,u,o),u.set(n,a),new Nh(y,r,n,u)};class Nh{constructor(n,r,o,a){this.code=n,this.size=r,this.digest=o,this.bytes=a}}const Vc=({name:y,code:n,encode:r})=>new jh(y,n,r);class jh{constructor(n,r,o){this.name=n,this.code=r,this.encode=o}digest(n){if(n instanceof Uint8Array){const r=this.encode(n);return r instanceof Uint8Array?Wo(this.code,r):r.then(o=>Wo(this.code,o))}throw Error("Unknown type, must be binary type")}}const Bc=y=>function(){var n=(0,v.Z)(function*(r){return new Uint8Array(yield crypto.subtle.digest(y,r))});return function(r){return n.apply(this,arguments)}}(),Fh=Vc({name:"sha2-256",code:18,encode:Bc("SHA-256")}),Lh=Vc({name:"sha2-512",code:19,encode:Bc("SHA-512")});Object.freeze({__proto__:null,sha256:Fh,sha512:Lh});const Kc=ys;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Kc,digest:y=>Wo(0,Kc(y))}}),new TextEncoder,new TextDecoder;const Gc={...Uo,...qo,...vs,...hi,...Bo,...N,...at,...Wt,...ar,...pi};function Jc(y){return null!=globalThis.Buffer?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):y}function Wc(y,n,r,o){return{name:y,prefix:n,encoder:{name:y,prefix:n,encode:r},decoder:{decode:o}}}const Yc=Wc("utf8","u",y=>"u"+new TextDecoder("utf8").decode(y),y=>(new TextEncoder).encode(y.substring(1))),Yo=Wc("ascii","a",y=>{let n="a";for(let r=0;r<y.length;r++)n+=String.fromCharCode(y[r]);return n},y=>{const n=function Uh(y=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Jc(globalThis.Buffer.allocUnsafe(y)):new Uint8Array(y)}((y=y.substring(1)).length);for(let r=0;r<y.length;r++)n[r]=y.charCodeAt(r);return n}),$h={utf8:Yc,"utf-8":Yc,hex:Gc.base16,latin1:Yo,ascii:Yo,binary:Yo,...Gc},Ln="wc@2:core:",Bh={database:":memory:"},Qc="client_ed25519_seed",Kh=F.ONE_DAY,Xh=F.SIX_HOURS,tu="wss://relay.walletconnect.com",ru="wss://relay.walletconnect.org",np=F.ONE_SECOND/2,vn_created="subscription_created",vn_deleted="subscription_deleted",lp=1e3*F.FIVE_SECONDS,Li={wc_pairingDelete:{req:{ttl:F.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:F.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:F.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:F.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:F.ONE_DAY,prompt:!1,tag:0},res:{ttl:F.ONE_DAY,prompt:!1,tag:0}}},$r_expired="expirer_expired",Qo="verify-api",nu="https://verify.walletconnect.com";class _p{constructor(n,r){var o=this;this.core=n,this.logger=r,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Ln,this.init=(0,v.Z)(function*(){if(!o.initialized){const a=yield o.getKeyChain();typeof a<"u"&&(o.keychain=a),o.initialized=!0}}),this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=function(){var a=(0,v.Z)(function*(u,h){o.isInitialized(),o.keychain.set(u,h),yield o.persist()});return function(u,h){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();const u=this.keychain.get(a);if(typeof u>"u"){const{message:h}=(0,x.Z7)("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(h)}return u},this.del=function(){var a=(0,v.Z)(function*(u){o.isInitialized(),o.keychain.delete(u),yield o.persist()});return function(u){return a.apply(this,arguments)}}(),this.core=n,this.logger=(0,ae.generateChildLogger)(r,this.name)}get context(){return(0,ae.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(n){var r=this;return(0,v.Z)(function*(){yield r.core.storage.setItem(r.storageKey,(0,x.KC)(n))})()}getKeyChain(){var n=this;return(0,v.Z)(function*(){const r=yield n.core.storage.getItem(n.storageKey);return typeof r<"u"?(0,x.IP)(r):void 0})()}persist(){var n=this;return(0,v.Z)(function*(){yield n.setKeyChain(n.keychain)})()}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class vp{constructor(n,r,o){var a=this;this.core=n,this.logger=r,this.name="crypto",this.initialized=!1,this.init=(0,v.Z)(function*(){a.initialized||(yield a.keychain.init(),a.initialized=!0)}),this.hasKeys=u=>(this.isInitialized(),this.keychain.has(u)),this.getClientId=(0,v.Z)(function*(){return a.isInitialized(),ot(It(yield a.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const u=(0,x.Au)();return this.setPrivateKey(u.publicKey,u.privateKey)},this.signJWT=function(){var u=(0,v.Z)(function*(h){a.isInitialized();const D=It(yield a.getClientSeed()),$=(0,x.jd)();return yield function St(y,n,r,o){return tt.apply(this,arguments)}($,h,Kh,D)});return function(h){return u.apply(this,arguments)}}(),this.generateSharedKey=(u,h,S)=>{this.isInitialized();const D=this.getPrivateKey(u),$=(0,x.m$)(D,h);return this.setSymKey($,S)},this.setSymKey=function(){var u=(0,v.Z)(function*(h,S){a.isInitialized();const D=S||(0,x.Ym)(h);return yield a.keychain.set(D,h),D});return function(h,S){return u.apply(this,arguments)}}(),this.deleteKeyPair=function(){var u=(0,v.Z)(function*(h){a.isInitialized(),yield a.keychain.del(h)});return function(h){return u.apply(this,arguments)}}(),this.deleteSymKey=function(){var u=(0,v.Z)(function*(h){a.isInitialized(),yield a.keychain.del(h)});return function(h){return u.apply(this,arguments)}}(),this.encode=function(){var u=(0,v.Z)(function*(h,S,D){a.isInitialized();const $=(0,x.EN)(D),W=O(S);if((0,x.Q8)($)){const we=$.senderPublicKey,Qe=$.receiverPublicKey;h=yield a.generateSharedKey(we,Qe)}const le=a.getSymKey(h),{type:Ie,senderPublicKey:ke}=$;return(0,x.HI)({type:Ie,symKey:le,message:W,senderPublicKey:ke})});return function(h,S,D){return u.apply(this,arguments)}}(),this.decode=function(){var u=(0,v.Z)(function*(h,S,D){a.isInitialized();const $=(0,x.Ll)(S,D);if((0,x.Q8)($)){const Ie=$.receiverPublicKey,ke=$.senderPublicKey;h=yield a.generateSharedKey(Ie,ke)}const W=a.getSymKey(h);return I((0,x.pe)({symKey:W,encoded:S}))});return function(h,S,D){return u.apply(this,arguments)}}(),this.getPayloadType=u=>{const h=(0,x.vB)(u);return(0,x.WG)(h.type)},this.getPayloadSenderPublicKey=u=>{const h=(0,x.vB)(u);return h.senderPublicKey?(0,Bt.BB)(h.senderPublicKey,x.AW):void 0},this.core=n,this.logger=(0,ae.generateChildLogger)(r,this.name),this.keychain=o||new _p(this.core,this.logger)}get context(){return(0,ae.getLoggerContext)(this.logger)}setPrivateKey(n,r){var o=this;return(0,v.Z)(function*(){return yield o.keychain.set(n,r),n})()}getPrivateKey(n){return this.keychain.get(n)}getClientSeed(){var n=this;return(0,v.Z)(function*(){let r="";try{r=n.keychain.get(Qc)}catch{r=(0,x.jd)(),yield n.keychain.set(Qc,r)}return function qh(y,n="utf8"){const r=$h[n];if(!r)throw new Error(`Unsupported encoding "${n}"`);return"utf8"!==n&&"utf-8"!==n||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${y}`):Jc(globalThis.Buffer.from(y,"utf-8"))}(r,"base16")})()}getSymKey(n){return this.keychain.get(n)}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class mp extends ge{constructor(n,r){var o;super(n,r),o=this,this.logger=n,this.core=r,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Ln,this.init=(0,v.Z)(function*(){if(!o.initialized){o.logger.trace("Initialized");try{const a=yield o.getRelayerMessages();typeof a<"u"&&(o.messages=a),o.logger.debug(`Successfully Restored records for ${o.name}`),o.logger.trace({type:"method",method:"restore",size:o.messages.size})}catch(a){o.logger.debug(`Failed to Restore records for ${o.name}`),o.logger.error(a)}finally{o.initialized=!0}}}),this.set=function(){var a=(0,v.Z)(function*(u,h){o.isInitialized();const S=(0,x.rj)(h);let D=o.messages.get(u);return typeof D>"u"&&(D={}),typeof D[S]<"u"||(D[S]=h,o.messages.set(u,D),yield o.persist()),S});return function(u,h){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();let u=this.messages.get(a);return typeof u>"u"&&(u={}),u},this.has=(a,u)=>(this.isInitialized(),typeof this.get(a)[(0,x.rj)(u)]<"u"),this.del=function(){var a=(0,v.Z)(function*(u){o.isInitialized(),o.messages.delete(u),yield o.persist()});return function(u){return a.apply(this,arguments)}}(),this.logger=(0,ae.generateChildLogger)(n,this.name),this.core=r}get context(){return(0,ae.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(n){var r=this;return(0,v.Z)(function*(){yield r.core.storage.setItem(r.storageKey,(0,x.KC)(n))})()}getRelayerMessages(){var n=this;return(0,v.Z)(function*(){const r=yield n.core.storage.getItem(n.storageKey);return typeof r<"u"?(0,x.IP)(r):void 0})()}persist(){var n=this;return(0,v.Z)(function*(){yield n.setRelayerMessages(n.messages)})()}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class bp extends Ke{constructor(n,r){var o;super(n,r),o=this,this.relayer=n,this.logger=r,this.events=new se.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,F.toMiliseconds)(F.TEN_SECONDS),this.queueTimeout=(0,F.toMiliseconds)(F.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=function(){var a=(0,v.Z)(function*(u,h,S){o.logger.debug("Publishing Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:u,message:h,opts:S}});try{const D=S?.ttl||Xh,$=(0,x._H)(S),W=S?.prompt||!1,le=S?.tag||0,Ie=S?.id||Dt().toString(),ke={topic:u,message:h,opts:{ttl:D,relay:$,prompt:W,tag:le,id:Ie}},we=setTimeout(()=>o.queue.set(Ie,ke),o.queueTimeout);try{yield yield(0,x.hF)(o.rpcPublish(u,h,D,$,W,le,Ie),o.publishTimeout),clearTimeout(we),o.relayer.events.emit("relayer_publish",ke)}catch{return o.logger.debug("Publishing Payload stalled"),void(o.needsTransportRestart=!0)}o.logger.debug("Successfully Published Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:u,message:h,opts:S}})}catch(D){throw o.logger.debug("Failed to Publish Payload"),o.logger.error(D),D}});return function(u,h,S){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.relayer=n,this.logger=(0,ae.generateChildLogger)(r,this.name),this.registerEventListeners()}get context(){return(0,ae.getLoggerContext)(this.logger)}rpcPublish(n,r,o,a,u,h,S){var D,$,W,le;const Ie={method:(0,x.cO)(a.protocol).publish,params:{topic:n,message:r,ttl:o,prompt:u,tag:h},id:S};return(0,x.o8)(null==(D=Ie.params)?void 0:D.prompt)&&(null==($=Ie.params)||delete $.prompt),(0,x.o8)(null==(W=Ie.params)?void 0:W.tag)&&(null==(le=Ie.params)||delete le.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:Ie}),this.relayer.request(Ie)}onPublish(n){this.queue.delete(n)}checkQueue(){var n=this;this.queue.forEach(function(){var r=(0,v.Z)(function*(o){const{topic:a,message:u,opts:h}=o;yield n.publish(a,u,h)});return function(o){return r.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(Ce.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit("relayer_connection_stalled");this.checkQueue()}),this.relayer.on("relayer_message_ack",n=>{this.onPublish(n.id.toString())})}}class wp{constructor(){this.map=new Map,this.set=(n,r)=>{const o=this.get(n);this.exists(n,r)||this.map.set(n,[...o,r])},this.get=n=>this.map.get(n)||[],this.exists=(n,r)=>this.get(n).includes(r),this.delete=(n,r)=>{if(typeof r>"u")return void this.map.delete(n);if(!this.map.has(n))return;const o=this.get(n);if(!this.exists(n,r))return;const a=o.filter(u=>u!==r);a.length?this.map.set(n,a):this.map.delete(n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var xp=Object.defineProperty,Ep=Object.defineProperties,Ip=Object.getOwnPropertyDescriptors,iu=Object.getOwnPropertySymbols,Sp=Object.prototype.hasOwnProperty,Pp=Object.prototype.propertyIsEnumerable,su=(y,n,r)=>n in y?xp(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Mi=(y,n)=>{for(var r in n||(n={}))Sp.call(n,r)&&su(y,r,n[r]);if(iu)for(var r of iu(n))Pp.call(n,r)&&su(y,r,n[r]);return y},ea=(y,n)=>Ep(y,Ip(n));class Op extends Ve{constructor(n,r){var o;super(n,r),o=this,this.relayer=n,this.logger=r,this.subscriptions=new Map,this.topicMap=new wp,this.events=new se.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ln,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=(0,v.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restart(),o.registerEventListeners(),o.onEnable(),o.clientId=yield o.relayer.core.crypto.getClientId())}),this.subscribe=function(){var a=(0,v.Z)(function*(u,h){yield o.restartToComplete(),o.isInitialized(),o.logger.debug("Subscribing Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:u,opts:h}});try{const S=(0,x._H)(h),D={topic:u,relay:S};o.pending.set(u,D);const $=yield o.rpcSubscribe(u,S);return o.onSubscribe($,D),o.logger.debug("Successfully Subscribed Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:u,opts:h}}),$}catch(S){throw o.logger.debug("Failed to Subscribe Topic"),o.logger.error(S),S}});return function(u,h){return a.apply(this,arguments)}}(),this.unsubscribe=function(){var a=(0,v.Z)(function*(u,h){yield o.restartToComplete(),o.isInitialized(),typeof h?.id<"u"?yield o.unsubscribeById(u,h.id,h):yield o.unsubscribeByTopic(u,h)});return function(u,h){return a.apply(this,arguments)}}(),this.isSubscribed=function(){var a=(0,v.Z)(function*(u){return!!o.topics.includes(u)||(yield new Promise((h,S)=>{const D=new F.Watch;D.start(o.pendingSubscriptionWatchLabel);const $=setInterval(()=>{!o.pending.has(u)&&o.topics.includes(u)&&(clearInterval($),D.stop(o.pendingSubscriptionWatchLabel),h(!0)),D.elapsed(o.pendingSubscriptionWatchLabel)>=lp&&(clearInterval($),D.stop(o.pendingSubscriptionWatchLabel),S(new Error("Subscription resolution timeout")))},o.pollingInterval)}).catch(()=>!1))});return function(u){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.restart=(0,v.Z)(function*(){o.restartInProgress=!0,yield o.restore(),yield o.reset(),o.restartInProgress=!1}),this.relayer=n,this.logger=(0,ae.generateChildLogger)(r,this.name),this.clientId=""}get context(){return(0,ae.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(n,r){let o=!1;try{o=this.getSubscription(n).topic===r}catch{}return o}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(n,r){var o=this;return(0,v.Z)(function*(){const a=o.topicMap.get(n);yield Promise.all(a.map(function(){var u=(0,v.Z)(function*(h){return yield o.unsubscribeById(n,h,r)});return function(h){return u.apply(this,arguments)}}()))})()}unsubscribeById(n,r,o){var a=this;return(0,v.Z)(function*(){a.logger.debug("Unsubscribing Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:n,id:r,opts:o}});try{const u=(0,x._H)(o);yield a.rpcUnsubscribe(n,r,u);const h=(0,x.D6)("USER_DISCONNECTED",`${a.name}, ${n}`);yield a.onUnsubscribe(n,r,h),a.logger.debug("Successfully Unsubscribed Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:n,id:r,opts:o}})}catch(u){throw a.logger.debug("Failed to Unsubscribe Topic"),a.logger.error(u),u}})()}rpcSubscribe(n,r){var o=this;return(0,v.Z)(function*(){const a={method:(0,x.cO)(r.protocol).subscribe,params:{topic:n}};o.logger.debug("Outgoing Relay Payload"),o.logger.trace({type:"payload",direction:"outgoing",request:a});try{yield yield(0,x.hF)(o.relayer.request(a),o.subscribeTimeout)}catch{o.logger.debug("Outgoing Relay Subscribe Payload stalled"),o.relayer.events.emit("relayer_connection_stalled")}return(0,x.rj)(n+o.clientId)})()}rpcBatchSubscribe(n){var r=this;return(0,v.Z)(function*(){if(!n.length)return;const a={method:(0,x.cO)(n[0].relay.protocol).batchSubscribe,params:{topics:n.map(u=>u.topic)}};r.logger.debug("Outgoing Relay Payload"),r.logger.trace({type:"payload",direction:"outgoing",request:a});try{return yield yield(0,x.hF)(r.relayer.request(a),r.subscribeTimeout)}catch{r.logger.debug("Outgoing Relay Payload stalled"),r.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(n,r,o){const a={method:(0,x.cO)(o.protocol).unsubscribe,params:{topic:n,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(n,r){this.setSubscription(n,ea(Mi({},r),{id:n})),this.pending.delete(r.topic)}onBatchSubscribe(n){n.length&&n.forEach(r=>{this.setSubscription(r.id,Mi({},r)),this.pending.delete(r.topic)})}onUnsubscribe(n,r,o){var a=this;return(0,v.Z)(function*(){a.events.removeAllListeners(r),a.hasSubscription(r,n)&&a.deleteSubscription(r,o),yield a.relayer.messages.del(n)})()}setRelayerSubscriptions(n){var r=this;return(0,v.Z)(function*(){yield r.relayer.core.storage.setItem(r.storageKey,n)})()}getRelayerSubscriptions(){var n=this;return(0,v.Z)(function*(){return yield n.relayer.core.storage.getItem(n.storageKey)})()}setSubscription(n,r){this.subscriptions.has(n)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:n,subscription:r}),this.addSubscription(n,r))}addSubscription(n,r){this.subscriptions.set(n,Mi({},r)),this.topicMap.set(r.topic,n),this.events.emit(vn_created,r)}getSubscription(n){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:n});const r=this.subscriptions.get(n);if(!r){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return r}deleteSubscription(n,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:n,reason:r});const o=this.getSubscription(n);this.subscriptions.delete(n),this.topicMap.delete(o.topic,n),this.events.emit(vn_deleted,ea(Mi({},o),{reason:r}))}persist(){var n=this;return(0,v.Z)(function*(){yield n.setRelayerSubscriptions(n.values),n.events.emit("subscription_sync")})()}reset(){var n=this;return(0,v.Z)(function*(){if(n.cached.length){const r=Math.ceil(n.cached.length/n.batchSubscribeTopicsLimit);for(let o=0;o<r;o++){const a=n.cached.splice(0,n.batchSubscribeTopicsLimit);yield n.batchSubscribe(a)}}n.events.emit("subscription_resubscribed")})()}restore(){var n=this;return(0,v.Z)(function*(){try{const r=yield n.getRelayerSubscriptions();if(typeof r>"u"||!r.length)return;if(n.subscriptions.size){const{message:o}=(0,x.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),n.logger.error(`${n.name}: ${JSON.stringify(n.values)}`),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored subscriptions for ${n.name}`),n.logger.trace({type:"method",method:"restore",subscriptions:n.values})}catch(r){n.logger.debug(`Failed to Restore subscriptions for ${n.name}`),n.logger.error(r)}})()}batchSubscribe(n){var r=this;return(0,v.Z)(function*(){if(!n.length)return;const o=yield r.rpcBatchSubscribe(n);(0,x.qt)(o)&&r.onBatchSubscribe(o.map((a,u)=>ea(Mi({},n[u]),{id:a})))})()}onConnect(){var n=this;return(0,v.Z)(function*(){n.restartInProgress||(yield n.restart(),n.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var n=this;return(0,v.Z)(function*(){if(n.relayer.transportExplicitlyClosed)return;const r=[];n.pending.forEach(o=>{r.push(o)}),yield n.batchSubscribe(r)})()}registerEventListeners(){var n=this;this.relayer.core.heartbeat.on(Ce.HEARTBEAT_EVENTS.pulse,(0,v.Z)(function*(){yield n.checkPending()})),this.relayer.on("relayer_connect",(0,v.Z)(function*(){yield n.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(vn_created,function(){var r=(0,v.Z)(function*(o){const a=vn_created;n.logger.info(`Emitting ${a}`),n.logger.debug({type:"event",event:a,data:o}),yield n.persist()});return function(o){return r.apply(this,arguments)}}()),this.events.on(vn_deleted,function(){var r=(0,v.Z)(function*(o){const a=vn_deleted;n.logger.info(`Emitting ${a}`),n.logger.debug({type:"event",event:a,data:o}),yield n.persist()});return function(o){return r.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}restartToComplete(){var n=this;return(0,v.Z)(function*(){n.restartInProgress&&(yield new Promise(r=>{const o=setInterval(()=>{n.restartInProgress||(clearInterval(o),r())},n.pollingInterval)}))})()}}var Ap=Object.defineProperty,ou=Object.getOwnPropertySymbols,Cp=Object.prototype.hasOwnProperty,Rp=Object.prototype.propertyIsEnumerable,au=(y,n,r)=>n in y?Ap(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r;class Dp extends ue{constructor(n){var r;super(n),r=this,this.protocol="wc",this.version=2,this.events=new se.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=function(){var o=(0,v.Z)(function*(a){r.logger.debug("Publishing Request Payload");try{return yield r.toEstablishConnection(),yield r.provider.request(a)}catch(u){throw r.logger.debug("Failed to Publish Request"),r.logger.error(u),u}});return function(a){return o.apply(this,arguments)}}(),this.core=n.core,this.logger=typeof n.logger<"u"&&"string"!=typeof n.logger?(0,ae.generateChildLogger)(n.logger,this.name):(0,ae.pino)((0,ae.getDefaultLoggerOptions)({level:n.logger||"error"})),this.messages=new mp(this.logger,n.core),this.subscriber=new Op(this,this.logger),this.publisher=new bp(this,this.logger),this.relayUrl=n?.relayUrl||tu,this.projectId=n.projectId,this.provider={}}init(){var n=this;return(0,v.Z)(function*(){n.logger.trace("Initialized"),yield n.createProvider(),yield Promise.all([n.messages.init(),n.subscriber.init()]);try{yield n.transportOpen()}catch{n.logger.warn(`Connection via ${n.relayUrl} failed, attempting to connect via failover domain ${ru}...`),yield n.restartTransport(ru)}n.registerEventListeners(),n.initialized=!0,setTimeout((0,v.Z)(function*(){0===n.subscriber.topics.length&&(n.logger.info("No topics subscribed to after init, closing transport"),yield n.transportClose(),n.transportExplicitlyClosed=!1)}),1e4)})()}get context(){return(0,ae.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(n,r,o){var a=this;return(0,v.Z)(function*(){a.isInitialized(),yield a.publisher.publish(n,r,o),yield a.recordMessageEvent({topic:n,message:r,publishedAt:Date.now()})})()}subscribe(n,r){var o=this;return(0,v.Z)(function*(){var a;o.isInitialized();let u=(null==(a=o.subscriber.topicMap.get(n))?void 0:a[0])||"";return u||(yield Promise.all([new Promise(h=>{o.subscriber.once(vn_created,S=>{S.topic===n&&h()})}),new Promise(function(){var h=(0,v.Z)(function*(S){u=yield o.subscriber.subscribe(n,r),S()});return function(S){return h.apply(this,arguments)}}())]),u)})()}unsubscribe(n,r){var o=this;return(0,v.Z)(function*(){o.isInitialized(),yield o.subscriber.unsubscribe(n,r)})()}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}transportClose(){var n=this;return(0,v.Z)(function*(){n.transportExplicitlyClosed=!0,n.connected&&(yield n.provider.disconnect(),n.events.emit("relayer_transport_closed"))})()}transportOpen(n){var r=this;return(0,v.Z)(function*(){if(r.transportExplicitlyClosed=!1,!r.reconnecting){r.relayUrl=n||r.relayUrl,r.reconnecting=!0;try{yield Promise.all([new Promise(o=>{r.initialized||o(),r.subscriber.once("subscription_resubscribed",()=>{o()})}),yield Promise.race([new Promise(function(){var o=(0,v.Z)(function*(a,u){yield(0,x.hF)(r.provider.connect(),5e3,`Socket stalled when trying to connect to ${r.relayUrl}`).catch(h=>u(h)).then(()=>a()).finally(()=>r.removeListener("relayer_transport_closed",r.rejectTransportOpen))});return function(a,u){return o.apply(this,arguments)}}()),new Promise(o=>r.once("relayer_transport_closed",r.rejectTransportOpen))])])}catch(o){if(r.logger.error(o),!r.isConnectionStalled(o.message))throw o;r.events.emit("relayer_transport_closed")}finally{r.reconnecting=!1}}})()}restartTransport(n){var r=this;return(0,v.Z)(function*(){r.transportExplicitlyClosed||r.reconnecting||(r.relayUrl=n||r.relayUrl,r.connected&&(yield Promise.all([new Promise(o=>{r.provider.once("disconnect",()=>{o()})}),r.transportClose()])),yield r.createProvider(),yield r.transportOpen())})()}isConnectionStalled(n){return this.staleConnectionErrors.some(r=>n.includes(r))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}createProvider(){var n=this;return(0,v.Z)(function*(){const r=yield n.core.crypto.signJWT(n.relayUrl);n.provider=new Dr(new class To{constructor(n){if(this.url=n,this.events=new se.EventEmitter,this.registering=!1,!fs(n))throw new Error(`Provided URL is not compatible with WebSocket connection: ${n}`);this.url=n}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}open(n=this.url){var r=this;return(0,v.Z)(function*(){yield r.register(n)})()}close(){var n=this;return(0,v.Z)(function*(){return new Promise((r,o)=>{typeof n.socket>"u"?o(new Error("Connection already closed")):(n.socket.onclose=a=>{n.onClose(a),r()},n.socket.close())})})()}send(n,r){var o=this;return(0,v.Z)(function*(){typeof o.socket>"u"&&(o.socket=yield o.register());try{o.socket.send(O(n))}catch(a){o.onError(n.id,a)}})()}register(n=this.url){if(!fs(n))throw new Error(`Provided URL is not compatible with WebSocket connection: ${n}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((o,a)=>{this.events.once("register_error",u=>{this.resetMaxListeners(),a(u)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));o(this.socket)})})}return this.url=n,this.registering=!0,new Promise((r,o)=>{const a=(0,kt.isReactNative)()?void 0:{rejectUnauthorized:(y=n,!new RegExp("wss?://localhost(:d{2,5})?").test(y))},u=new Ro(n,[],a);var y;typeof window<"u"?u.onerror=h=>{o(this.emitError(h.error))}:u.on("error",h=>{o(this.emitError(h))}),u.onopen=()=>{this.onOpen(u),r(u)}})}onOpen(n){n.onmessage=r=>this.onPayload(r),n.onclose=r=>this.onClose(r),this.socket=n,this.registering=!1,this.events.emit("open")}onClose(n){this.socket=void 0,this.registering=!1,this.events.emit("close",n)}onPayload(n){if(typeof n.data>"u")return;const r="string"==typeof n.data?I(n.data):n.data;this.events.emit("payload",r)}onError(n,r){const o=this.parseError(r),u=yt(n,o.message||o.toString());this.events.emit("payload",u)}parseError(n,r=this.url){return gt(n,hs(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(n){const r=this.parseError(new Error(n?.message||`WebSocket connection failed for host: ${hs(this.url)}`));return this.events.emit("register_error",r),r}}((0,x.$0)({sdkVersion:"2.9.0",protocol:n.protocol,version:n.version,relayUrl:n.relayUrl,projectId:n.projectId,auth:r,useOnCloseEvent:!0}))),n.registerProviderListeners()})()}recordMessageEvent(n){var r=this;return(0,v.Z)(function*(){const{topic:o,message:a}=n;yield r.messages.set(o,a)})()}shouldIgnoreMessageEvent(n){var r=this;return(0,v.Z)(function*(){const{topic:o,message:a}=n;return!(yield r.subscriber.isSubscribed(o))||r.messages.has(o,a)})()}onProviderPayload(n){var r=this;return(0,v.Z)(function*(){if(r.logger.debug("Incoming Relay Payload"),r.logger.trace({type:"payload",direction:"incoming",payload:n}),Di(n)){if(!n.method.endsWith("_subscription"))return;const o=n.params,{topic:a,message:u,publishedAt:h}=o.data,S={topic:a,message:u,publishedAt:h};r.logger.debug("Emitting Relayer Payload"),r.logger.trace(((y,n)=>{for(var r in n||(n={}))Cp.call(n,r)&&au(y,r,n[r]);if(ou)for(var r of ou(n))Rp.call(n,r)&&au(y,r,n[r]);return y})({type:"event",event:o.id},S)),r.events.emit(o.id,S),yield r.acknowledgePayload(n),yield r.onMessageEvent(S)}else ui(n)&&r.events.emit("relayer_message_ack",n)})()}onMessageEvent(n){var r=this;return(0,v.Z)(function*(){(yield r.shouldIgnoreMessageEvent(n))||(r.events.emit("relayer_message",n),yield r.recordMessageEvent(n))})()}acknowledgePayload(n){var r=this;return(0,v.Z)(function*(){const o=Ct(n.id,!0);yield r.provider.connection.send(o)})()}registerProviderListeners(){this.provider.on("payload",n=>this.onProviderPayload(n)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.onProviderDisconnect()}),this.provider.on("error",n=>{this.logger.error(n),this.events.emit("relayer_error",n)})}registerEventListeners(){var n=this;this.events.on("relayer_connection_stalled",(0,v.Z)(function*(){yield n.restartTransport()}))}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var n=this;this.transportExplicitlyClosed||setTimeout((0,v.Z)(function*(){yield n.restartTransport()}),(0,F.toMiliseconds)(np))}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}toEstablishConnection(){var n=this;return(0,v.Z)(function*(){if(!n.connected){if(n.connecting)return yield new Promise(r=>{const o=setInterval(()=>{n.connected&&(clearInterval(o),r())},n.connectionStatusPollingInterval)});yield n.restartTransport()}})()}}var Np=Object.defineProperty,cu=Object.getOwnPropertySymbols,jp=Object.prototype.hasOwnProperty,Fp=Object.prototype.propertyIsEnumerable,uu=(y,n,r)=>n in y?Np(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,lu=(y,n)=>{for(var r in n||(n={}))jp.call(n,r)&&uu(y,r,n[r]);if(cu)for(var r of cu(n))Fp.call(n,r)&&uu(y,r,n[r]);return y};class Is extends Ge{constructor(n,r,o,a=Ln,u=void 0){var h;super(n,r,o,a),h=this,this.core=n,this.logger=r,this.name=o,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Ln,this.init=(0,v.Z)(function*(){h.initialized||(h.logger.trace("Initialized"),yield h.restore(),h.cached.forEach(S=>{h.getKey&&null!==S&&!(0,x.o8)(S)?h.map.set(h.getKey(S),S):(0,x.xW)(S)?h.map.set(S.id,S):(0,x.h1)(S)&&h.map.set(S.topic,S)}),h.cached=[],h.initialized=!0)}),this.set=function(){var S=(0,v.Z)(function*(D,$){h.isInitialized(),h.map.has(D)?yield h.update(D,$):(h.logger.debug("Setting value"),h.logger.trace({type:"method",method:"set",key:D,value:$}),h.map.set(D,$),yield h.persist())});return function(D,$){return S.apply(this,arguments)}}(),this.get=S=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:S}),this.getData(S)),this.getAll=S=>(this.isInitialized(),S?this.values.filter(D=>Object.keys(S).every($=>Wn()(D[$],S[$]))):this.values),this.update=function(){var S=(0,v.Z)(function*(D,$){h.isInitialized(),h.logger.debug("Updating value"),h.logger.trace({type:"method",method:"update",key:D,update:$});const W=lu(lu({},h.getData(D)),$);h.map.set(D,W),yield h.persist()});return function(D,$){return S.apply(this,arguments)}}(),this.delete=function(){var S=(0,v.Z)(function*(D,$){h.isInitialized(),h.map.has(D)&&(h.logger.debug("Deleting value"),h.logger.trace({type:"method",method:"delete",key:D,reason:$}),h.map.delete(D),yield h.persist())});return function(D,$){return S.apply(this,arguments)}}(),this.logger=(0,ae.generateChildLogger)(r,this.name),this.storagePrefix=a,this.getKey=u}get context(){return(0,ae.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(n){var r=this;return(0,v.Z)(function*(){yield r.core.storage.setItem(r.storageKey,n)})()}getDataStore(){var n=this;return(0,v.Z)(function*(){return yield n.core.storage.getItem(n.storageKey)})()}getData(n){const r=this.map.get(n);if(!r){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw this.logger.error(o),new Error(o)}return r}persist(){var n=this;return(0,v.Z)(function*(){yield n.setDataStore(n.values)})()}restore(){var n=this;return(0,v.Z)(function*(){try{const r=yield n.getDataStore();if(typeof r>"u"||!r.length)return;if(n.map.size){const{message:o}=(0,x.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored value for ${n.name}`),n.logger.trace({type:"method",method:"restore",value:n.values})}catch(r){n.logger.debug(`Failed to Restore value for ${n.name}`),n.logger.error(r)}})()}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Lp{constructor(n,r){var o=this;this.core=n,this.logger=r,this.name="pairing",this.version="0.3",this.events=new(ve()),this.initialized=!1,this.storagePrefix=Ln,this.ignoredPayloadTypes=[x.rV],this.registeredMethods=[],this.init=(0,v.Z)(function*(){o.initialized||(yield o.pairings.init(),yield o.cleanup(),o.registerRelayerEvents(),o.registerExpirerEvents(),o.initialized=!0,o.logger.trace("Initialized"))}),this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=(0,v.Z)(function*(){o.isInitialized();const a=(0,x.jd)(),u=yield o.core.crypto.setSymKey(a),h=(0,x.gn)(F.FIVE_MINUTES),S={protocol:"irn"},D={topic:u,expiry:h,relay:S,active:!1},$=(0,x.Bv)({protocol:o.core.protocol,version:o.core.version,topic:u,symKey:a,relay:S});return yield o.pairings.set(u,D),yield o.core.relayer.subscribe(u),o.core.expirer.set(u,h),{topic:u,uri:$}}),this.pair=function(){var a=(0,v.Z)(function*(u){o.isInitialized(),o.isValidPair(u);const{topic:h,symKey:S,relay:D}=(0,x.he)(u.uri);if(o.pairings.keys.includes(h))throw new Error(`Pairing already exists: ${h}`);if(o.core.crypto.hasKeys(h))throw new Error(`Keychain already exists: ${h}`);const $=(0,x.gn)(F.FIVE_MINUTES),W={topic:h,relay:D,expiry:$,active:!1};return yield o.pairings.set(h,W),yield o.core.crypto.setSymKey(S,h),yield o.core.relayer.subscribe(h,{relay:D}),o.core.expirer.set(h,$),u.activatePairing&&(yield o.activate({topic:h})),W});return function(u){return a.apply(this,arguments)}}(),this.activate=function(){var a=(0,v.Z)(function*({topic:u}){o.isInitialized();const h=(0,x.gn)(F.THIRTY_DAYS);yield o.pairings.update(u,{active:!0,expiry:h}),o.core.expirer.set(u,h)});return function(u){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,v.Z)(function*(u){o.isInitialized(),yield o.isValidPing(u);const{topic:h}=u;if(o.pairings.keys.includes(h)){const S=yield o.sendRequest(h,"wc_pairingPing",{}),{done:D,resolve:$,reject:W}=(0,x.H1)();o.events.once((0,x.E0)("pairing_ping",S),({error:le})=>{le?W(le):$()}),yield D()}});return function(u){return a.apply(this,arguments)}}(),this.updateExpiry=function(){var a=(0,v.Z)(function*({topic:u,expiry:h}){o.isInitialized(),yield o.pairings.update(u,{expiry:h})});return function(u){return a.apply(this,arguments)}}(),this.updateMetadata=function(){var a=(0,v.Z)(function*({topic:u,metadata:h}){o.isInitialized(),yield o.pairings.update(u,{peerMetadata:h})});return function(u){return a.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var a=(0,v.Z)(function*(u){o.isInitialized(),yield o.isValidDisconnect(u);const{topic:h}=u;o.pairings.keys.includes(h)&&(yield o.sendRequest(h,"wc_pairingDelete",(0,x.D6)("USER_DISCONNECTED")),yield o.deletePairing(h))});return function(u){return a.apply(this,arguments)}}(),this.sendRequest=function(){var a=(0,v.Z)(function*(u,h,S){const D=At(h,S),$=yield o.core.crypto.encode(u,D),W=Li[h].req;return o.core.history.set(u,D),o.core.relayer.publish(u,$,W),D.id});return function(u,h,S){return a.apply(this,arguments)}}(),this.sendResult=function(){var a=(0,v.Z)(function*(u,h,S){const D=Ct(u,S),$=yield o.core.crypto.encode(h,D),W=yield o.core.history.get(h,u),le=Li[W.request.method].res;yield o.core.relayer.publish(h,$,le),yield o.core.history.resolve(D)});return function(u,h,S){return a.apply(this,arguments)}}(),this.sendError=function(){var a=(0,v.Z)(function*(u,h,S){const D=yt(u,S),$=yield o.core.crypto.encode(h,D),W=yield o.core.history.get(h,u),le=Li[W.request.method]?Li[W.request.method].res:Li.unregistered_method.res;yield o.core.relayer.publish(h,$,le),yield o.core.history.resolve(D)});return function(u,h,S){return a.apply(this,arguments)}}(),this.deletePairing=function(){var a=(0,v.Z)(function*(u,h){yield o.core.relayer.unsubscribe(u),yield Promise.all([o.pairings.delete(u,(0,x.D6)("USER_DISCONNECTED")),o.core.crypto.deleteSymKey(u),h?Promise.resolve():o.core.expirer.del(u)])});return function(u,h){return a.apply(this,arguments)}}(),this.cleanup=(0,v.Z)(function*(){const a=o.pairings.getAll().filter(u=>(0,x.Bw)(u.expiry));yield Promise.all(a.map(u=>o.deletePairing(u.topic)))}),this.onRelayEventRequest=a=>{const{topic:u,payload:h}=a,S=h.method;if(this.pairings.keys.includes(u))switch(S){case"wc_pairingPing":return this.onPairingPingRequest(u,h);case"wc_pairingDelete":return this.onPairingDeleteRequest(u,h);default:return this.onUnknownRpcMethodRequest(u,h)}},this.onRelayEventResponse=function(){var a=(0,v.Z)(function*(u){const{topic:h,payload:S}=u,D=(yield o.core.history.get(h,S.id)).request.method;if(o.pairings.keys.includes(h))return"wc_pairingPing"===D?o.onPairingPingResponse(h,S):o.onUnknownRpcMethodResponse(D)});return function(u){return a.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var a=(0,v.Z)(function*(u,h){const{id:S}=h;try{o.isValidPing({topic:u}),yield o.sendResult(S,u,!0),o.events.emit("pairing_ping",{id:S,topic:u})}catch(D){yield o.sendError(S,u,D),o.logger.error(D)}});return function(u,h){return a.apply(this,arguments)}}(),this.onPairingPingResponse=(a,u)=>{const{id:h}=u;setTimeout(()=>{tn(u)?this.events.emit((0,x.E0)("pairing_ping",h),{}):Tr(u)&&this.events.emit((0,x.E0)("pairing_ping",h),{error:u.error})},500)},this.onPairingDeleteRequest=function(){var a=(0,v.Z)(function*(u,h){const{id:S}=h;try{o.isValidDisconnect({topic:u}),yield o.deletePairing(u),o.events.emit("pairing_delete",{id:S,topic:u})}catch(D){yield o.sendError(S,u,D),o.logger.error(D)}});return function(u,h){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var a=(0,v.Z)(function*(u,h){const{id:S,method:D}=h;try{if(o.registeredMethods.includes(D))return;const $=(0,x.D6)("WC_METHOD_UNSUPPORTED",D);yield o.sendError(S,u,$),o.logger.error($)}catch($){yield o.sendError(S,u,$),o.logger.error($)}});return function(u,h){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error((0,x.D6)("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{if(!(0,x.EJ)(a)){const{message:u}=(0,x.Z7)("MISSING_OR_INVALID",`pair() params: ${a}`);throw new Error(u)}if(!(0,x.jv)(a.uri)){const{message:u}=(0,x.Z7)("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw new Error(u)}},this.isValidPing=function(){var a=(0,v.Z)(function*(u){if(!(0,x.EJ)(u)){const{message:S}=(0,x.Z7)("MISSING_OR_INVALID",`ping() params: ${u}`);throw new Error(S)}const{topic:h}=u;yield o.isValidPairingTopic(h)});return function(u){return a.apply(this,arguments)}}(),this.isValidDisconnect=function(){var a=(0,v.Z)(function*(u){if(!(0,x.EJ)(u)){const{message:S}=(0,x.Z7)("MISSING_OR_INVALID",`disconnect() params: ${u}`);throw new Error(S)}const{topic:h}=u;yield o.isValidPairingTopic(h)});return function(u){return a.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var a=(0,v.Z)(function*(u){if(!(0,x.M_)(u,!1)){const{message:h}=(0,x.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${u}`);throw new Error(h)}if(!o.pairings.keys.includes(u)){const{message:h}=(0,x.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${u}`);throw new Error(h)}if((0,x.Bw)(o.pairings.get(u).expiry)){yield o.deletePairing(u);const{message:h}=(0,x.Z7)("EXPIRED",`pairing topic: ${u}`);throw new Error(h)}});return function(u){return a.apply(this,arguments)}}(),this.core=n,this.logger=(0,ae.generateChildLogger)(r,this.name),this.pairings=new Is(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,ae.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}registerRelayerEvents(){var n=this;this.core.relayer.on("relayer_message",function(){var r=(0,v.Z)(function*(o){const{topic:a,message:u}=o;if(n.ignoredPayloadTypes.includes(n.core.crypto.getPayloadType(u)))return;const h=yield n.core.crypto.decode(a,u);Di(h)?(n.core.history.set(a,h),n.onRelayEventRequest({topic:a,payload:h})):ui(h)&&(yield n.core.history.resolve(h),yield n.onRelayEventResponse({topic:a,payload:h}),n.core.history.delete(a,h.id))});return function(o){return r.apply(this,arguments)}}())}registerExpirerEvents(){var n=this;this.core.expirer.on($r_expired,function(){var r=(0,v.Z)(function*(o){const{topic:a}=(0,x.iP)(o.target);a&&n.pairings.keys.includes(a)&&(yield n.deletePairing(a,!0),n.events.emit("pairing_expire",{topic:a}))});return function(o){return r.apply(this,arguments)}}())}}class Mp extends Pe{constructor(n,r){var o;super(n,r),o=this,this.core=n,this.logger=r,this.records=new Map,this.events=new se.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Ln,this.init=(0,v.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(a=>o.records.set(a.id,a)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.set=(a,u,h)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:u,chainId:h}),this.records.has(u.id))return;const S={id:u.id,topic:a,request:{method:u.method,params:u.params||null},chainId:h,expiry:(0,x.gn)(F.THIRTY_DAYS)};this.records.set(S.id,S),this.events.emit("history_created",S)},this.resolve=function(){var a=(0,v.Z)(function*(u){if(o.isInitialized(),o.logger.debug("Updating JSON-RPC response history record"),o.logger.trace({type:"method",method:"update",response:u}),!o.records.has(u.id))return;const h=yield o.getRecord(u.id);typeof h.response>"u"&&(h.response=Tr(u)?{error:u.error}:{result:u.result},o.records.set(h.id,h),o.events.emit("history_updated",h))});return function(u){return a.apply(this,arguments)}}(),this.get=function(){var a=(0,v.Z)(function*(u,h){return o.isInitialized(),o.logger.debug("Getting record"),o.logger.trace({type:"method",method:"get",topic:u,id:h}),yield o.getRecord(h)});return function(u,h){return a.apply(this,arguments)}}(),this.delete=(a,u)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:u}),this.values.forEach(h=>{if(h.topic===a){if(typeof u<"u"&&h.id!==u)return;this.records.delete(h.id),this.events.emit("history_deleted",h)}})},this.exists=function(){var a=(0,v.Z)(function*(u,h){return o.isInitialized(),!!o.records.has(h)&&(yield o.getRecord(h)).topic===u});return function(u,h){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.logger=(0,ae.generateChildLogger)(r,this.name)}get context(){return(0,ae.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const n=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const o={topic:r.topic,request:At(r.request.method,r.request.params,r.id),chainId:r.chainId};return n.push(o)}),n}setJsonRpcRecords(n){var r=this;return(0,v.Z)(function*(){yield r.core.storage.setItem(r.storageKey,n)})()}getJsonRpcRecords(){var n=this;return(0,v.Z)(function*(){return yield n.core.storage.getItem(n.storageKey)})()}getRecord(n){this.isInitialized();const r=this.records.get(n);if(!r){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return r}persist(){var n=this;return(0,v.Z)(function*(){yield n.setJsonRpcRecords(n.values),n.events.emit("history_sync")})()}restore(){var n=this;return(0,v.Z)(function*(){try{const r=yield n.getJsonRpcRecords();if(typeof r>"u"||!r.length)return;if(n.records.size){const{message:o}=(0,x.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored records for ${n.name}`),n.logger.trace({type:"method",method:"restore",records:n.values})}catch(r){n.logger.debug(`Failed to Restore records for ${n.name}`),n.logger.error(r)}})()}registerEventListeners(){this.events.on("history_created",n=>{const r="history_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:n}),this.persist()}),this.events.on("history_updated",n=>{const r="history_updated";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:n}),this.persist()}),this.events.on("history_deleted",n=>{const r="history_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:n}),this.persist()}),this.core.heartbeat.on(Ce.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(n=>{(0,F.toMiliseconds)(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.delete(n.topic,n.id))})}catch(n){this.logger.warn(n)}}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Zp extends Et{constructor(n,r){var o;super(n,r),o=this,this.core=n,this.logger=r,this.expirations=new Map,this.events=new se.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Ln,this.init=(0,v.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(a=>o.expirations.set(a.target,a)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.has=a=>{try{const u=this.formatTarget(a);return typeof this.getExpiration(u)<"u"}catch{return!1}},this.set=(a,u)=>{this.isInitialized();const h=this.formatTarget(a),S={target:h,expiry:u};this.expirations.set(h,S),this.checkExpiry(h,S),this.events.emit("expirer_created",{target:h,expiration:S})},this.get=a=>{this.isInitialized();const u=this.formatTarget(a);return this.getExpiration(u)},this.del=a=>{if(this.isInitialized(),this.has(a)){const u=this.formatTarget(a),h=this.getExpiration(u);this.expirations.delete(u),this.events.emit("expirer_deleted",{target:u,expiration:h})}},this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.logger=(0,ae.generateChildLogger)(r,this.name)}get context(){return(0,ae.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(n){if("string"==typeof n)return(0,x.Z4)(n);if("number"==typeof n)return(0,x.Gq)(n);const{message:r}=(0,x.Z7)("UNKNOWN_TYPE","Target type: "+typeof n);throw new Error(r)}setExpirations(n){var r=this;return(0,v.Z)(function*(){yield r.core.storage.setItem(r.storageKey,n)})()}getExpirations(){var n=this;return(0,v.Z)(function*(){return yield n.core.storage.getItem(n.storageKey)})()}persist(){var n=this;return(0,v.Z)(function*(){yield n.setExpirations(n.values),n.events.emit("expirer_sync")})()}restore(){var n=this;return(0,v.Z)(function*(){try{const r=yield n.getExpirations();if(typeof r>"u"||!r.length)return;if(n.expirations.size){const{message:o}=(0,x.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored expirations for ${n.name}`),n.logger.trace({type:"method",method:"restore",expirations:n.values})}catch(r){n.logger.debug(`Failed to Restore expirations for ${n.name}`),n.logger.error(r)}})()}getExpiration(n){const r=this.expirations.get(n);if(!r){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw this.logger.error(o),new Error(o)}return r}checkExpiry(n,r){const{expiry:o}=r;(0,F.toMiliseconds)(o)-Date.now()<=0&&this.expire(n,r)}expire(n,r){this.expirations.delete(n),this.events.emit($r_expired,{target:n,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((n,r)=>this.checkExpiry(r,n))}registerEventListeners(){this.core.heartbeat.on(Ce.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",n=>{const r="expirer_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:n}),this.persist()}),this.events.on($r_expired,n=>{const r=$r_expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:n}),this.persist()}),this.events.on("expirer_deleted",n=>{const r="expirer_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:n}),this.persist()})}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class zp extends bt{constructor(n,r){var o;super(n,r),o=this,this.projectId=n,this.logger=r,this.name=Qo,this.initialized=!1,this.init=function(){var a=(0,v.Z)(function*(u){(0,x.b$)()||!(0,x.jU)()||(o.verifyUrl=u?.verifyUrl||nu,yield o.createIframe())});return function(u){return a.apply(this,arguments)}}(),this.register=function(){var a=(0,v.Z)(function*(u){var h;if(o.initialized||(yield o.init()),o.iframe)try{null==(h=o.iframe.contentWindow)||h.postMessage(u.attestationId,o.verifyUrl),o.logger.info(`postMessage sent: ${u.attestationId} ${o.verifyUrl}`)}catch{}});return function(u){return a.apply(this,arguments)}}(),this.resolve=function(){var a=(0,v.Z)(function*(u){var h;if(o.isDevEnv)return"";o.logger.info(`resolving attestation: ${u.attestationId}`);const S=o.startAbortTimer(F.FIVE_SECONDS),D=yield fetch(`${o.verifyUrl}/attestation/${u.attestationId}`,{signal:o.abortController.signal});return clearTimeout(S),200===D.status?null==(h=yield D.json())?void 0:h.origin:""});return function(u){return a.apply(this,arguments)}}(),this.createIframe=(0,v.Z)(function*(){try{yield Promise.race([new Promise((a,u)=>{if(document.getElementById(Qo))return a();const h=document.createElement("iframe");h.setAttribute("id",Qo),h.setAttribute("src",`${o.verifyUrl}/${o.projectId}`),h.style.display="none",h.addEventListener("load",()=>{o.initialized=!0,a()}),h.addEventListener("error",S=>{u(S)}),document.body.append(h),o.iframe=h}),new Promise(a=>{setTimeout(()=>a("iframe load timeout"),(0,F.toMiliseconds)(F.ONE_SECOND/2))})])}catch(a){o.logger.error(`Verify iframe failed to load: ${o.verifyUrl}`),o.logger.error(a)}}),this.logger=(0,ae.generateChildLogger)(r,this.name),this.verifyUrl=nu,this.abortController=new AbortController,this.isDevEnv=(0,x.UG)()&&process.env.IS_VITEST}get context(){return(0,ae.getLoggerContext)(this.logger)}startAbortTimer(n){return setTimeout(()=>this.abortController.abort(),(0,F.toMiliseconds)(n))}}var Up=Object.defineProperty,fu=Object.getOwnPropertySymbols,$p=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,hu=(y,n,r)=>n in y?Up(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,pu=(y,n)=>{for(var r in n||(n={}))$p.call(n,r)&&hu(y,r,n[r]);if(fu)for(var r of fu(n))qp.call(n,r)&&hu(y,r,n[r]);return y};class ta extends ie{constructor(n){super(n),this.protocol="wc",this.version=2,this.name="core",this.events=new se.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.projectId=n?.projectId,this.relayUrl=n?.relayUrl||tu;const r=typeof n?.logger<"u"&&"string"!=typeof n?.logger?n.logger:(0,ae.pino)((0,ae.getDefaultLoggerOptions)({level:n?.logger||"error"}));this.logger=(0,ae.generateChildLogger)(r,this.name),this.heartbeat=new Ce.HeartBeat,this.crypto=new vp(this,this.logger,n?.keychain),this.history=new Mp(this,this.logger),this.expirer=new Zp(this,this.logger),this.storage=null!=n&&n.storage?n.storage:new ne.ZP(pu(pu({},Bh),n?.storageOptions)),this.relayer=new Dp({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Lp(this,this.logger),this.verify=new zp(this.projectId||"",this.logger)}static init(n){return(0,v.Z)(function*(){const r=new ta(n);yield r.initialize();const o=yield r.crypto.getClientId();return yield r.storage.setItem("WALLETCONNECT_CLIENT_ID",o),r})()}get context(){return(0,ae.getLoggerContext)(this.logger)}start(){var n=this;return(0,v.Z)(function*(){n.initialized||(yield n.initialize())})()}initialize(){var n=this;return(0,v.Z)(function*(){n.logger.trace("Initialized");try{yield n.crypto.init(),yield n.history.init(),yield n.expirer.init(),yield n.relayer.init(),yield n.heartbeat.init(),yield n.pairing.init(),n.initialized=!0,n.logger.info("Core Initialization Success")}catch(r){throw n.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,r),n.logger.error(r.message),r}})()}}const Hp=ta,ra="wc@2:client:",_u="Proposal expired",Ss=F.SEVEN_DAYS,Zi={wc_sessionPropose:{req:{ttl:F.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:F.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:F.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:F.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:F.ONE_DAY,prompt:!1,tag:1104},res:{ttl:F.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:F.ONE_DAY,prompt:!1,tag:1106},res:{ttl:F.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:F.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:F.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:F.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:F.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:F.ONE_DAY,prompt:!1,tag:1112},res:{ttl:F.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:F.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:F.THIRTY_SECONDS,prompt:!1,tag:1115}}},ia={min:F.FIVE_MINUTES,max:F.SEVEN_DAYS},Jp=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var Wp=Object.defineProperty,Yp=Object.defineProperties,Xp=Object.getOwnPropertyDescriptors,vu=Object.getOwnPropertySymbols,Qp=Object.prototype.hasOwnProperty,ed=Object.prototype.propertyIsEnumerable,mu=(y,n,r)=>n in y?Wp(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,qr=(y,n)=>{for(var r in n||(n={}))Qp.call(n,r)&&mu(y,r,n[r]);if(vu)for(var r of vu(n))ed.call(n,r)&&mu(y,r,n[r]);return y},sa=(y,n)=>Yp(y,Xp(n));class td extends p{constructor(n){var r;super(n),r=this,this.name="engine",this.events=new(ve()),this.initialized=!1,this.ignoredPayloadTypes=[x.rV],this.init=(0,v.Z)(function*(){r.initialized||(yield r.cleanup(),r.registerRelayerEvents(),r.registerExpirerEvents(),r.client.core.pairing.register({methods:Object.keys(Zi)}),r.initialized=!0)}),this.connect=function(){var o=(0,v.Z)(function*(a){r.isInitialized();const u=sa(qr({},a),{requiredNamespaces:a.requiredNamespaces||{},optionalNamespaces:a.optionalNamespaces||{}});yield r.isValidConnect(u);const{pairingTopic:h,requiredNamespaces:S,optionalNamespaces:D,sessionProperties:$,relays:W}=u;let Ie,le=h,ke=!1;if(le&&(ke=r.client.core.pairing.pairings.get(le).active),!le||!ke){const{topic:ct,uri:zt}=yield r.client.core.pairing.create();le=ct,Ie=zt}const we=yield r.client.core.crypto.generateKeyPair(),Qe=qr({requiredNamespaces:S,optionalNamespaces:D,relays:W??[{protocol:"irn"}],proposer:{publicKey:we,metadata:r.client.metadata}},$&&{sessionProperties:$}),{reject:Be,resolve:vt,done:hr}=(0,x.H1)(F.FIVE_MINUTES,_u);if(r.events.once((0,x.E0)("session_connect"),function(){var ct=(0,v.Z)(function*({error:zt,session:Je}){if(zt)Be(zt);else if(Je){Je.self.publicKey=we;const cr=sa(qr({},Je),{requiredNamespaces:Je.requiredNamespaces,optionalNamespaces:Je.optionalNamespaces});yield r.client.session.set(Je.topic,cr),yield r.setExpiry(Je.topic,Je.expiry),le&&(yield r.client.core.pairing.updateMetadata({topic:le,metadata:Je.peer.metadata})),vt(cr)}});return function(zt){return ct.apply(this,arguments)}}()),!le){const{message:ct}=(0,x.Z7)("NO_MATCHING_KEY",`connect() pairing topic: ${le}`);throw new Error(ct)}const pt=yield r.sendRequest(le,"wc_sessionPropose",Qe),Zt=(0,x.gn)(F.FIVE_MINUTES);return yield r.setProposal(pt,qr({id:pt,expiry:Zt},Qe)),{uri:Ie,approval:hr}});return function(a){return o.apply(this,arguments)}}(),this.pair=function(){var o=(0,v.Z)(function*(a){return r.isInitialized(),yield r.client.core.pairing.pair(a)});return function(a){return o.apply(this,arguments)}}(),this.approve=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidApprove(a);const{id:u,relayProtocol:h,namespaces:S,sessionProperties:D}=a,$=r.client.proposal.get(u);let{pairingTopic:W,proposer:le,requiredNamespaces:Ie,optionalNamespaces:ke}=$;W=W||"",(0,x.L5)(Ie)||(Ie=(0,x.fc)(S,"approve()"));const we=yield r.client.core.crypto.generateKeyPair(),Qe=le.publicKey,Be=yield r.client.core.crypto.generateSharedKey(we,Qe);W&&u&&(yield r.client.core.pairing.updateMetadata({topic:W,metadata:le.metadata}),yield r.sendResult(u,W,{relay:{protocol:h??"irn"},responderPublicKey:we}),yield r.client.proposal.delete(u,(0,x.D6)("USER_DISCONNECTED")),yield r.client.core.pairing.activate({topic:W}));const vt=qr({relay:{protocol:h??"irn"},namespaces:S,requiredNamespaces:Ie,optionalNamespaces:ke,pairingTopic:W,controller:{publicKey:we,metadata:r.client.metadata},expiry:(0,x.gn)(Ss)},D&&{sessionProperties:D});yield r.client.core.relayer.subscribe(Be),yield r.sendRequest(Be,"wc_sessionSettle",vt);const hr=sa(qr({},vt),{topic:Be,pairingTopic:W,acknowledged:!1,self:vt.controller,peer:{publicKey:le.publicKey,metadata:le.metadata},controller:we});return yield r.client.session.set(Be,hr),yield r.setExpiry(Be,(0,x.gn)(Ss)),{topic:Be,acknowledged:()=>new Promise(pt=>setTimeout(()=>pt(r.client.session.get(Be)),500))}});return function(a){return o.apply(this,arguments)}}(),this.reject=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidReject(a);const{id:u,reason:h}=a,{pairingTopic:S}=r.client.proposal.get(u);S&&(yield r.sendError(u,S,h),yield r.client.proposal.delete(u,(0,x.D6)("USER_DISCONNECTED")))});return function(a){return o.apply(this,arguments)}}(),this.update=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidUpdate(a);const{topic:u,namespaces:h}=a,S=yield r.sendRequest(u,"wc_sessionUpdate",{namespaces:h}),{done:D,resolve:$,reject:W}=(0,x.H1)();return r.events.once((0,x.E0)("session_update",S),({error:le})=>{le?W(le):$()}),yield r.client.session.update(u,{namespaces:h}),{acknowledged:D}});return function(a){return o.apply(this,arguments)}}(),this.extend=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidExtend(a);const{topic:u}=a,h=yield r.sendRequest(u,"wc_sessionExtend",{}),{done:S,resolve:D,reject:$}=(0,x.H1)();return r.events.once((0,x.E0)("session_extend",h),({error:W})=>{W?$(W):D()}),yield r.setExpiry(u,(0,x.gn)(Ss)),{acknowledged:S}});return function(a){return o.apply(this,arguments)}}(),this.request=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidRequest(a);const{chainId:u,request:h,topic:S,expiry:D}=a,$=yield r.sendRequest(S,"wc_sessionRequest",{request:h,chainId:u},D),{done:W,resolve:le,reject:Ie}=(0,x.H1)(D);r.events.once((0,x.E0)("session_request",$),({error:we,result:Qe})=>{we?Ie(we):le(Qe)}),r.client.events.emit("session_request_sent",{topic:S,request:h,chainId:u,id:$});const ke=yield r.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");return(0,x.Hh)({id:$,topic:S,wcDeepLink:ke}),yield W()});return function(a){return o.apply(this,arguments)}}(),this.respond=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidRespond(a);const{topic:u,response:h}=a,{id:S}=h;tn(h)?yield r.sendResult(S,u,h.result):Tr(h)&&(yield r.sendError(S,u,h.error)),r.deletePendingSessionRequest(a.response.id,{message:"fulfilled",code:0})});return function(a){return o.apply(this,arguments)}}(),this.ping=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidPing(a);const{topic:u}=a;if(r.client.session.keys.includes(u)){const h=yield r.sendRequest(u,"wc_sessionPing",{}),{done:S,resolve:D,reject:$}=(0,x.H1)();r.events.once((0,x.E0)("session_ping",h),({error:W})=>{W?$(W):D()}),yield S()}else r.client.core.pairing.pairings.keys.includes(u)&&(yield r.client.core.pairing.ping({topic:u}))});return function(a){return o.apply(this,arguments)}}(),this.emit=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidEmit(a);const{topic:u,event:h,chainId:S}=a;yield r.sendRequest(u,"wc_sessionEvent",{event:h,chainId:S})});return function(a){return o.apply(this,arguments)}}(),this.disconnect=function(){var o=(0,v.Z)(function*(a){r.isInitialized(),yield r.isValidDisconnect(a);const{topic:u}=a;if(r.client.session.keys.includes(u)){const h=Dt().toString();let S;const D=$=>{$?.id.toString()===h&&(r.client.core.relayer.events.removeListener("relayer_message_ack",D),S())};yield Promise.all([new Promise($=>{S=$,r.client.core.relayer.on("relayer_message_ack",D)}),r.sendRequest(u,"wc_sessionDelete",(0,x.D6)("USER_DISCONNECTED"),void 0,h)]),yield r.deleteSession(u)}else yield r.client.core.pairing.disconnect({topic:u})});return function(a){return o.apply(this,arguments)}}(),this.find=o=>(this.isInitialized(),this.client.session.getAll().filter(a=>(0,x.Ih)(a,o))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=function(){var o=(0,v.Z)(function*(a){if(a.pairingTopic)try{const u=r.client.core.pairing.pairings.get(a.pairingTopic),h=r.client.core.pairing.pairings.getAll().filter(S=>{var D,$;return(null==(D=S.peerMetadata)?void 0:D.url)&&(null==($=S.peerMetadata)?void 0:$.url)===a.peer.metadata.url&&S.topic&&S.topic!==u.topic});if(0===h.length)return;r.client.logger.info(`Cleaning up ${h.length} duplicate pairing(s)`),yield Promise.all(h.map(S=>r.client.core.pairing.disconnect({topic:S.topic}))),r.client.logger.info("Duplicate pairings clean up finished")}catch(u){r.client.logger.error(u)}});return function(a){return o.apply(this,arguments)}}(),this.deleteSession=function(){var o=(0,v.Z)(function*(a,u){const{self:h}=r.client.session.get(a);yield r.client.core.relayer.unsubscribe(a),r.client.session.delete(a,(0,x.D6)("USER_DISCONNECTED")),r.client.core.crypto.keychain.has(h.publicKey)&&(yield r.client.core.crypto.deleteKeyPair(h.publicKey)),r.client.core.crypto.keychain.has(a)&&(yield r.client.core.crypto.deleteSymKey(a)),u||r.client.core.expirer.del(a)});return function(a,u){return o.apply(this,arguments)}}(),this.deleteProposal=function(){var o=(0,v.Z)(function*(a,u){yield Promise.all([r.client.proposal.delete(a,(0,x.D6)("USER_DISCONNECTED")),u?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,u){return o.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var o=(0,v.Z)(function*(a,u,h=!1){yield Promise.all([r.client.pendingRequest.delete(a,u),h?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,u){return o.apply(this,arguments)}}(),this.setExpiry=function(){var o=(0,v.Z)(function*(a,u){r.client.session.keys.includes(a)&&(yield r.client.session.update(a,{expiry:u})),r.client.core.expirer.set(a,u)});return function(a,u){return o.apply(this,arguments)}}(),this.setProposal=function(){var o=(0,v.Z)(function*(a,u){yield r.client.proposal.set(a,u),r.client.core.expirer.set(a,u.expiry)});return function(a,u){return o.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var o=(0,v.Z)(function*(a){const u=Zi.wc_sessionRequest.req.ttl,{id:h,topic:S,params:D}=a;yield r.client.pendingRequest.set(h,{id:h,topic:S,params:D}),u&&r.client.core.expirer.set(h,(0,x.gn)(u))});return function(a){return o.apply(this,arguments)}}(),this.sendRequest=function(){var o=(0,v.Z)(function*(a,u,h,S,D){const $=At(u,h);if((0,x.jU)()&&Jp.includes(u)){const Ie=(0,x.rj)(JSON.stringify($));yield r.client.core.verify.register({attestationId:Ie})}const W=yield r.client.core.crypto.encode(a,$),le=Zi[u].req;return S&&(le.ttl=S),D&&(le.id=D),r.client.core.history.set(a,$),r.client.core.relayer.publish(a,W,le),$.id});return function(a,u,h,S,D){return o.apply(this,arguments)}}(),this.sendResult=function(){var o=(0,v.Z)(function*(a,u,h){const S=Ct(a,h),D=yield r.client.core.crypto.encode(u,S),$=yield r.client.core.history.get(u,a);r.client.core.relayer.publish(u,D,Zi[$.request.method].res),yield r.client.core.history.resolve(S)});return function(a,u,h){return o.apply(this,arguments)}}(),this.sendError=function(){var o=(0,v.Z)(function*(a,u,h){const S=yt(a,h),D=yield r.client.core.crypto.encode(u,S),$=yield r.client.core.history.get(u,a);r.client.core.relayer.publish(u,D,Zi[$.request.method].res),yield r.client.core.history.resolve(S)});return function(a,u,h){return o.apply(this,arguments)}}(),this.cleanup=(0,v.Z)(function*(){const o=[],a=[];r.client.session.getAll().forEach(u=>{(0,x.Bw)(u.expiry)&&o.push(u.topic)}),r.client.proposal.getAll().forEach(u=>{(0,x.Bw)(u.expiry)&&a.push(u.id)}),yield Promise.all([...o.map(u=>r.deleteSession(u)),...a.map(u=>r.deleteProposal(u))])}),this.onRelayEventRequest=o=>{const{topic:a,payload:u}=o,h=u.method;switch(h){case"wc_sessionPropose":return this.onSessionProposeRequest(a,u);case"wc_sessionSettle":return this.onSessionSettleRequest(a,u);case"wc_sessionUpdate":return this.onSessionUpdateRequest(a,u);case"wc_sessionExtend":return this.onSessionExtendRequest(a,u);case"wc_sessionPing":return this.onSessionPingRequest(a,u);case"wc_sessionDelete":return this.onSessionDeleteRequest(a,u);case"wc_sessionRequest":return this.onSessionRequest(a,u);case"wc_sessionEvent":return this.onSessionEventRequest(a,u);default:return this.client.logger.info(`Unsupported request method ${h}`)}},this.onRelayEventResponse=function(){var o=(0,v.Z)(function*(a){const{topic:u,payload:h}=a,S=(yield r.client.core.history.get(u,h.id)).request.method;switch(S){case"wc_sessionPropose":return r.onSessionProposeResponse(u,h);case"wc_sessionSettle":return r.onSessionSettleResponse(u,h);case"wc_sessionUpdate":return r.onSessionUpdateResponse(u,h);case"wc_sessionExtend":return r.onSessionExtendResponse(u,h);case"wc_sessionPing":return r.onSessionPingResponse(u,h);case"wc_sessionRequest":return r.onSessionRequestResponse(u,h);default:return r.client.logger.info(`Unsupported response method ${S}`)}});return function(a){return o.apply(this,arguments)}}(),this.onRelayEventUnknownPayload=o=>{const{topic:a}=o,{message:u}=(0,x.Z7)("MISSING_OR_INVALID",`Decoded payload on topic ${a} is not identifiable as a JSON-RPC request or a response.`);throw new Error(u)},this.onSessionProposeRequest=function(){var o=(0,v.Z)(function*(a,u){const{params:h,id:S}=u;try{r.isValidConnect(qr({},u.params));const D=(0,x.gn)(F.FIVE_MINUTES),$=qr({id:S,pairingTopic:a,expiry:D},h);yield r.setProposal(S,$);const W=(0,x.rj)(JSON.stringify(u)),le=yield r.getVerifyContext(W,$.proposer.metadata);r.client.events.emit("session_proposal",{id:S,params:$,verifyContext:le})}catch(D){yield r.sendError(S,a,D),r.client.logger.error(D)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var o=(0,v.Z)(function*(a,u){const{id:h}=u;if(tn(u)){const{result:S}=u;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:S});const D=r.client.proposal.get(h);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:D});const $=D.proposer.publicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:$});const W=S.responderPublicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:W});const le=yield r.client.core.crypto.generateSharedKey($,W);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:le});const Ie=yield r.client.core.relayer.subscribe(le);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Ie}),yield r.client.core.pairing.activate({topic:a})}else Tr(u)&&(yield r.client.proposal.delete(h,(0,x.D6)("USER_DISCONNECTED")),r.events.emit((0,x.E0)("session_connect"),{error:u.error}))});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var o=(0,v.Z)(function*(a,u){const{id:h,params:S}=u;try{r.isValidSessionSettleRequest(S);const{relay:D,controller:$,expiry:W,namespaces:le,requiredNamespaces:Ie,optionalNamespaces:ke,sessionProperties:we,pairingTopic:Qe}=u.params,Be=qr({topic:a,relay:D,expiry:W,namespaces:le,acknowledged:!0,pairingTopic:Qe,requiredNamespaces:Ie,optionalNamespaces:ke,controller:$.publicKey,self:{publicKey:"",metadata:r.client.metadata},peer:{publicKey:$.publicKey,metadata:$.metadata}},we&&{sessionProperties:we});yield r.sendResult(u.id,a,!0),r.events.emit((0,x.E0)("session_connect"),{session:Be}),r.cleanupDuplicatePairings(Be)}catch(D){yield r.sendError(h,a,D),r.client.logger.error(D)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var o=(0,v.Z)(function*(a,u){const{id:h}=u;tn(u)?(yield r.client.session.update(a,{acknowledged:!0}),r.events.emit((0,x.E0)("session_approve",h),{})):Tr(u)&&(yield r.client.session.delete(a,(0,x.D6)("USER_DISCONNECTED")),r.events.emit((0,x.E0)("session_approve",h),{error:u.error}))});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var o=(0,v.Z)(function*(a,u){const{params:h,id:S}=u;try{r.isValidUpdate(qr({topic:a},h)),yield r.client.session.update(a,{namespaces:h.namespaces}),yield r.sendResult(S,a,!0),r.client.events.emit("session_update",{id:S,topic:a,params:h})}catch(D){yield r.sendError(S,a,D),r.client.logger.error(D)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionUpdateResponse=(o,a)=>{const{id:u}=a;tn(a)?this.events.emit((0,x.E0)("session_update",u),{}):Tr(a)&&this.events.emit((0,x.E0)("session_update",u),{error:a.error})},this.onSessionExtendRequest=function(){var o=(0,v.Z)(function*(a,u){const{id:h}=u;try{r.isValidExtend({topic:a}),yield r.setExpiry(a,(0,x.gn)(Ss)),yield r.sendResult(h,a,!0),r.client.events.emit("session_extend",{id:h,topic:a})}catch(S){yield r.sendError(h,a,S),r.client.logger.error(S)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionExtendResponse=(o,a)=>{const{id:u}=a;tn(a)?this.events.emit((0,x.E0)("session_extend",u),{}):Tr(a)&&this.events.emit((0,x.E0)("session_extend",u),{error:a.error})},this.onSessionPingRequest=function(){var o=(0,v.Z)(function*(a,u){const{id:h}=u;try{r.isValidPing({topic:a}),yield r.sendResult(h,a,!0),r.client.events.emit("session_ping",{id:h,topic:a})}catch(S){yield r.sendError(h,a,S),r.client.logger.error(S)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionPingResponse=(o,a)=>{const{id:u}=a;setTimeout(()=>{tn(a)?this.events.emit((0,x.E0)("session_ping",u),{}):Tr(a)&&this.events.emit((0,x.E0)("session_ping",u),{error:a.error})},500)},this.onSessionDeleteRequest=function(){var o=(0,v.Z)(function*(a,u){const{id:h}=u;try{r.isValidDisconnect({topic:a,reason:u.params}),yield Promise.all([new Promise(S=>{r.client.core.relayer.once("relayer_publish",(0,v.Z)(function*(){S(yield r.deleteSession(a))}))}),r.sendResult(h,a,!0)]),r.client.events.emit("session_delete",{id:h,topic:a})}catch(S){r.client.logger.error(S)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionRequest=function(){var o=(0,v.Z)(function*(a,u){const{id:h,params:S}=u;try{r.isValidRequest(qr({topic:a},S)),yield r.setPendingSessionRequest({id:h,topic:a,params:S});const D=(0,x.rj)(JSON.stringify(u)),$=r.client.session.get(a),W=yield r.getVerifyContext(D,$.peer.metadata);r.client.events.emit("session_request",{id:h,topic:a,params:S,verifyContext:W})}catch(D){yield r.sendError(h,a,D),r.client.logger.error(D)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionRequestResponse=(o,a)=>{const{id:u}=a;tn(a)?this.events.emit((0,x.E0)("session_request",u),{result:a.result}):Tr(a)&&this.events.emit((0,x.E0)("session_request",u),{error:a.error})},this.onSessionEventRequest=function(){var o=(0,v.Z)(function*(a,u){const{id:h,params:S}=u;try{r.isValidEmit(qr({topic:a},S)),r.client.events.emit("session_event",{id:h,topic:a,params:S})}catch(D){yield r.sendError(h,a,D),r.client.logger.error(D)}});return function(a,u){return o.apply(this,arguments)}}(),this.isValidConnect=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw new Error(W)}const{pairingTopic:u,requiredNamespaces:h,optionalNamespaces:S,sessionProperties:D,relays:$}=a;if((0,x.o8)(u)||(yield r.isValidPairingTopic(u)),!(0,x.PM)($,!0)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`connect() relays: ${$}`);throw new Error(W)}!(0,x.o8)(h)&&0!==(0,x.L5)(h)&&r.validateNamespaces(h,"requiredNamespaces"),!(0,x.o8)(S)&&0!==(0,x.L5)(S)&&r.validateNamespaces(S,"optionalNamespaces"),(0,x.o8)(D)||r.validateSessionProps(D,"sessionProperties")});return function(a){return o.apply(this,arguments)}}(),this.validateNamespaces=(o,a)=>{const u=(0,x.n)(o,"connect()",a);if(u)throw new Error(u.message)},this.isValidApprove=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a))throw new Error((0,x.Z7)("MISSING_OR_INVALID",`approve() params: ${a}`).message);const{id:u,namespaces:h,relayProtocol:S,sessionProperties:D}=a;yield r.isValidProposalId(u);const $=r.client.proposal.get(u),W=(0,x.in)(h,"approve()");if(W)throw new Error(W.message);const le=(0,x.rF)($.requiredNamespaces,h,"approve()");if(le)throw new Error(le.message);if(!(0,x.M_)(S,!0)){const{message:Ie}=(0,x.Z7)("MISSING_OR_INVALID",`approve() relayProtocol: ${S}`);throw new Error(Ie)}(0,x.o8)(D)||r.validateSessionProps(D,"sessionProperties")});return function(a){return o.apply(this,arguments)}}(),this.isValidReject=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:S}=(0,x.Z7)("MISSING_OR_INVALID",`reject() params: ${a}`);throw new Error(S)}const{id:u,reason:h}=a;if(yield r.isValidProposalId(u),!(0,x.$t)(h)){const{message:S}=(0,x.Z7)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(h)}`);throw new Error(S)}});return function(a){return o.apply(this,arguments)}}(),this.isValidSessionSettleRequest=o=>{if(!(0,x.EJ)(o)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${o}`);throw new Error(W)}const{relay:a,controller:u,namespaces:h,expiry:S}=o;if(!(0,x.Z2)(a)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(W)}const D=(0,x.Dd)(u,"onSessionSettleRequest()");if(D)throw new Error(D.message);const $=(0,x.in)(h,"onSessionSettleRequest()");if($)throw new Error($.message);if((0,x.Bw)(S)){const{message:W}=(0,x.Z7)("EXPIRED","onSessionSettleRequest()");throw new Error(W)}},this.isValidUpdate=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`update() params: ${a}`);throw new Error(W)}const{topic:u,namespaces:h}=a;yield r.isValidSessionTopic(u);const S=r.client.session.get(u),D=(0,x.in)(h,"update()");if(D)throw new Error(D.message);const $=(0,x.rF)(S.requiredNamespaces,h,"update()");if($)throw new Error($.message)});return function(a){return o.apply(this,arguments)}}(),this.isValidExtend=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:h}=(0,x.Z7)("MISSING_OR_INVALID",`extend() params: ${a}`);throw new Error(h)}const{topic:u}=a;yield r.isValidSessionTopic(u)});return function(a){return o.apply(this,arguments)}}(),this.isValidRequest=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`request() params: ${a}`);throw new Error(W)}const{topic:u,request:h,chainId:S,expiry:D}=a;yield r.isValidSessionTopic(u);const{namespaces:$}=r.client.session.get(u);if(!(0,x.p8)($,S)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`request() chainId: ${S}`);throw new Error(W)}if(!(0,x.hH)(h)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`request() ${JSON.stringify(h)}`);throw new Error(W)}if(!(0,x.al)($,S,h.method)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`request() method: ${h.method}`);throw new Error(W)}if(D&&!(0,x.ON)(D,ia)){const{message:W}=(0,x.Z7)("MISSING_OR_INVALID",`request() expiry: ${D}. Expiry must be a number (in seconds) between ${ia.min} and ${ia.max}`);throw new Error(W)}});return function(a){return o.apply(this,arguments)}}(),this.isValidRespond=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:S}=(0,x.Z7)("MISSING_OR_INVALID",`respond() params: ${a}`);throw new Error(S)}const{topic:u,response:h}=a;if(yield r.isValidSessionTopic(u),!(0,x.JT)(h)){const{message:S}=(0,x.Z7)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(h)}`);throw new Error(S)}});return function(a){return o.apply(this,arguments)}}(),this.isValidPing=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:h}=(0,x.Z7)("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(h)}const{topic:u}=a;yield r.isValidSessionOrPairingTopic(u)});return function(a){return o.apply(this,arguments)}}(),this.isValidEmit=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:$}=(0,x.Z7)("MISSING_OR_INVALID",`emit() params: ${a}`);throw new Error($)}const{topic:u,event:h,chainId:S}=a;yield r.isValidSessionTopic(u);const{namespaces:D}=r.client.session.get(u);if(!(0,x.p8)(D,S)){const{message:$}=(0,x.Z7)("MISSING_OR_INVALID",`emit() chainId: ${S}`);throw new Error($)}if(!(0,x.nf)(h)){const{message:$}=(0,x.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw new Error($)}if(!(0,x.sI)(D,S,h.name)){const{message:$}=(0,x.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw new Error($)}});return function(a){return o.apply(this,arguments)}}(),this.isValidDisconnect=function(){var o=(0,v.Z)(function*(a){if(!(0,x.EJ)(a)){const{message:h}=(0,x.Z7)("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(h)}const{topic:u}=a;yield r.isValidSessionOrPairingTopic(u)});return function(a){return o.apply(this,arguments)}}(),this.getVerifyContext=function(){var o=(0,v.Z)(function*(a,u){const h={verified:{verifyUrl:u.verifyUrl||"",validation:"UNKNOWN",origin:u.url||""}};try{const S=yield r.client.core.verify.resolve({attestationId:a,verifyUrl:u.verifyUrl});S&&(h.verified.origin=S,h.verified.validation=S===u.url?"VALID":"INVALID")}catch(S){r.client.logger.error(S)}return r.client.logger.info(`Verify context: ${JSON.stringify(h)}`),h});return function(a,u){return o.apply(this,arguments)}}(),this.validateSessionProps=(o,a)=>{Object.values(o).forEach(u=>{if(!(0,x.M_)(u,!1)){const{message:h}=(0,x.Z7)("MISSING_OR_INVALID",`${a} must be in Record<string, string> format. Received: ${JSON.stringify(u)}`);throw new Error(h)}})}}isInitialized(){if(!this.initialized){const{message:n}=(0,x.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}registerRelayerEvents(){var n=this;this.client.core.relayer.on("relayer_message",function(){var r=(0,v.Z)(function*(o){const{topic:a,message:u}=o;if(n.ignoredPayloadTypes.includes(n.client.core.crypto.getPayloadType(u)))return;const h=yield n.client.core.crypto.decode(a,u);Di(h)?(n.client.core.history.set(a,h),n.onRelayEventRequest({topic:a,payload:h})):ui(h)?(yield n.client.core.history.resolve(h),yield n.onRelayEventResponse({topic:a,payload:h}),n.client.core.history.delete(a,h.id)):n.onRelayEventUnknownPayload({topic:a,payload:h})});return function(o){return r.apply(this,arguments)}}())}registerExpirerEvents(){var n=this;this.client.core.expirer.on($r_expired,function(){var r=(0,v.Z)(function*(o){const{topic:a,id:u}=(0,x.iP)(o.target);if(u&&n.client.pendingRequest.keys.includes(u))return yield n.deletePendingSessionRequest(u,(0,x.Z7)("EXPIRED"),!0);a?n.client.session.keys.includes(a)&&(yield n.deleteSession(a,!0),n.client.events.emit("session_expire",{topic:a})):u&&(yield n.deleteProposal(u,!0),n.client.events.emit("proposal_expire",{id:u}))});return function(o){return r.apply(this,arguments)}}())}isValidPairingTopic(n){if(!(0,x.M_)(n,!1)){const{message:r}=(0,x.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:r}=(0,x.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(r)}if((0,x.Bw)(this.client.core.pairing.pairings.get(n).expiry)){const{message:r}=(0,x.Z7)("EXPIRED",`pairing topic: ${n}`);throw new Error(r)}}isValidSessionTopic(n){var r=this;return(0,v.Z)(function*(){if(!(0,x.M_)(n,!1)){const{message:o}=(0,x.Z7)("MISSING_OR_INVALID",`session topic should be a string: ${n}`);throw new Error(o)}if(!r.client.session.keys.includes(n)){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`session topic doesn't exist: ${n}`);throw new Error(o)}if((0,x.Bw)(r.client.session.get(n).expiry)){yield r.deleteSession(n);const{message:o}=(0,x.Z7)("EXPIRED",`session topic: ${n}`);throw new Error(o)}})()}isValidSessionOrPairingTopic(n){var r=this;return(0,v.Z)(function*(){if(r.client.session.keys.includes(n))yield r.isValidSessionTopic(n);else{if(!r.client.core.pairing.pairings.keys.includes(n)){if((0,x.M_)(n,!1)){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${n}`);throw new Error(o)}{const{message:o}=(0,x.Z7)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${n}`);throw new Error(o)}}r.isValidPairingTopic(n)}})()}isValidProposalId(n){var r=this;return(0,v.Z)(function*(){if(!(0,x.Q0)(n)){const{message:o}=(0,x.Z7)("MISSING_OR_INVALID",`proposal id should be a number: ${n}`);throw new Error(o)}if(!r.client.proposal.keys.includes(n)){const{message:o}=(0,x.Z7)("NO_MATCHING_KEY",`proposal id doesn't exist: ${n}`);throw new Error(o)}if((0,x.Bw)(r.client.proposal.get(n).expiry)){yield r.deleteProposal(n);const{message:o}=(0,x.Z7)("EXPIRED",`proposal id: ${n}`);throw new Error(o)}})()}}class rd extends Is{constructor(n,r){super(n,r,"proposal",ra),this.core=n,this.logger=r}}class nd extends Is{constructor(n,r){super(n,r,"session",ra),this.core=n,this.logger=r}}class id extends Is{constructor(n,r){super(n,r,"request",ra,o=>o.id),this.core=n,this.logger=r}}class oa extends X{constructor(n){var r;super(n),r=this,this.protocol="wc",this.version=2,this.name="client",this.events=new se.EventEmitter,this.on=(a,u)=>this.events.on(a,u),this.once=(a,u)=>this.events.once(a,u),this.off=(a,u)=>this.events.off(a,u),this.removeListener=(a,u)=>this.events.removeListener(a,u),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.connect(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.pair=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.pair(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.approve=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.approve(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.reject=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.reject(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.update=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.update(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.extend=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.extend(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.request=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.request(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.respond=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.respond(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.ping(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.emit=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.emit(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.disconnect=function(){var a=(0,v.Z)(function*(u){try{return yield r.engine.disconnect(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.find=a=>{try{return this.engine.find(a)}catch(u){throw this.logger.error(u.message),u}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=n?.name||"client",this.metadata=n?.metadata||(0,x.D)();const o=typeof n?.logger<"u"&&"string"!=typeof n?.logger?n.logger:(0,ae.pino)((0,ae.getDefaultLoggerOptions)({level:n?.logger||"error"}));this.core=n?.core||new Hp(n),this.logger=(0,ae.generateChildLogger)(o,this.name),this.session=new nd(this.core,this.logger),this.proposal=new rd(this.core,this.logger),this.pendingRequest=new id(this.core,this.logger),this.engine=new td(this)}static init(n){return(0,v.Z)(function*(){const r=new oa(n);return yield r.initialize(),r})()}get context(){return(0,ae.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var n=this;return(0,v.Z)(function*(){n.logger.trace("Initialized");try{yield n.core.start(),yield n.session.init(),yield n.proposal.init(),yield n.pendingRequest.init(),yield n.engine.init(),n.core.verify.init({verifyUrl:n.metadata.verifyUrl}),n.logger.info("SignClient Initialization Success")}catch(r){throw n.logger.info("SignClient Initialization Failure"),n.logger.error(r.message),r}})()}}var sd=K(8472),bu=K.n(sd);const wu={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Eu{constructor(n,r=!1){if(this.url=n,this.disableProviderPing=r,this.events=new se.EventEmitter,this.isAvailable=!1,this.registering=!1,!ls(n))throw new Error(`Provided URL is not compatible with HTTP connection: ${n}`);this.url=n,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}open(n=this.url){var r=this;return(0,v.Z)(function*(){yield r.register(n)})()}close(){var n=this;return(0,v.Z)(function*(){if(!n.isAvailable)throw new Error("Connection already closed");n.onClose()})()}send(n,r){var o=this;return(0,v.Z)(function*(){o.isAvailable||(yield o.register());try{const a=O(n),h=yield(yield bu()(o.url,Object.assign(Object.assign({},wu),{body:a}))).json();o.onPayload({data:h})}catch(a){o.onError(n.id,a)}})()}register(n=this.url){var r=this;return(0,v.Z)(function*(){if(!ls(n))throw new Error(`Provided URL is not compatible with HTTP connection: ${n}`);if(r.registering){const o=r.events.getMaxListeners();return(r.events.listenerCount("register_error")>=o||r.events.listenerCount("open")>=o)&&r.events.setMaxListeners(o+1),new Promise((a,u)=>{r.events.once("register_error",h=>{r.resetMaxListeners(),u(h)}),r.events.once("open",()=>{if(r.resetMaxListeners(),typeof r.isAvailable>"u")return u(new Error("HTTP connection is missing or invalid"));a()})})}r.url=n,r.registering=!0;try{if(!r.disableProviderPing){const o=O({id:1,jsonrpc:"2.0",method:"test",params:[]});yield bu()(n,Object.assign(Object.assign({},wu),{body:o}))}r.onOpen()}catch(o){const a=r.parseError(o);throw r.events.emit("register_error",a),r.onClose(),a}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(n){if(typeof n.data>"u")return;const r="string"==typeof n.data?I(n.data):n.data;this.events.emit("payload",r)}onError(n,r){const o=this.parseError(r),u=yt(n,o.message||o.toString());this.events.emit("payload",u)}parseError(n,r=this.url){return gt(n,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const gi=Eu,Su="wc@2:universal_provider:";var y,n,zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aa={exports:{}};y=aa,n=aa.exports,function(){var r,h="Expected a function",D="__lodash_hash_undefined__",W="__lodash_placeholder__",Qn=1/0,zn=9007199254740991,bn=4294967295,Qd=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],yi="[object Arguments]",Ns="[object Array]",$i="[object Boolean]",qi="[object Date]",js="[object Error]",Fs="[object Function]",zu="[object GeneratorFunction]",sn="[object Map]",Hi="[object Number]",Pn="[object Object]",Uu="[object Promise]",Vi="[object RegExp]",on="[object Set]",Bi="[object String]",Ls="[object Symbol]",ki="[object WeakMap]",Ki="[object ArrayBuffer]",_i="[object DataView]",pa="[object Float32Array]",da="[object Float64Array]",ga="[object Int8Array]",ya="[object Int16Array]",_a="[object Int32Array]",va="[object Uint8Array]",ma="[object Uint8ClampedArray]",ba="[object Uint16Array]",wa="[object Uint32Array]",og=/\b__p \+= '';/g,ag=/\b(__p \+=) '' \+/g,cg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$u=/&(?:amp|lt|gt|quot|#39);/g,qu=/[&<>"']/g,ug=RegExp($u.source),lg=RegExp(qu.source),fg=/<%-([\s\S]+?)%>/g,hg=/<%([\s\S]+?)%>/g,Hu=/<%=([\s\S]+?)%>/g,pg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dg=/^\w*$/,gg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xa=/[\\^$.*+?()[\]{}|]/g,yg=RegExp(xa.source),Ea=/^\s+/,_g=/\s/,vg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mg=/\{\n\/\* \[wrapped with (.+)\] \*/,bg=/,? & /,wg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xg=/[()=,{}\[\]\/\s]/,Eg=/\\(\\)?/g,Ig=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vu=/\w*$/,Sg=/^[-+]0x[0-9a-f]+$/i,Pg=/^0b[01]+$/i,Og=/^\[object .+?Constructor\]$/,Ag=/^0o[0-7]+$/i,Cg=/^(?:0|[1-9]\d*)$/,Rg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ms=/($^)/,Tg=/['\n\r\u2028\u2029\\]/g,Zs="\\ud800-\\udfff",Bu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ku="\\u2700-\\u27bf",Ku="a-z\\xdf-\\xf6\\xf8-\\xff",Gu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ju="\\ufe0e\\ufe0f",Wu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zg="["+Zs+"]",Yu="["+Wu+"]",zs="["+Bu+"]",Xu="\\d+",Ug="["+ku+"]",Qu="["+Ku+"]",el="[^"+Zs+Wu+Xu+ku+Ku+Gu+"]",Sa="\\ud83c[\\udffb-\\udfff]",tl="[^"+Zs+"]",Pa="(?:\\ud83c[\\udde6-\\uddff]){2}",Oa="[\\ud800-\\udbff][\\udc00-\\udfff]",vi="["+Gu+"]",nl="(?:"+Qu+"|"+el+")",qg="(?:"+vi+"|"+el+")",il="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",sl="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ol="(?:"+zs+"|"+Sa+")?",al="["+Ju+"]?",cl=al+ol+"(?:\\u200d(?:"+[tl,Pa,Oa].join("|")+")"+al+ol+")*",kg="(?:"+[Ug,Pa,Oa].join("|")+")"+cl,Kg="(?:"+[tl+zs+"?",zs,Pa,Oa,zg].join("|")+")",Gg=RegExp("['\u2019]","g"),Jg=RegExp(zs,"g"),Aa=RegExp(Sa+"(?="+Sa+")|"+Kg+cl,"g"),Wg=RegExp([vi+"?"+Qu+"+"+il+"(?="+[Yu,vi,"$"].join("|")+")",qg+"+"+sl+"(?="+[Yu,vi+nl,"$"].join("|")+")",vi+"?"+nl+"+"+il,vi+"+"+sl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xu,kg].join("|"),"g"),Yg=RegExp("[\\u200d"+Zs+Bu+Ju+"]"),Xg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],e0=-1,mt={};mt[pa]=mt[da]=mt[ga]=mt[ya]=mt[_a]=mt[va]=mt[ma]=mt[ba]=mt[wa]=!0,mt[yi]=mt[Ns]=mt[Ki]=mt[$i]=mt[_i]=mt[qi]=mt[js]=mt[Fs]=mt[sn]=mt[Hi]=mt[Pn]=mt[Vi]=mt[on]=mt[Bi]=mt[ki]=!1;var dt={};dt[yi]=dt[Ns]=dt[Ki]=dt[_i]=dt[$i]=dt[qi]=dt[pa]=dt[da]=dt[ga]=dt[ya]=dt[_a]=dt[sn]=dt[Hi]=dt[Pn]=dt[Vi]=dt[on]=dt[Bi]=dt[Ls]=dt[va]=dt[ma]=dt[ba]=dt[wa]=!0,dt[js]=dt[Fs]=dt[ki]=!1;var i0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},s0=parseFloat,o0=parseInt,ul="object"==typeof zi&&zi&&zi.Object===Object&&zi,a0="object"==typeof self&&self&&self.Object===Object&&self,pr=ul||a0||Function("return this")(),Ca=n&&!n.nodeType&&n,ei=Ca&&y&&!y.nodeType&&y,ll=ei&&ei.exports===Ca,Ra=ll&&ul.process,Vr=function(){try{return ei&&ei.require&&ei.require("util").types||Ra&&Ra.binding&&Ra.binding("util")}catch{}}(),fl=Vr&&Vr.isArrayBuffer,hl=Vr&&Vr.isDate,pl=Vr&&Vr.isMap,dl=Vr&&Vr.isRegExp,gl=Vr&&Vr.isSet,yl=Vr&&Vr.isTypedArray;function jr(j,k,q){switch(q.length){case 0:return j.call(k);case 1:return j.call(k,q[0]);case 2:return j.call(k,q[0],q[1]);case 3:return j.call(k,q[0],q[1],q[2])}return j.apply(k,q)}function c0(j,k,q,pe){for(var Ae=-1,We=null==j?0:j.length;++Ae<We;){var rr=j[Ae];k(pe,rr,q(rr),j)}return pe}function Br(j,k){for(var q=-1,pe=null==j?0:j.length;++q<pe&&!1!==k(j[q],q,j););return j}function u0(j,k){for(var q=null==j?0:j.length;q--&&!1!==k(j[q],q,j););return j}function _l(j,k){for(var q=-1,pe=null==j?0:j.length;++q<pe;)if(!k(j[q],q,j))return!1;return!0}function Un(j,k){for(var q=-1,pe=null==j?0:j.length,Ae=0,We=[];++q<pe;){var rr=j[q];k(rr,q,j)&&(We[Ae++]=rr)}return We}function Us(j,k){return!(null==j||!j.length)&&mi(j,k,0)>-1}function Ta(j,k,q){for(var pe=-1,Ae=null==j?0:j.length;++pe<Ae;)if(q(k,j[pe]))return!0;return!1}function xt(j,k){for(var q=-1,pe=null==j?0:j.length,Ae=Array(pe);++q<pe;)Ae[q]=k(j[q],q,j);return Ae}function $n(j,k){for(var q=-1,pe=k.length,Ae=j.length;++q<pe;)j[Ae+q]=k[q];return j}function Da(j,k,q,pe){var Ae=-1,We=null==j?0:j.length;for(pe&&We&&(q=j[++Ae]);++Ae<We;)q=k(q,j[Ae],Ae,j);return q}function l0(j,k,q,pe){var Ae=null==j?0:j.length;for(pe&&Ae&&(q=j[--Ae]);Ae--;)q=k(q,j[Ae],Ae,j);return q}function Na(j,k){for(var q=-1,pe=null==j?0:j.length;++q<pe;)if(k(j[q],q,j))return!0;return!1}var f0=ja("length");function vl(j,k,q){var pe;return q(j,function(Ae,We,rr){if(k(Ae,We,rr))return pe=We,!1}),pe}function $s(j,k,q,pe){for(var Ae=j.length,We=q+(pe?1:-1);pe?We--:++We<Ae;)if(k(j[We],We,j))return We;return-1}function mi(j,k,q){return k==k?function S0(j,k,q){for(var pe=q-1,Ae=j.length;++pe<Ae;)if(j[pe]===k)return pe;return-1}(j,k,q):$s(j,ml,q)}function d0(j,k,q,pe){for(var Ae=q-1,We=j.length;++Ae<We;)if(pe(j[Ae],k))return Ae;return-1}function ml(j){return j!=j}function bl(j,k){var q=null==j?0:j.length;return q?La(j,k)/q:NaN}function ja(j){return function(k){return null==k?r:k[j]}}function Fa(j){return function(k){return null==j?r:j[k]}}function wl(j,k,q,pe,Ae){return Ae(j,function(We,rr,ut){q=pe?(pe=!1,We):k(q,We,rr,ut)}),q}function La(j,k){for(var q,pe=-1,Ae=j.length;++pe<Ae;){var We=k(j[pe]);We!==r&&(q=q===r?We:q+We)}return q}function Ma(j,k){for(var q=-1,pe=Array(j);++q<j;)pe[q]=k(q);return pe}function xl(j){return j&&j.slice(0,Pl(j)+1).replace(Ea,"")}function Fr(j){return function(k){return j(k)}}function Za(j,k){return xt(k,function(q){return j[q]})}function Gi(j,k){return j.has(k)}function El(j,k){for(var q=-1,pe=j.length;++q<pe&&mi(k,j[q],0)>-1;);return q}function Il(j,k){for(var q=j.length;q--&&mi(k,j[q],0)>-1;);return q}var v0=Fa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),m0=Fa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function b0(j){return"\\"+i0[j]}function bi(j){return Yg.test(j)}function za(j){var k=-1,q=Array(j.size);return j.forEach(function(pe,Ae){q[++k]=[Ae,pe]}),q}function Sl(j,k){return function(q){return j(k(q))}}function qn(j,k){for(var q=-1,pe=j.length,Ae=0,We=[];++q<pe;){var rr=j[q];(rr===k||rr===W)&&(j[q]=W,We[Ae++]=q)}return We}function qs(j){var k=-1,q=Array(j.size);return j.forEach(function(pe){q[++k]=pe}),q}function wi(j){return bi(j)?function A0(j){for(var k=Aa.lastIndex=0;Aa.test(j);)++k;return k}(j):f0(j)}function an(j){return bi(j)?function C0(j){return j.match(Aa)||[]}(j):function h0(j){return j.split("")}(j)}function Pl(j){for(var k=j.length;k--&&_g.test(j.charAt(k)););return k}var O0=Fa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xi=function j(k){var e,q=(k=null==k?pr:xi.defaults(pr.Object(),k,xi.pick(pr,Qg))).Array,pe=k.Date,Ae=k.Error,We=k.Function,rr=k.Math,ut=k.Object,Ua=k.RegExp,D0=k.String,kr=k.TypeError,Hs=q.prototype,Ei=ut.prototype,Vs=k["__core-js_shared__"],Bs=We.prototype.toString,rt=Ei.hasOwnProperty,j0=0,Ol=(e=/[^.]+$/.exec(Vs&&Vs.keys&&Vs.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",ks=Ei.toString,F0=Bs.call(ut),L0=pr._,M0=Ua("^"+Bs.call(rt).replace(xa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ks=ll?k.Buffer:r,Hn=k.Symbol,Gs=k.Uint8Array,Al=Ks?Ks.allocUnsafe:r,Js=Sl(ut.getPrototypeOf,ut),Cl=ut.create,Rl=Ei.propertyIsEnumerable,Ws=Hs.splice,Tl=Hn?Hn.isConcatSpreadable:r,Ji=Hn?Hn.iterator:r,ti=Hn?Hn.toStringTag:r,Ys=function(){try{var e=oi(ut,"defineProperty");return e({},"",{}),e}catch{}}(),Z0=k.clearTimeout!==pr.clearTimeout&&k.clearTimeout,z0=pe&&pe.now!==pr.Date.now&&pe.now,U0=k.setTimeout!==pr.setTimeout&&k.setTimeout,Xs=rr.ceil,Qs=rr.floor,$a=ut.getOwnPropertySymbols,$0=Ks?Ks.isBuffer:r,Dl=k.isFinite,q0=Hs.join,H0=Sl(ut.keys,ut),nr=rr.max,vr=rr.min,V0=pe.now,B0=k.parseInt,Nl=rr.random,k0=Hs.reverse,qa=oi(k,"DataView"),Wi=oi(k,"Map"),Ha=oi(k,"Promise"),Ii=oi(k,"Set"),Yi=oi(k,"WeakMap"),Xi=oi(ut,"create"),eo=Yi&&new Yi,Si={},K0=ai(qa),G0=ai(Wi),J0=ai(Ha),W0=ai(Ii),Y0=ai(Yi),to=Hn?Hn.prototype:r,Qi=to?to.valueOf:r,jl=to?to.toString:r;function b(e){if(jt(e)&&!Te(e)&&!(e instanceof ze)){if(e instanceof Kr)return e;if(rt.call(e,"__wrapped__"))return Lf(e)}return new Kr(e)}var Pi=function(){function e(){}return function(t){if(!Rt(t))return{};if(Cl)return Cl(t);e.prototype=t;var s=new e;return e.prototype=r,s}}();function ro(){}function Kr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function ze(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bn,this.__views__=[]}function ri(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function On(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function An(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function ni(e){var t=-1,s=null==e?0:e.length;for(this.__data__=new An;++t<s;)this.add(e[t])}function cn(e){var t=this.__data__=new On(e);this.size=t.size}function Fl(e,t){var s=Te(e),l=!s&&ci(e),d=!s&&!l&&Gn(e),w=!s&&!l&&!d&&Ri(e),A=s||l||d||w,R=A?Ma(e.length,D0):[],L=R.length;for(var G in e)(t||rt.call(e,G))&&(!A||!("length"==G||d&&("offset"==G||"parent"==G)||w&&("buffer"==G||"byteLength"==G||"byteOffset"==G)||Dn(G,L)))&&R.push(G);return R}function Ll(e){var t=e.length;return t?e[ec(0,t-1)]:r}function Ey(e,t){return _o(Or(e),ii(t,0,e.length))}function Iy(e){return _o(Or(e))}function Va(e,t,s){(s!==r&&!un(e[t],s)||s===r&&!(t in e))&&Cn(e,t,s)}function es(e,t,s){var l=e[t];(!rt.call(e,t)||!un(l,s)||s===r&&!(t in e))&&Cn(e,t,s)}function no(e,t){for(var s=e.length;s--;)if(un(e[s][0],t))return s;return-1}function Sy(e,t,s,l){return Vn(e,function(d,w,A){t(l,d,s(d),A)}),l}function Ml(e,t){return e&&xn(t,ur(t),e)}function Cn(e,t,s){"__proto__"==t&&Ys?Ys(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Ba(e,t){for(var s=-1,l=t.length,d=q(l),w=null==e;++s<l;)d[s]=w?r:Sc(e,t[s]);return d}function ii(e,t,s){return e==e&&(s!==r&&(e=e<=s?e:s),t!==r&&(e=e>=t?e:t)),e}function Gr(e,t,s,l,d,w){var A,R=1&t,L=2&t,G=4&t;if(s&&(A=d?s(e,l,d,w):s(e)),A!==r)return A;if(!Rt(e))return e;var Y=Te(e);if(Y){if(A=function d_(e){var t=e.length,s=new e.constructor(t);return t&&"string"==typeof e[0]&&rt.call(e,"index")&&(s.index=e.index,s.input=e.input),s}(e),!R)return Or(e,A)}else{var re=mr(e),fe=re==Fs||re==zu;if(Gn(e))return cf(e,R);if(re==Pn||re==yi||fe&&!d){if(A=L||fe?{}:Of(e),!R)return L?function n_(e,t){return xn(e,Sf(e),t)}(e,function Py(e,t){return e&&xn(t,Cr(t),e)}(A,e)):function r_(e,t){return xn(e,dc(e),t)}(e,Ml(A,e))}else{if(!dt[re])return d?e:{};A=function g_(e,t,s){var l=e.constructor;switch(t){case Ki:return ac(e);case $i:case qi:return new l(+e);case _i:return function Xy(e,t){var s=t?ac(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}(e,s);case pa:case da:case ga:case ya:case _a:case va:case ma:case ba:case wa:return uf(e,s);case sn:return new l;case Hi:case Bi:return new l(e);case Vi:return function Qy(e){var t=new e.constructor(e.source,Vu.exec(e));return t.lastIndex=e.lastIndex,t}(e);case on:return new l;case Ls:return function e_(e){return Qi?ut(Qi.call(e)):{}}(e)}}(e,re,R)}}w||(w=new cn);var ye=w.get(e);if(ye)return ye;w.set(e,A),rh(e)?e.forEach(function(Ee){A.add(Gr(Ee,t,s,Ee,e,w))}):eh(e)&&e.forEach(function(Ee,Ze){A.set(Ze,Gr(Ee,t,s,Ze,e,w))});var Le=Y?r:(G?L?fc:lc:L?Cr:ur)(e);return Br(Le||e,function(Ee,Ze){Le&&(Ee=e[Ze=Ee]),es(A,Ze,Gr(Ee,t,s,Ze,e,w))}),A}function Zl(e,t,s){var l=s.length;if(null==e)return!l;for(e=ut(e);l--;){var d=s[l],A=e[d];if(A===r&&!(d in e)||!(0,t[d])(A))return!1}return!0}function zl(e,t,s){if("function"!=typeof e)throw new kr(h);return as(function(){e.apply(r,s)},t)}function ts(e,t,s,l){var d=-1,w=Us,A=!0,R=e.length,L=[],G=t.length;if(!R)return L;s&&(t=xt(t,Fr(s))),l?(w=Ta,A=!1):t.length>=200&&(w=Gi,A=!1,t=new ni(t));e:for(;++d<R;){var Y=e[d],re=null==s?Y:s(Y);if(Y=l||0!==Y?Y:0,A&&re==re){for(var fe=G;fe--;)if(t[fe]===re)continue e;L.push(Y)}else w(t,re,l)||L.push(Y)}return L}b.templateSettings={escape:fg,evaluate:hg,interpolate:Hu,variable:"",imports:{_:b}},(b.prototype=ro.prototype).constructor=b,(Kr.prototype=Pi(ro.prototype)).constructor=Kr,(ze.prototype=Pi(ro.prototype)).constructor=ze,ri.prototype.clear=function ty(){this.__data__=Xi?Xi(null):{},this.size=0},ri.prototype.delete=function ry(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ri.prototype.get=function ny(e){var t=this.__data__;if(Xi){var s=t[e];return s===D?r:s}return rt.call(t,e)?t[e]:r},ri.prototype.has=function iy(e){var t=this.__data__;return Xi?t[e]!==r:rt.call(t,e)},ri.prototype.set=function sy(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Xi&&t===r?D:t,this},On.prototype.clear=function oy(){this.__data__=[],this.size=0},On.prototype.delete=function ay(e){var t=this.__data__,s=no(t,e);return!(s<0||(s==t.length-1?t.pop():Ws.call(t,s,1),--this.size,0))},On.prototype.get=function cy(e){var t=this.__data__,s=no(t,e);return s<0?r:t[s][1]},On.prototype.has=function uy(e){return no(this.__data__,e)>-1},On.prototype.set=function ly(e,t){var s=this.__data__,l=no(s,e);return l<0?(++this.size,s.push([e,t])):s[l][1]=t,this},An.prototype.clear=function fy(){this.size=0,this.__data__={hash:new ri,map:new(Wi||On),string:new ri}},An.prototype.delete=function hy(e){var t=yo(this,e).delete(e);return this.size-=t?1:0,t},An.prototype.get=function py(e){return yo(this,e).get(e)},An.prototype.has=function dy(e){return yo(this,e).has(e)},An.prototype.set=function gy(e,t){var s=yo(this,e),l=s.size;return s.set(e,t),this.size+=s.size==l?0:1,this},ni.prototype.add=ni.prototype.push=function yy(e){return this.__data__.set(e,D),this},ni.prototype.has=function _y(e){return this.__data__.has(e)},cn.prototype.clear=function vy(){this.__data__=new On,this.size=0},cn.prototype.delete=function my(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s},cn.prototype.get=function by(e){return this.__data__.get(e)},cn.prototype.has=function wy(e){return this.__data__.has(e)},cn.prototype.set=function xy(e,t){var s=this.__data__;if(s instanceof On){var l=s.__data__;if(!Wi||l.length<199)return l.push([e,t]),this.size=++s.size,this;s=this.__data__=new An(l)}return s.set(e,t),this.size=s.size,this};var Vn=pf(wn),Ul=pf(Ka,!0);function Ay(e,t){var s=!0;return Vn(e,function(l,d,w){return s=!!t(l,d,w)}),s}function io(e,t,s){for(var l=-1,d=e.length;++l<d;){var w=e[l],A=t(w);if(null!=A&&(R===r?A==A&&!Mr(A):s(A,R)))var R=A,L=w}return L}function $l(e,t){var s=[];return Vn(e,function(l,d,w){t(l,d,w)&&s.push(l)}),s}function dr(e,t,s,l,d){var w=-1,A=e.length;for(s||(s=__),d||(d=[]);++w<A;){var R=e[w];t>0&&s(R)?t>1?dr(R,t-1,s,l,d):$n(d,R):l||(d[d.length]=R)}return d}var ka=df(),ql=df(!0);function wn(e,t){return e&&ka(e,t,ur)}function Ka(e,t){return e&&ql(e,t,ur)}function so(e,t){return Un(t,function(s){return Nn(e[s])})}function si(e,t){for(var s=0,l=(t=kn(t,e)).length;null!=e&&s<l;)e=e[En(t[s++])];return s&&s==l?e:r}function Hl(e,t,s){var l=t(e);return Te(e)?l:$n(l,s(e))}function Er(e){return null==e?e===r?"[object Undefined]":"[object Null]":ti&&ti in ut(e)?function f_(e){var t=rt.call(e,ti),s=e[ti];try{e[ti]=r;var l=!0}catch{}var d=ks.call(e);return l&&(t?e[ti]=s:delete e[ti]),d}(e):function I_(e){return ks.call(e)}(e)}function Ga(e,t){return e>t}function Ry(e,t){return null!=e&&rt.call(e,t)}function Ty(e,t){return null!=e&&t in ut(e)}function Ja(e,t,s){for(var l=s?Ta:Us,d=e[0].length,w=e.length,A=w,R=q(w),L=1/0,G=[];A--;){var Y=e[A];A&&t&&(Y=xt(Y,Fr(t))),L=vr(Y.length,L),R[A]=!s&&(t||d>=120&&Y.length>=120)?new ni(A&&Y):r}Y=e[0];var re=-1,fe=R[0];e:for(;++re<d&&G.length<L;){var ye=Y[re],xe=t?t(ye):ye;if(ye=s||0!==ye?ye:0,!(fe?Gi(fe,xe):l(G,xe,s))){for(A=w;--A;){var Le=R[A];if(!(Le?Gi(Le,xe):l(e[A],xe,s)))continue e}fe&&fe.push(xe),G.push(ye)}}return G}function rs(e,t,s){var l=null==(e=Tf(e,t=kn(t,e)))?e:e[En(Wr(t))];return null==l?r:jr(l,e,s)}function Vl(e){return jt(e)&&Er(e)==yi}function ns(e,t,s,l,d){return e===t||(null==e||null==t||!jt(e)&&!jt(t)?e!=e&&t!=t:function Ly(e,t,s,l,d,w){var A=Te(e),R=Te(t),L=A?Ns:mr(e),G=R?Ns:mr(t),Y=(L=L==yi?Pn:L)==Pn,re=(G=G==yi?Pn:G)==Pn,fe=L==G;if(fe&&Gn(e)){if(!Gn(t))return!1;A=!0,Y=!1}if(fe&&!Y)return w||(w=new cn),A||Ri(e)?If(e,t,s,l,d,w):function u_(e,t,s,l,d,w,A){switch(s){case _i:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ki:return!(e.byteLength!=t.byteLength||!w(new Gs(e),new Gs(t)));case $i:case qi:case Hi:return un(+e,+t);case js:return e.name==t.name&&e.message==t.message;case Vi:case Bi:return e==t+"";case sn:var R=za;case on:if(R||(R=qs),e.size!=t.size&&!(1&l))return!1;var G=A.get(e);if(G)return G==t;l|=2,A.set(e,t);var Y=If(R(e),R(t),l,d,w,A);return A.delete(e),Y;case Ls:if(Qi)return Qi.call(e)==Qi.call(t)}return!1}(e,t,L,s,l,d,w);if(!(1&s)){var ye=Y&&rt.call(e,"__wrapped__"),xe=re&&rt.call(t,"__wrapped__");if(ye||xe){var Le=ye?e.value():e,Ee=xe?t.value():t;return w||(w=new cn),d(Le,Ee,s,l,w)}}return!!fe&&(w||(w=new cn),function l_(e,t,s,l,d,w){var A=1&s,R=lc(e),L=R.length;if(L!=lc(t).length&&!A)return!1;for(var re=L;re--;){var fe=R[re];if(!(A?fe in t:rt.call(t,fe)))return!1}var ye=w.get(e),xe=w.get(t);if(ye&&xe)return ye==t&&xe==e;var Le=!0;w.set(e,t),w.set(t,e);for(var Ee=A;++re<L;){var Ze=e[fe=R[re]],$e=t[fe];if(l)var Zr=A?l($e,Ze,fe,t,e,w):l(Ze,$e,fe,e,t,w);if(!(Zr===r?Ze===$e||d(Ze,$e,s,l,w):Zr)){Le=!1;break}Ee||(Ee="constructor"==fe)}if(Le&&!Ee){var Sr=e.constructor,zr=t.constructor;Sr!=zr&&"constructor"in e&&"constructor"in t&&!("function"==typeof Sr&&Sr instanceof Sr&&"function"==typeof zr&&zr instanceof zr)&&(Le=!1)}return w.delete(e),w.delete(t),Le}(e,t,s,l,d,w))}(e,t,s,l,ns,d))}function Wa(e,t,s,l){var d=s.length,w=d,A=!l;if(null==e)return!w;for(e=ut(e);d--;){var R=s[d];if(A&&R[2]?R[1]!==e[R[0]]:!(R[0]in e))return!1}for(;++d<w;){var L=(R=s[d])[0],G=e[L],Y=R[1];if(A&&R[2]){if(G===r&&!(L in e))return!1}else{var re=new cn;if(l)var fe=l(G,Y,L,e,t,re);if(!(fe===r?ns(Y,G,3,l,re):fe))return!1}}return!0}function Bl(e){return!(!Rt(e)||function m_(e){return!!Ol&&Ol in e}(e))&&(Nn(e)?M0:Og).test(ai(e))}function kl(e){return"function"==typeof e?e:null==e?Rr:"object"==typeof e?Te(e)?Jl(e[0],e[1]):Gl(e):gh(e)}function Ya(e){if(!os(e))return H0(e);var t=[];for(var s in ut(e))rt.call(e,s)&&"constructor"!=s&&t.push(s);return t}function Xa(e,t){return e<t}function Kl(e,t){var s=-1,l=Ar(e)?q(e.length):[];return Vn(e,function(d,w,A){l[++s]=t(d,w,A)}),l}function Gl(e){var t=pc(e);return 1==t.length&&t[0][2]?Cf(t[0][0],t[0][1]):function(s){return s===e||Wa(s,e,t)}}function Jl(e,t){return gc(e)&&Af(t)?Cf(En(e),t):function(s){var l=Sc(s,e);return l===r&&l===t?Pc(s,e):ns(t,l,3)}}function oo(e,t,s,l,d){e!==t&&ka(t,function(w,A){if(d||(d=new cn),Rt(w))!function qy(e,t,s,l,d,w,A){var R=_c(e,s),L=_c(t,s),G=A.get(L);if(G)Va(e,s,G);else{var Y=w?w(R,L,s+"",e,t,A):r,re=Y===r;if(re){var fe=Te(L),ye=!fe&&Gn(L),xe=!fe&&!ye&&Ri(L);Y=L,fe||ye||xe?Te(R)?Y=R:Ut(R)?Y=Or(R):ye?(re=!1,Y=cf(L,!0)):xe?(re=!1,Y=uf(L,!0)):Y=[]:cs(L)||ci(L)?(Y=R,ci(R)?Y=sh(R):(!Rt(R)||Nn(R))&&(Y=Of(L))):re=!1}re&&(A.set(L,Y),d(Y,L,l,w,A),A.delete(L)),Va(e,s,Y)}}(e,t,A,s,oo,l,d);else{var R=l?l(_c(e,A),w,A+"",e,t,d):r;R===r&&(R=w),Va(e,A,R)}},Cr)}function Wl(e,t){var s=e.length;if(s)return Dn(t+=t<0?s:0,s)?e[t]:r}function Yl(e,t,s){t=t.length?xt(t,function(w){return Te(w)?function(A){return si(A,1===w.length?w[0]:w)}:w}):[Rr];var l=-1;return t=xt(t,Fr(be())),function g0(j,k){var q=j.length;for(j.sort(k);q--;)j[q]=j[q].value;return j}(Kl(e,function(w,A,R){return{criteria:xt(t,function(G){return G(w)}),index:++l,value:w}}),function(w,A){return function t_(e,t,s){for(var l=-1,d=e.criteria,w=t.criteria,A=d.length,R=s.length;++l<A;){var L=lf(d[l],w[l]);if(L)return l>=R?L:L*("desc"==s[l]?-1:1)}return e.index-t.index}(w,A,s)})}function Xl(e,t,s){for(var l=-1,d=t.length,w={};++l<d;){var A=t[l],R=si(e,A);s(R,A)&&is(w,kn(A,e),R)}return w}function Qa(e,t,s,l){var d=l?d0:mi,w=-1,A=t.length,R=e;for(e===t&&(t=Or(t)),s&&(R=xt(e,Fr(s)));++w<A;)for(var L=0,G=t[w],Y=s?s(G):G;(L=d(R,Y,L,l))>-1;)R!==e&&Ws.call(R,L,1),Ws.call(e,L,1);return e}function Ql(e,t){for(var s=e?t.length:0,l=s-1;s--;){var d=t[s];if(s==l||d!==w){var w=d;Dn(d)?Ws.call(e,d,1):nc(e,d)}}return e}function ec(e,t){return e+Qs(Nl()*(t-e+1))}function tc(e,t){var s="";if(!e||t<1||t>zn)return s;do{t%2&&(s+=e),(t=Qs(t/2))&&(e+=e)}while(t);return s}function Me(e,t){return vc(Rf(e,t,Rr),e+"")}function ky(e){return Ll(Ti(e))}function Ky(e,t){var s=Ti(e);return _o(s,ii(t,0,s.length))}function is(e,t,s,l){if(!Rt(e))return e;for(var d=-1,w=(t=kn(t,e)).length,A=w-1,R=e;null!=R&&++d<w;){var L=En(t[d]),G=s;if("__proto__"===L||"constructor"===L||"prototype"===L)return e;if(d!=A){var Y=R[L];(G=l?l(Y,L,R):r)===r&&(G=Rt(Y)?Y:Dn(t[d+1])?[]:{})}es(R,L,G),R=R[L]}return e}var ef=eo?function(e,t){return eo.set(e,t),e}:Rr,Gy=Ys?function(e,t){return Ys(e,"toString",{configurable:!0,enumerable:!1,value:Ac(t),writable:!0})}:Rr;function Jy(e){return _o(Ti(e))}function Jr(e,t,s){var l=-1,d=e.length;t<0&&(t=-t>d?0:d+t),(s=s>d?d:s)<0&&(s+=d),d=t>s?0:s-t>>>0,t>>>=0;for(var w=q(d);++l<d;)w[l]=e[l+t];return w}function Wy(e,t){var s;return Vn(e,function(l,d,w){return!(s=t(l,d,w))}),!!s}function ao(e,t,s){var l=0,d=null==e?l:e.length;if("number"==typeof t&&t==t&&d<=2147483647){for(;l<d;){var w=l+d>>>1,A=e[w];null!==A&&!Mr(A)&&(s?A<=t:A<t)?l=w+1:d=w}return d}return rc(e,t,Rr,s)}function rc(e,t,s,l){var d=0,w=null==e?0:e.length;if(0===w)return 0;for(var A=(t=s(t))!=t,R=null===t,L=Mr(t),G=t===r;d<w;){var Y=Qs((d+w)/2),re=s(e[Y]),fe=re!==r,ye=null===re,xe=re==re,Le=Mr(re);if(A)var Ee=l||xe;else Ee=G?xe&&(l||fe):R?xe&&fe&&(l||!ye):L?xe&&fe&&!ye&&(l||!Le):!ye&&!Le&&(l?re<=t:re<t);Ee?d=Y+1:w=Y}return vr(w,4294967294)}function tf(e,t){for(var s=-1,l=e.length,d=0,w=[];++s<l;){var A=e[s],R=t?t(A):A;if(!s||!un(R,L)){var L=R;w[d++]=0===A?0:A}}return w}function rf(e){return"number"==typeof e?e:Mr(e)?NaN:+e}function Lr(e){if("string"==typeof e)return e;if(Te(e))return xt(e,Lr)+"";if(Mr(e))return jl?jl.call(e):"";var t=e+"";return"0"==t&&1/e==-Qn?"-0":t}function Bn(e,t,s){var l=-1,d=Us,w=e.length,A=!0,R=[],L=R;if(s)A=!1,d=Ta;else if(w>=200){var G=t?null:a_(e);if(G)return qs(G);A=!1,d=Gi,L=new ni}else L=t?[]:R;e:for(;++l<w;){var Y=e[l],re=t?t(Y):Y;if(Y=s||0!==Y?Y:0,A&&re==re){for(var fe=L.length;fe--;)if(L[fe]===re)continue e;t&&L.push(re),R.push(Y)}else d(L,re,s)||(L!==R&&L.push(re),R.push(Y))}return R}function nc(e,t){return null==(e=Tf(e,t=kn(t,e)))||delete e[En(Wr(t))]}function nf(e,t,s,l){return is(e,t,s(si(e,t)),l)}function co(e,t,s,l){for(var d=e.length,w=l?d:-1;(l?w--:++w<d)&&t(e[w],w,e););return s?Jr(e,l?0:w,l?w+1:d):Jr(e,l?w+1:0,l?d:w)}function sf(e,t){var s=e;return s instanceof ze&&(s=s.value()),Da(t,function(l,d){return d.func.apply(d.thisArg,$n([l],d.args))},s)}function ic(e,t,s){var l=e.length;if(l<2)return l?Bn(e[0]):[];for(var d=-1,w=q(l);++d<l;)for(var A=e[d],R=-1;++R<l;)R!=d&&(w[d]=ts(w[d]||A,e[R],t,s));return Bn(dr(w,1),t,s)}function of(e,t,s){for(var l=-1,d=e.length,w=t.length,A={};++l<d;)s(A,e[l],l<w?t[l]:r);return A}function sc(e){return Ut(e)?e:[]}function oc(e){return"function"==typeof e?e:Rr}function kn(e,t){return Te(e)?e:gc(e,t)?[e]:Ff(et(e))}var Yy=Me;function Kn(e,t,s){var l=e.length;return s=s===r?l:s,!t&&s>=l?e:Jr(e,t,s)}var af=Z0||function(e){return pr.clearTimeout(e)};function cf(e,t){if(t)return e.slice();var s=e.length,l=Al?Al(s):new e.constructor(s);return e.copy(l),l}function ac(e){var t=new e.constructor(e.byteLength);return new Gs(t).set(new Gs(e)),t}function uf(e,t){var s=t?ac(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function lf(e,t){if(e!==t){var s=e!==r,l=null===e,d=e==e,w=Mr(e),A=t!==r,R=null===t,L=t==t,G=Mr(t);if(!R&&!G&&!w&&e>t||w&&A&&L&&!R&&!G||l&&A&&L||!s&&L||!d)return 1;if(!l&&!w&&!G&&e<t||G&&s&&d&&!l&&!w||R&&s&&d||!A&&d||!L)return-1}return 0}function ff(e,t,s,l){for(var d=-1,w=e.length,A=s.length,R=-1,L=t.length,G=nr(w-A,0),Y=q(L+G),re=!l;++R<L;)Y[R]=t[R];for(;++d<A;)(re||d<w)&&(Y[s[d]]=e[d]);for(;G--;)Y[R++]=e[d++];return Y}function hf(e,t,s,l){for(var d=-1,w=e.length,A=-1,R=s.length,L=-1,G=t.length,Y=nr(w-R,0),re=q(Y+G),fe=!l;++d<Y;)re[d]=e[d];for(var ye=d;++L<G;)re[ye+L]=t[L];for(;++A<R;)(fe||d<w)&&(re[ye+s[A]]=e[d++]);return re}function Or(e,t){var s=-1,l=e.length;for(t||(t=q(l));++s<l;)t[s]=e[s];return t}function xn(e,t,s,l){var d=!s;s||(s={});for(var w=-1,A=t.length;++w<A;){var R=t[w],L=l?l(s[R],e[R],R,s,e):r;L===r&&(L=e[R]),d?Cn(s,R,L):es(s,R,L)}return s}function uo(e,t){return function(s,l){var d=Te(s)?c0:Sy,w=t?t():{};return d(s,e,be(l,2),w)}}function Oi(e){return Me(function(t,s){var l=-1,d=s.length,w=d>1?s[d-1]:r,A=d>2?s[2]:r;for(w=e.length>3&&"function"==typeof w?(d--,w):r,A&&Ir(s[0],s[1],A)&&(w=d<3?r:w,d=1),t=ut(t);++l<d;){var R=s[l];R&&e(t,R,l,w)}return t})}function pf(e,t){return function(s,l){if(null==s)return s;if(!Ar(s))return e(s,l);for(var d=s.length,w=t?d:-1,A=ut(s);(t?w--:++w<d)&&!1!==l(A[w],w,A););return s}}function df(e){return function(t,s,l){for(var d=-1,w=ut(t),A=l(t),R=A.length;R--;){var L=A[e?R:++d];if(!1===s(w[L],L,w))break}return t}}function gf(e){return function(t){var s=bi(t=et(t))?an(t):r,l=s?s[0]:t.charAt(0),d=s?Kn(s,1).join(""):t.slice(1);return l[e]()+d}}function Ai(e){return function(t){return Da(ph(hh(t).replace(Gg,"")),e,"")}}function ss(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=Pi(e.prototype),l=e.apply(s,t);return Rt(l)?l:s}}function yf(e){return function(t,s,l){var d=ut(t);if(!Ar(t)){var w=be(s,3);t=ur(t),s=function(R){return w(d[R],R,d)}}var A=e(t,s,l);return A>-1?d[w?t[A]:A]:r}}function _f(e){return Tn(function(t){var s=t.length,l=s,d=Kr.prototype.thru;for(e&&t.reverse();l--;){var w=t[l];if("function"!=typeof w)throw new kr(h);if(d&&!A&&"wrapper"==go(w))var A=new Kr([],!0)}for(l=A?l:s;++l<s;){var R=go(w=t[l]),L="wrapper"==R?hc(w):r;A=L&&yc(L[0])&&424==L[1]&&!L[4].length&&1==L[9]?A[go(L[0])].apply(A,L[3]):1==w.length&&yc(w)?A[R]():A.thru(w)}return function(){var G=arguments,Y=G[0];if(A&&1==G.length&&Te(Y))return A.plant(Y).value();for(var re=0,fe=s?t[re].apply(this,G):Y;++re<s;)fe=t[re].call(this,fe);return fe}})}function lo(e,t,s,l,d,w,A,R,L,G){var Y=128&t,re=1&t,fe=2&t,ye=24&t,xe=512&t,Le=fe?r:ss(e);return function Ee(){for(var Ze=arguments.length,$e=q(Ze),Zr=Ze;Zr--;)$e[Zr]=arguments[Zr];if(ye)var Sr=Ci(Ee),zr=function _0(j,k){for(var q=j.length,pe=0;q--;)j[q]===k&&++pe;return pe}($e,Sr);if(l&&($e=ff($e,l,d,ye)),w&&($e=hf($e,w,A,ye)),Ze-=zr,ye&&Ze<G){var $t=qn($e,Sr);return bf(e,t,lo,Ee.placeholder,s,$e,$t,R,L,G-Ze)}var ln=re?s:this,Fn=fe?ln[e]:e;return Ze=$e.length,R?$e=function S_(e,t){for(var s=e.length,l=vr(t.length,s),d=Or(e);l--;){var w=t[l];e[l]=Dn(w,s)?d[w]:r}return e}($e,R):xe&&Ze>1&&$e.reverse(),Y&&L<Ze&&($e.length=L),this&&this!==pr&&this instanceof Ee&&(Fn=Le||ss(Fn)),Fn.apply(ln,$e)}}function vf(e,t){return function(s,l){return function Ny(e,t,s,l){return wn(e,function(d,w,A){t(l,s(d),w,A)}),l}(s,e,t(l),{})}}function fo(e,t){return function(s,l){var d;if(s===r&&l===r)return t;if(s!==r&&(d=s),l!==r){if(d===r)return l;"string"==typeof s||"string"==typeof l?(s=Lr(s),l=Lr(l)):(s=rf(s),l=rf(l)),d=e(s,l)}return d}}function cc(e){return Tn(function(t){return t=xt(t,Fr(be())),Me(function(s){var l=this;return e(t,function(d){return jr(d,l,s)})})})}function ho(e,t){var s=(t=t===r?" ":Lr(t)).length;if(s<2)return s?tc(t,e):t;var l=tc(t,Xs(e/wi(t)));return bi(t)?Kn(an(l),0,e).join(""):l.slice(0,e)}function mf(e){return function(t,s,l){return l&&"number"!=typeof l&&Ir(t,s,l)&&(s=l=r),t=jn(t),s===r?(s=t,t=0):s=jn(s),function By(e,t,s,l){for(var d=-1,w=nr(Xs((t-e)/(s||1)),0),A=q(w);w--;)A[l?w:++d]=e,e+=s;return A}(t,s,l=l===r?t<s?1:-1:jn(l),e)}}function po(e){return function(t,s){return"string"==typeof t&&"string"==typeof s||(t=Yr(t),s=Yr(s)),e(t,s)}}function bf(e,t,s,l,d,w,A,R,L,G){var Y=8&t;t|=Y?32:64,4&(t&=~(Y?64:32))||(t&=-4);var Le=[e,t,d,Y?w:r,Y?A:r,Y?r:w,Y?r:A,R,L,G],Ee=s.apply(r,Le);return yc(e)&&Df(Ee,Le),Ee.placeholder=l,Nf(Ee,e,t)}function uc(e){var t=rr[e];return function(s,l){if(s=Yr(s),(l=null==l?0:vr(Ne(l),292))&&Dl(s)){var d=(et(s)+"e").split("e");return+((d=(et(t(d[0]+"e"+(+d[1]+l)))+"e").split("e"))[0]+"e"+(+d[1]-l))}return t(s)}}var a_=Ii&&1/qs(new Ii([,-0]))[1]==Qn?function(e){return new Ii(e)}:Tc;function wf(e){return function(t){var s=mr(t);return s==sn?za(t):s==on?function I0(j){var k=-1,q=Array(j.size);return j.forEach(function(pe){q[++k]=[pe,pe]}),q}(t):function y0(j,k){return xt(k,function(q){return[q,j[q]]})}(t,e(t))}}function Rn(e,t,s,l,d,w,A,R){var L=2&t;if(!L&&"function"!=typeof e)throw new kr(h);var G=l?l.length:0;if(G||(t&=-97,l=d=r),A=A===r?A:nr(Ne(A),0),R=R===r?R:Ne(R),G-=d?d.length:0,64&t){var Y=l,re=d;l=d=r}var fe=L?r:hc(e),ye=[e,t,s,l,d,Y,re,w,A,R];if(fe&&function x_(e,t){var s=e[1],l=t[1],d=s|l;if(!(d<131)&&!(128==l&&8==s||128==l&&256==s&&e[7].length<=t[8]||384==l&&t[7].length<=t[8]&&8==s))return e;1&l&&(e[2]=t[2],d|=1&s?0:4);var R=t[3];if(R){var L=e[3];e[3]=L?ff(L,R,t[4]):R,e[4]=L?qn(e[3],W):t[4]}(R=t[5])&&(e[5]=(L=e[5])?hf(L,R,t[6]):R,e[6]=L?qn(e[5],W):t[6]),(R=t[7])&&(e[7]=R),128&l&&(e[8]=null==e[8]?t[8]:vr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=d}(ye,fe),e=ye[0],t=ye[1],s=ye[2],l=ye[3],d=ye[4],!(R=ye[9]=ye[9]===r?L?0:e.length:nr(ye[9]-G,0))&&24&t&&(t&=-25),t&&1!=t)xe=8==t||16==t?function s_(e,t,s){var l=ss(e);return function d(){for(var w=arguments.length,A=q(w),R=w,L=Ci(d);R--;)A[R]=arguments[R];var G=w<3&&A[0]!==L&&A[w-1]!==L?[]:qn(A,L);return(w-=G.length)<s?bf(e,t,lo,d.placeholder,r,A,G,r,r,s-w):jr(this&&this!==pr&&this instanceof d?l:e,this,A)}}(e,t,R):32!=t&&33!=t||d.length?lo.apply(r,ye):function o_(e,t,s,l){var d=1&t,w=ss(e);return function A(){for(var R=-1,L=arguments.length,G=-1,Y=l.length,re=q(Y+L),fe=this&&this!==pr&&this instanceof A?w:e;++G<Y;)re[G]=l[G];for(;L--;)re[G++]=arguments[++R];return jr(fe,d?s:this,re)}}(e,t,s,l);else var xe=function i_(e,t,s){var l=1&t,d=ss(e);return function w(){return(this&&this!==pr&&this instanceof w?d:e).apply(l?s:this,arguments)}}(e,t,s);return Nf((fe?ef:Df)(xe,ye),e,t)}function xf(e,t,s,l){return e===r||un(e,Ei[s])&&!rt.call(l,s)?t:e}function Ef(e,t,s,l,d,w){return Rt(e)&&Rt(t)&&(w.set(t,e),oo(e,t,r,Ef,w),w.delete(t)),e}function c_(e){return cs(e)?r:e}function If(e,t,s,l,d,w){var A=1&s,R=e.length,L=t.length;if(R!=L&&!(A&&L>R))return!1;var G=w.get(e),Y=w.get(t);if(G&&Y)return G==t&&Y==e;var re=-1,fe=!0,ye=2&s?new ni:r;for(w.set(e,t),w.set(t,e);++re<R;){var xe=e[re],Le=t[re];if(l)var Ee=A?l(Le,xe,re,t,e,w):l(xe,Le,re,e,t,w);if(Ee!==r){if(Ee)continue;fe=!1;break}if(ye){if(!Na(t,function(Ze,$e){if(!Gi(ye,$e)&&(xe===Ze||d(xe,Ze,s,l,w)))return ye.push($e)})){fe=!1;break}}else if(xe!==Le&&!d(xe,Le,s,l,w)){fe=!1;break}}return w.delete(e),w.delete(t),fe}function Tn(e){return vc(Rf(e,r,zf),e+"")}function lc(e){return Hl(e,ur,dc)}function fc(e){return Hl(e,Cr,Sf)}var hc=eo?function(e){return eo.get(e)}:Tc;function go(e){for(var t=e.name+"",s=Si[t],l=rt.call(Si,t)?s.length:0;l--;){var d=s[l],w=d.func;if(null==w||w==e)return d.name}return t}function Ci(e){return(rt.call(b,"placeholder")?b:e).placeholder}function be(){var e=b.iteratee||Cc;return e=e===Cc?kl:e,arguments.length?e(arguments[0],arguments[1]):e}function yo(e,t){var s=e.__data__;return function v_(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?s["string"==typeof t?"string":"hash"]:s.map}function pc(e){for(var t=ur(e),s=t.length;s--;){var l=t[s],d=e[l];t[s]=[l,d,Af(d)]}return t}function oi(e,t){var s=function w0(j,k){return null==j?r:j[k]}(e,t);return Bl(s)?s:r}var dc=$a?function(e){return null==e?[]:(e=ut(e),Un($a(e),function(t){return Rl.call(e,t)}))}:Dc,Sf=$a?function(e){for(var t=[];e;)$n(t,dc(e)),e=Js(e);return t}:Dc,mr=Er;function Pf(e,t,s){for(var l=-1,d=(t=kn(t,e)).length,w=!1;++l<d;){var A=En(t[l]);if(!(w=null!=e&&s(e,A)))break;e=e[A]}return w||++l!=d?w:!!(d=null==e?0:e.length)&&Eo(d)&&Dn(A,d)&&(Te(e)||ci(e))}function Of(e){return"function"!=typeof e.constructor||os(e)?{}:Pi(Js(e))}function __(e){return Te(e)||ci(e)||!!(Tl&&e&&e[Tl])}function Dn(e,t){var s=typeof e;return!!(t=t??zn)&&("number"==s||"symbol"!=s&&Cg.test(e))&&e>-1&&e%1==0&&e<t}function Ir(e,t,s){if(!Rt(s))return!1;var l=typeof t;return!!("number"==l?Ar(s)&&Dn(t,s.length):"string"==l&&t in s)&&un(s[t],e)}function gc(e,t){if(Te(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!Mr(e))||dg.test(e)||!pg.test(e)||null!=t&&e in ut(t)}function yc(e){var t=go(e),s=b[t];if("function"!=typeof s||!(t in ze.prototype))return!1;if(e===s)return!0;var l=hc(s);return!!l&&e===l[0]}(qa&&mr(new qa(new ArrayBuffer(1)))!=_i||Wi&&mr(new Wi)!=sn||Ha&&mr(Ha.resolve())!=Uu||Ii&&mr(new Ii)!=on||Yi&&mr(new Yi)!=ki)&&(mr=function(e){var t=Er(e),s=t==Pn?e.constructor:r,l=s?ai(s):"";if(l)switch(l){case K0:return _i;case G0:return sn;case J0:return Uu;case W0:return on;case Y0:return ki}return t});var b_=Vs?Nn:Nc;function os(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ei)}function Af(e){return e==e&&!Rt(e)}function Cf(e,t){return function(s){return null!=s&&s[e]===t&&(t!==r||e in ut(s))}}function Rf(e,t,s){return t=nr(t===r?e.length-1:t,0),function(){for(var l=arguments,d=-1,w=nr(l.length-t,0),A=q(w);++d<w;)A[d]=l[t+d];d=-1;for(var R=q(t+1);++d<t;)R[d]=l[d];return R[t]=s(A),jr(e,this,R)}}function Tf(e,t){return t.length<2?e:si(e,Jr(t,0,-1))}function _c(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Df=jf(ef),as=U0||function(e,t){return pr.setTimeout(e,t)},vc=jf(Gy);function Nf(e,t,s){var l=t+"";return vc(e,function y_(e,t){var s=t.length;if(!s)return e;var l=s-1;return t[l]=(s>1?"& ":"")+t[l],t=t.join(s>2?", ":" "),e.replace(vg,"{\n/* [wrapped with "+t+"] */\n")}(l,function P_(e,t){return Br(Qd,function(s){var l="_."+s[0];t&s[1]&&!Us(e,l)&&e.push(l)}),e.sort()}(function p_(e){var t=e.match(mg);return t?t[1].split(bg):[]}(l),s)))}function jf(e){var t=0,s=0;return function(){var l=V0(),d=16-(l-s);if(s=l,d>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function _o(e,t){var s=-1,l=e.length,d=l-1;for(t=t===r?l:t;++s<t;){var w=ec(s,d),A=e[w];e[w]=e[s],e[s]=A}return e.length=t,e}var Ff=function w_(e){var t=wo(e,function(l){return 500===s.size&&s.clear(),l}),s=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gg,function(s,l,d,w){t.push(d?w.replace(Eg,"$1"):l||s)}),t});function En(e){if("string"==typeof e||Mr(e))return e;var t=e+"";return"0"==t&&1/e==-Qn?"-0":t}function ai(e){if(null!=e){try{return Bs.call(e)}catch{}try{return e+""}catch{}}return""}function Lf(e){if(e instanceof ze)return e.clone();var t=new Kr(e.__wrapped__,e.__chain__);return t.__actions__=Or(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var R_=Me(function(e,t){return Ut(e)?ts(e,dr(t,1,Ut,!0)):[]}),T_=Me(function(e,t){var s=Wr(t);return Ut(s)&&(s=r),Ut(e)?ts(e,dr(t,1,Ut,!0),be(s,2)):[]}),D_=Me(function(e,t){var s=Wr(t);return Ut(s)&&(s=r),Ut(e)?ts(e,dr(t,1,Ut,!0),r,s):[]});function Mf(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var d=null==s?0:Ne(s);return d<0&&(d=nr(l+d,0)),$s(e,be(t,3),d)}function Zf(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var d=l-1;return s!==r&&(d=Ne(s),d=s<0?nr(l+d,0):vr(d,l-1)),$s(e,be(t,3),d,!0)}function zf(e){return null!=e&&e.length?dr(e,1):[]}function Uf(e){return e&&e.length?e[0]:r}var H_=Me(function(e){var t=xt(e,sc);return t.length&&t[0]===e[0]?Ja(t):[]}),V_=Me(function(e){var t=Wr(e),s=xt(e,sc);return t===Wr(s)?t=r:s.pop(),s.length&&s[0]===e[0]?Ja(s,be(t,2)):[]}),B_=Me(function(e){var t=Wr(e),s=xt(e,sc);return(t="function"==typeof t?t:r)&&s.pop(),s.length&&s[0]===e[0]?Ja(s,r,t):[]});function Wr(e){var t=null==e?0:e.length;return t?e[t-1]:r}var J_=Me($f);function $f(e,t){return e&&e.length&&t&&t.length?Qa(e,t):e}var X_=Tn(function(e,t){var s=null==e?0:e.length,l=Ba(e,t);return Ql(e,xt(t,function(d){return Dn(d,s)?+d:d}).sort(lf)),l});function mc(e){return null==e?e:k0.call(e)}var dv=Me(function(e){return Bn(dr(e,1,Ut,!0))}),gv=Me(function(e){var t=Wr(e);return Ut(t)&&(t=r),Bn(dr(e,1,Ut,!0),be(t,2))}),yv=Me(function(e){var t=Wr(e);return t="function"==typeof t?t:r,Bn(dr(e,1,Ut,!0),r,t)});function bc(e){if(!e||!e.length)return[];var t=0;return e=Un(e,function(s){if(Ut(s))return t=nr(s.length,t),!0}),Ma(t,function(s){return xt(e,ja(s))})}function qf(e,t){if(!e||!e.length)return[];var s=bc(e);return null==t?s:xt(s,function(l){return jr(t,r,l)})}var bv=Me(function(e,t){return Ut(e)?ts(e,t):[]}),wv=Me(function(e){return ic(Un(e,Ut))}),xv=Me(function(e){var t=Wr(e);return Ut(t)&&(t=r),ic(Un(e,Ut),be(t,2))}),Ev=Me(function(e){var t=Wr(e);return t="function"==typeof t?t:r,ic(Un(e,Ut),r,t)}),Iv=Me(bc),Ov=Me(function(e){var t=e.length,s=t>1?e[t-1]:r;return s="function"==typeof s?(e.pop(),s):r,qf(e,s)});function Hf(e){var t=b(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var Cv=Tn(function(e){var t=e.length,s=t?e[0]:0,l=this.__wrapped__,d=function(w){return Ba(w,e)};return!(t>1||this.__actions__.length)&&l instanceof ze&&Dn(s)?((l=l.slice(s,+s+(t?1:0))).__actions__.push({func:vo,args:[d],thisArg:r}),new Kr(l,this.__chain__).thru(function(w){return t&&!w.length&&w.push(r),w})):this.thru(d)}),Mv=uo(function(e,t,s){rt.call(e,s)?++e[s]:Cn(e,s,1)}),Uv=yf(Mf),$v=yf(Zf);function Vf(e,t){return(Te(e)?Br:Vn)(e,be(t,3))}function Bf(e,t){return(Te(e)?u0:Ul)(e,be(t,3))}var Bv=uo(function(e,t,s){rt.call(e,s)?e[s].push(t):Cn(e,s,[t])}),Kv=Me(function(e,t,s){var l=-1,d="function"==typeof t,w=Ar(e)?q(e.length):[];return Vn(e,function(A){w[++l]=d?jr(t,A,s):rs(A,t,s)}),w}),Gv=uo(function(e,t,s){Cn(e,s,t)});function mo(e,t){return(Te(e)?xt:Kl)(e,be(t,3))}var Wv=uo(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]}),sm=Me(function(e,t){if(null==e)return[];var s=t.length;return s>1&&Ir(e,t[0],t[1])?t=[]:s>2&&Ir(t[0],t[1],t[2])&&(t=[t[0]]),Yl(e,dr(t,1),[])}),bo=z0||function(){return pr.Date.now()};function kf(e,t,s){return t=s?r:t,Rn(e,128,r,r,r,r,t=e&&null==t?e.length:t)}function Kf(e,t){var s;if("function"!=typeof t)throw new kr(h);return e=Ne(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=r),s}}var wc=Me(function(e,t,s){var l=1;if(s.length){var d=qn(s,Ci(wc));l|=32}return Rn(e,l,t,s,d)}),Gf=Me(function(e,t,s){var l=3;if(s.length){var d=qn(s,Ci(Gf));l|=32}return Rn(t,l,e,s,d)});function Yf(e,t,s){var l,d,w,A,R,L,G=0,Y=!1,re=!1,fe=!0;if("function"!=typeof e)throw new kr(h);function ye($t){var ln=l,Fn=d;return l=d=r,G=$t,A=e.apply(Fn,ln)}function Ee($t){var ln=$t-L;return L===r||ln>=t||ln<0||re&&$t-G>=w}function Ze(){var $t=bo();if(Ee($t))return $e($t);R=as(Ze,function Le($t){var yh=t-($t-L);return re?vr(yh,w-($t-G)):yh}($t))}function $e($t){return R=r,fe&&l?ye($t):(l=d=r,A)}function zr(){var $t=bo(),ln=Ee($t);if(l=arguments,d=this,L=$t,ln){if(R===r)return function xe($t){return G=$t,R=as(Ze,t),Y?ye($t):A}(L);if(re)return af(R),R=as(Ze,t),ye(L)}return R===r&&(R=as(Ze,t)),A}return t=Yr(t)||0,Rt(s)&&(Y=!!s.leading,w=(re="maxWait"in s)?nr(Yr(s.maxWait)||0,t):w,fe="trailing"in s?!!s.trailing:fe),zr.cancel=function Zr(){R!==r&&af(R),G=0,l=L=d=R=r},zr.flush=function Sr(){return R===r?A:$e(bo())},zr}var am=Me(function(e,t){return zl(e,1,t)}),cm=Me(function(e,t,s){return zl(e,Yr(t)||0,s)});function wo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new kr(h);var s=function(){var l=arguments,d=t?t.apply(this,l):l[0],w=s.cache;if(w.has(d))return w.get(d);var A=e.apply(this,l);return s.cache=w.set(d,A)||w,A};return s.cache=new(wo.Cache||An),s}function xo(e){if("function"!=typeof e)throw new kr(h);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}wo.Cache=An;var fm=Yy(function(e,t){var s=(t=1==t.length&&Te(t[0])?xt(t[0],Fr(be())):xt(dr(t,1),Fr(be()))).length;return Me(function(l){for(var d=-1,w=vr(l.length,s);++d<w;)l[d]=t[d].call(this,l[d]);return jr(e,this,l)})}),xc=Me(function(e,t){var s=qn(t,Ci(xc));return Rn(e,32,r,t,s)}),Xf=Me(function(e,t){var s=qn(t,Ci(Xf));return Rn(e,64,r,t,s)}),hm=Tn(function(e,t){return Rn(e,256,r,r,r,t)});function un(e,t){return e===t||e!=e&&t!=t}var Im=po(Ga),Sm=po(function(e,t){return e>=t}),ci=Vl(function(){return arguments}())?Vl:function(e){return jt(e)&&rt.call(e,"callee")&&!Rl.call(e,"callee")},Te=q.isArray,Pm=fl?Fr(fl):function jy(e){return jt(e)&&Er(e)==Ki};function Ar(e){return null!=e&&Eo(e.length)&&!Nn(e)}function Ut(e){return jt(e)&&Ar(e)}var Gn=$0||Nc,Am=hl?Fr(hl):function Fy(e){return jt(e)&&Er(e)==qi};function Ec(e){if(!jt(e))return!1;var t=Er(e);return t==js||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!cs(e)}function Nn(e){if(!Rt(e))return!1;var t=Er(e);return t==Fs||t==zu||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qf(e){return"number"==typeof e&&e==Ne(e)}function Eo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=zn}function Rt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function jt(e){return null!=e&&"object"==typeof e}var eh=pl?Fr(pl):function My(e){return jt(e)&&mr(e)==sn};function th(e){return"number"==typeof e||jt(e)&&Er(e)==Hi}function cs(e){if(!jt(e)||Er(e)!=Pn)return!1;var t=Js(e);if(null===t)return!0;var s=rt.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&Bs.call(s)==F0}var Ic=dl?Fr(dl):function Zy(e){return jt(e)&&Er(e)==Vi},rh=gl?Fr(gl):function zy(e){return jt(e)&&mr(e)==on};function Io(e){return"string"==typeof e||!Te(e)&&jt(e)&&Er(e)==Bi}function Mr(e){return"symbol"==typeof e||jt(e)&&Er(e)==Ls}var Ri=yl?Fr(yl):function Uy(e){return jt(e)&&Eo(e.length)&&!!mt[Er(e)]},Vm=po(Xa),Bm=po(function(e,t){return e<=t});function nh(e){if(!e)return[];if(Ar(e))return Io(e)?an(e):Or(e);if(Ji&&e[Ji])return function E0(j){for(var k,q=[];!(k=j.next()).done;)q.push(k.value);return q}(e[Ji]());var t=mr(e);return(t==sn?za:t==on?qs:Ti)(e)}function jn(e){return e?(e=Yr(e))===Qn||e===-Qn?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Ne(e){var t=jn(e),s=t%1;return t==t?s?t-s:t:0}function ih(e){return e?ii(Ne(e),0,bn):0}function Yr(e){if("number"==typeof e)return e;if(Mr(e))return NaN;if(Rt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Rt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=xl(e);var s=Pg.test(e);return s||Ag.test(e)?o0(e.slice(2),s?2:8):Sg.test(e)?NaN:+e}function sh(e){return xn(e,Cr(e))}function et(e){return null==e?"":Lr(e)}var Km=Oi(function(e,t){if(os(t)||Ar(t))xn(t,ur(t),e);else for(var s in t)rt.call(t,s)&&es(e,s,t[s])}),oh=Oi(function(e,t){xn(t,Cr(t),e)}),So=Oi(function(e,t,s,l){xn(t,Cr(t),e,l)}),Gm=Oi(function(e,t,s,l){xn(t,ur(t),e,l)}),Jm=Tn(Ba),Ym=Me(function(e,t){e=ut(e);var s=-1,l=t.length,d=l>2?t[2]:r;for(d&&Ir(t[0],t[1],d)&&(l=1);++s<l;)for(var w=t[s],A=Cr(w),R=-1,L=A.length;++R<L;){var G=A[R],Y=e[G];(Y===r||un(Y,Ei[G])&&!rt.call(e,G))&&(e[G]=w[G])}return e}),Xm=Me(function(e){return e.push(r,Ef),jr(ah,r,e)});function Sc(e,t,s){var l=null==e?r:si(e,t);return l===r?s:l}function Pc(e,t){return null!=e&&Pf(e,t,Ty)}var c1=vf(function(e,t,s){null!=t&&"function"!=typeof t.toString&&(t=ks.call(t)),e[t]=s},Ac(Rr)),u1=vf(function(e,t,s){null!=t&&"function"!=typeof t.toString&&(t=ks.call(t)),rt.call(e,t)?e[t].push(s):e[t]=[s]},be),l1=Me(rs);function ur(e){return Ar(e)?Fl(e):Ya(e)}function Cr(e){return Ar(e)?Fl(e,!0):function $y(e){if(!Rt(e))return function E_(e){var t=[];if(null!=e)for(var s in ut(e))t.push(s);return t}(e);var t=os(e),s=[];for(var l in e)"constructor"==l&&(t||!rt.call(e,l))||s.push(l);return s}(e)}var p1=Oi(function(e,t,s){oo(e,t,s)}),ah=Oi(function(e,t,s,l){oo(e,t,s,l)}),d1=Tn(function(e,t){var s={};if(null==e)return s;var l=!1;t=xt(t,function(w){return w=kn(w,e),l||(l=w.length>1),w}),xn(e,fc(e),s),l&&(s=Gr(s,7,c_));for(var d=t.length;d--;)nc(s,t[d]);return s}),y1=Tn(function(e,t){return null==e?{}:function Hy(e,t){return Xl(e,t,function(s,l){return Pc(e,l)})}(e,t)});function ch(e,t){if(null==e)return{};var s=xt(fc(e),function(l){return[l]});return t=be(t),Xl(e,s,function(l,d){return t(l,d[0])})}var uh=wf(ur),lh=wf(Cr);function Ti(e){return null==e?[]:Za(e,ur(e))}var A1=Ai(function(e,t,s){return t=t.toLowerCase(),e+(s?fh(t):t)});function fh(e){return Oc(et(e).toLowerCase())}function hh(e){return(e=et(e))&&e.replace(Rg,v0).replace(Jg,"")}var D1=Ai(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),N1=Ai(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),j1=gf("toLowerCase"),$1=Ai(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()}),H1=Ai(function(e,t,s){return e+(s?" ":"")+Oc(t)}),Q1=Ai(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Oc=gf("toUpperCase");function ph(e,t,s){return e=et(e),(t=s?r:t)===r?function x0(j){return Xg.test(j)}(e)?function R0(j){return j.match(Wg)||[]}(e):function p0(j){return j.match(wg)||[]}(e):e.match(t)||[]}var dh=Me(function(e,t){try{return jr(e,r,t)}catch(s){return Ec(s)?s:new Ae(s)}}),eb=Tn(function(e,t){return Br(t,function(s){s=En(s),Cn(e,s,wc(e[s],e))}),e});function Ac(e){return function(){return e}}var ib=_f(),sb=_f(!0);function Rr(e){return e}function Cc(e){return kl("function"==typeof e?e:Gr(e,1))}var cb=Me(function(e,t){return function(s){return rs(s,e,t)}}),ub=Me(function(e,t){return function(s){return rs(e,s,t)}});function Rc(e,t,s){var l=ur(t),d=so(t,l);null==s&&(!Rt(t)||!d.length&&l.length)&&(s=t,t=e,e=this,d=so(t,ur(t)));var w=!(Rt(s)&&"chain"in s&&!s.chain),A=Nn(e);return Br(d,function(R){var L=t[R];e[R]=L,A&&(e.prototype[R]=function(){var G=this.__chain__;if(w||G){var Y=e(this.__wrapped__);return(Y.__actions__=Or(this.__actions__)).push({func:L,args:arguments,thisArg:e}),Y.__chain__=G,Y}return L.apply(e,$n([this.value()],arguments))})}),e}function Tc(){}var hb=cc(xt),pb=cc(_l),db=cc(Na);function gh(e){return gc(e)?ja(En(e)):function Vy(e){return function(t){return si(t,e)}}(e)}var yb=mf(),_b=mf(!0);function Dc(){return[]}function Nc(){return!1}var Ib=fo(function(e,t){return e+t},0),Sb=uc("ceil"),Pb=fo(function(e,t){return e/t},1),Ob=uc("floor"),jb=fo(function(e,t){return e*t},1),Fb=uc("round"),Lb=fo(function(e,t){return e-t},0);return b.after=function om(e,t){if("function"!=typeof t)throw new kr(h);return e=Ne(e),function(){if(--e<1)return t.apply(this,arguments)}},b.ary=kf,b.assign=Km,b.assignIn=oh,b.assignInWith=So,b.assignWith=Gm,b.at=Jm,b.before=Kf,b.bind=wc,b.bindAll=eb,b.bindKey=Gf,b.castArray=function vm(){if(!arguments.length)return[];var e=arguments[0];return Te(e)?e:[e]},b.chain=Hf,b.chunk=function O_(e,t,s){t=(s?Ir(e,t,s):t===r)?1:nr(Ne(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var d=0,w=0,A=q(Xs(l/t));d<l;)A[w++]=Jr(e,d,d+=t);return A},b.compact=function A_(e){for(var t=-1,s=null==e?0:e.length,l=0,d=[];++t<s;){var w=e[t];w&&(d[l++]=w)}return d},b.concat=function C_(){var e=arguments.length;if(!e)return[];for(var t=q(e-1),s=arguments[0],l=e;l--;)t[l-1]=arguments[l];return $n(Te(s)?Or(s):[s],dr(t,1))},b.cond=function tb(e){var t=null==e?0:e.length,s=be();return e=t?xt(e,function(l){if("function"!=typeof l[1])throw new kr(h);return[s(l[0]),l[1]]}):[],Me(function(l){for(var d=-1;++d<t;){var w=e[d];if(jr(w[0],this,l))return jr(w[1],this,l)}})},b.conforms=function rb(e){return function Oy(e){var t=ur(e);return function(s){return Zl(s,e,t)}}(Gr(e,1))},b.constant=Ac,b.countBy=Mv,b.create=function Wm(e,t){var s=Pi(e);return null==t?s:Ml(s,t)},b.curry=function Jf(e,t,s){var l=Rn(e,8,r,r,r,r,r,t=s?r:t);return l.placeholder=Jf.placeholder,l},b.curryRight=function Wf(e,t,s){var l=Rn(e,16,r,r,r,r,r,t=s?r:t);return l.placeholder=Wf.placeholder,l},b.debounce=Yf,b.defaults=Ym,b.defaultsDeep=Xm,b.defer=am,b.delay=cm,b.difference=R_,b.differenceBy=T_,b.differenceWith=D_,b.drop=function N_(e,t,s){var l=null==e?0:e.length;return l?Jr(e,(t=s||t===r?1:Ne(t))<0?0:t,l):[]},b.dropRight=function j_(e,t,s){var l=null==e?0:e.length;return l?Jr(e,0,(t=l-(t=s||t===r?1:Ne(t)))<0?0:t):[]},b.dropRightWhile=function F_(e,t){return e&&e.length?co(e,be(t,3),!0,!0):[]},b.dropWhile=function L_(e,t){return e&&e.length?co(e,be(t,3),!0):[]},b.fill=function M_(e,t,s,l){var d=null==e?0:e.length;return d?(s&&"number"!=typeof s&&Ir(e,t,s)&&(s=0,l=d),function Cy(e,t,s,l){var d=e.length;for((s=Ne(s))<0&&(s=-s>d?0:d+s),(l=l===r||l>d?d:Ne(l))<0&&(l+=d),l=s>l?0:ih(l);s<l;)e[s++]=t;return e}(e,t,s,l)):[]},b.filter=function zv(e,t){return(Te(e)?Un:$l)(e,be(t,3))},b.flatMap=function qv(e,t){return dr(mo(e,t),1)},b.flatMapDeep=function Hv(e,t){return dr(mo(e,t),Qn)},b.flatMapDepth=function Vv(e,t,s){return s=s===r?1:Ne(s),dr(mo(e,t),s)},b.flatten=zf,b.flattenDeep=function Z_(e){return null!=e&&e.length?dr(e,Qn):[]},b.flattenDepth=function z_(e,t){return null!=e&&e.length?dr(e,t=t===r?1:Ne(t)):[]},b.flip=function um(e){return Rn(e,512)},b.flow=ib,b.flowRight=sb,b.fromPairs=function U_(e){for(var t=-1,s=null==e?0:e.length,l={};++t<s;){var d=e[t];l[d[0]]=d[1]}return l},b.functions=function s1(e){return null==e?[]:so(e,ur(e))},b.functionsIn=function o1(e){return null==e?[]:so(e,Cr(e))},b.groupBy=Bv,b.initial=function q_(e){return null!=e&&e.length?Jr(e,0,-1):[]},b.intersection=H_,b.intersectionBy=V_,b.intersectionWith=B_,b.invert=c1,b.invertBy=u1,b.invokeMap=Kv,b.iteratee=Cc,b.keyBy=Gv,b.keys=ur,b.keysIn=Cr,b.map=mo,b.mapKeys=function f1(e,t){var s={};return t=be(t,3),wn(e,function(l,d,w){Cn(s,t(l,d,w),l)}),s},b.mapValues=function h1(e,t){var s={};return t=be(t,3),wn(e,function(l,d,w){Cn(s,d,t(l,d,w))}),s},b.matches=function ob(e){return Gl(Gr(e,1))},b.matchesProperty=function ab(e,t){return Jl(e,Gr(t,1))},b.memoize=wo,b.merge=p1,b.mergeWith=ah,b.method=cb,b.methodOf=ub,b.mixin=Rc,b.negate=xo,b.nthArg=function fb(e){return e=Ne(e),Me(function(t){return Wl(t,e)})},b.omit=d1,b.omitBy=function g1(e,t){return ch(e,xo(be(t)))},b.once=function lm(e){return Kf(2,e)},b.orderBy=function Jv(e,t,s,l){return null==e?[]:(Te(t)||(t=null==t?[]:[t]),Te(s=l?r:s)||(s=null==s?[]:[s]),Yl(e,t,s))},b.over=hb,b.overArgs=fm,b.overEvery=pb,b.overSome=db,b.partial=xc,b.partialRight=Xf,b.partition=Wv,b.pick=y1,b.pickBy=ch,b.property=gh,b.propertyOf=function gb(e){return function(t){return null==e?r:si(e,t)}},b.pull=J_,b.pullAll=$f,b.pullAllBy=function W_(e,t,s){return e&&e.length&&t&&t.length?Qa(e,t,be(s,2)):e},b.pullAllWith=function Y_(e,t,s){return e&&e.length&&t&&t.length?Qa(e,t,r,s):e},b.pullAt=X_,b.range=yb,b.rangeRight=_b,b.rearg=hm,b.reject=function Qv(e,t){return(Te(e)?Un:$l)(e,xo(be(t,3)))},b.remove=function Q_(e,t){var s=[];if(!e||!e.length)return s;var l=-1,d=[],w=e.length;for(t=be(t,3);++l<w;){var A=e[l];t(A,l,e)&&(s.push(A),d.push(l))}return Ql(e,d),s},b.rest=function pm(e,t){if("function"!=typeof e)throw new kr(h);return Me(e,t=t===r?t:Ne(t))},b.reverse=mc,b.sampleSize=function tm(e,t,s){return t=(s?Ir(e,t,s):t===r)?1:Ne(t),(Te(e)?Ey:Ky)(e,t)},b.set=function v1(e,t,s){return null==e?e:is(e,t,s)},b.setWith=function m1(e,t,s,l){return l="function"==typeof l?l:r,null==e?e:is(e,t,s,l)},b.shuffle=function rm(e){return(Te(e)?Iy:Jy)(e)},b.slice=function ev(e,t,s){var l=null==e?0:e.length;return l?(s&&"number"!=typeof s&&Ir(e,t,s)?(t=0,s=l):(t=null==t?0:Ne(t),s=s===r?l:Ne(s)),Jr(e,t,s)):[]},b.sortBy=sm,b.sortedUniq=function av(e){return e&&e.length?tf(e):[]},b.sortedUniqBy=function cv(e,t){return e&&e.length?tf(e,be(t,2)):[]},b.split=function q1(e,t,s){return s&&"number"!=typeof s&&Ir(e,t,s)&&(t=s=r),(s=s===r?bn:s>>>0)?(e=et(e))&&("string"==typeof t||null!=t&&!Ic(t))&&!(t=Lr(t))&&bi(e)?Kn(an(e),0,s):e.split(t,s):[]},b.spread=function dm(e,t){if("function"!=typeof e)throw new kr(h);return t=null==t?0:nr(Ne(t),0),Me(function(s){var l=s[t],d=Kn(s,0,t);return l&&$n(d,l),jr(e,this,d)})},b.tail=function uv(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},b.take=function lv(e,t,s){return e&&e.length?Jr(e,0,(t=s||t===r?1:Ne(t))<0?0:t):[]},b.takeRight=function fv(e,t,s){var l=null==e?0:e.length;return l?Jr(e,(t=l-(t=s||t===r?1:Ne(t)))<0?0:t,l):[]},b.takeRightWhile=function hv(e,t){return e&&e.length?co(e,be(t,3),!1,!0):[]},b.takeWhile=function pv(e,t){return e&&e.length?co(e,be(t,3)):[]},b.tap=function Av(e,t){return t(e),e},b.throttle=function gm(e,t,s){var l=!0,d=!0;if("function"!=typeof e)throw new kr(h);return Rt(s)&&(l="leading"in s?!!s.leading:l,d="trailing"in s?!!s.trailing:d),Yf(e,t,{leading:l,maxWait:t,trailing:d})},b.thru=vo,b.toArray=nh,b.toPairs=uh,b.toPairsIn=lh,b.toPath=function xb(e){return Te(e)?xt(e,En):Mr(e)?[e]:Or(Ff(et(e)))},b.toPlainObject=sh,b.transform=function b1(e,t,s){var l=Te(e),d=l||Gn(e)||Ri(e);if(t=be(t,4),null==s){var w=e&&e.constructor;s=d?l?new w:[]:Rt(e)&&Nn(w)?Pi(Js(e)):{}}return(d?Br:wn)(e,function(A,R,L){return t(s,A,R,L)}),s},b.unary=function ym(e){return kf(e,1)},b.union=dv,b.unionBy=gv,b.unionWith=yv,b.uniq=function _v(e){return e&&e.length?Bn(e):[]},b.uniqBy=function vv(e,t){return e&&e.length?Bn(e,be(t,2)):[]},b.uniqWith=function mv(e,t){return t="function"==typeof t?t:r,e&&e.length?Bn(e,r,t):[]},b.unset=function w1(e,t){return null==e||nc(e,t)},b.unzip=bc,b.unzipWith=qf,b.update=function x1(e,t,s){return null==e?e:nf(e,t,oc(s))},b.updateWith=function E1(e,t,s,l){return l="function"==typeof l?l:r,null==e?e:nf(e,t,oc(s),l)},b.values=Ti,b.valuesIn=function I1(e){return null==e?[]:Za(e,Cr(e))},b.without=bv,b.words=ph,b.wrap=function _m(e,t){return xc(oc(t),e)},b.xor=wv,b.xorBy=xv,b.xorWith=Ev,b.zip=Iv,b.zipObject=function Sv(e,t){return of(e||[],t||[],es)},b.zipObjectDeep=function Pv(e,t){return of(e||[],t||[],is)},b.zipWith=Ov,b.entries=uh,b.entriesIn=lh,b.extend=oh,b.extendWith=So,Rc(b,b),b.add=Ib,b.attempt=dh,b.camelCase=A1,b.capitalize=fh,b.ceil=Sb,b.clamp=function S1(e,t,s){return s===r&&(s=t,t=r),s!==r&&(s=(s=Yr(s))==s?s:0),t!==r&&(t=(t=Yr(t))==t?t:0),ii(Yr(e),t,s)},b.clone=function mm(e){return Gr(e,4)},b.cloneDeep=function wm(e){return Gr(e,5)},b.cloneDeepWith=function xm(e,t){return Gr(e,5,t="function"==typeof t?t:r)},b.cloneWith=function bm(e,t){return Gr(e,4,t="function"==typeof t?t:r)},b.conformsTo=function Em(e,t){return null==t||Zl(e,t,ur(t))},b.deburr=hh,b.defaultTo=function nb(e,t){return null==e||e!=e?t:e},b.divide=Pb,b.endsWith=function C1(e,t,s){e=et(e),t=Lr(t);var l=e.length,d=s=s===r?l:ii(Ne(s),0,l);return(s-=t.length)>=0&&e.slice(s,d)==t},b.eq=un,b.escape=function R1(e){return(e=et(e))&&lg.test(e)?e.replace(qu,m0):e},b.escapeRegExp=function T1(e){return(e=et(e))&&yg.test(e)?e.replace(xa,"\\$&"):e},b.every=function Zv(e,t,s){var l=Te(e)?_l:Ay;return s&&Ir(e,t,s)&&(t=r),l(e,be(t,3))},b.find=Uv,b.findIndex=Mf,b.findKey=function Qm(e,t){return vl(e,be(t,3),wn)},b.findLast=$v,b.findLastIndex=Zf,b.findLastKey=function e1(e,t){return vl(e,be(t,3),Ka)},b.floor=Ob,b.forEach=Vf,b.forEachRight=Bf,b.forIn=function t1(e,t){return null==e?e:ka(e,be(t,3),Cr)},b.forInRight=function r1(e,t){return null==e?e:ql(e,be(t,3),Cr)},b.forOwn=function n1(e,t){return e&&wn(e,be(t,3))},b.forOwnRight=function i1(e,t){return e&&Ka(e,be(t,3))},b.get=Sc,b.gt=Im,b.gte=Sm,b.has=function a1(e,t){return null!=e&&Pf(e,t,Ry)},b.hasIn=Pc,b.head=Uf,b.identity=Rr,b.includes=function kv(e,t,s,l){e=Ar(e)?e:Ti(e),s=s&&!l?Ne(s):0;var d=e.length;return s<0&&(s=nr(d+s,0)),Io(e)?s<=d&&e.indexOf(t,s)>-1:!!d&&mi(e,t,s)>-1},b.indexOf=function $_(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var d=null==s?0:Ne(s);return d<0&&(d=nr(l+d,0)),mi(e,t,d)},b.inRange=function P1(e,t,s){return t=jn(t),s===r?(s=t,t=0):s=jn(s),function Dy(e,t,s){return e>=vr(t,s)&&e<nr(t,s)}(e=Yr(e),t,s)},b.invoke=l1,b.isArguments=ci,b.isArray=Te,b.isArrayBuffer=Pm,b.isArrayLike=Ar,b.isArrayLikeObject=Ut,b.isBoolean=function Om(e){return!0===e||!1===e||jt(e)&&Er(e)==$i},b.isBuffer=Gn,b.isDate=Am,b.isElement=function Cm(e){return jt(e)&&1===e.nodeType&&!cs(e)},b.isEmpty=function Rm(e){if(null==e)return!0;if(Ar(e)&&(Te(e)||"string"==typeof e||"function"==typeof e.splice||Gn(e)||Ri(e)||ci(e)))return!e.length;var t=mr(e);if(t==sn||t==on)return!e.size;if(os(e))return!Ya(e).length;for(var s in e)if(rt.call(e,s))return!1;return!0},b.isEqual=function Tm(e,t){return ns(e,t)},b.isEqualWith=function Dm(e,t,s){var l=(s="function"==typeof s?s:r)?s(e,t):r;return l===r?ns(e,t,r,s):!!l},b.isError=Ec,b.isFinite=function Nm(e){return"number"==typeof e&&Dl(e)},b.isFunction=Nn,b.isInteger=Qf,b.isLength=Eo,b.isMap=eh,b.isMatch=function jm(e,t){return e===t||Wa(e,t,pc(t))},b.isMatchWith=function Fm(e,t,s){return s="function"==typeof s?s:r,Wa(e,t,pc(t),s)},b.isNaN=function Lm(e){return th(e)&&e!=+e},b.isNative=function Mm(e){if(b_(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Bl(e)},b.isNil=function zm(e){return null==e},b.isNull=function Zm(e){return null===e},b.isNumber=th,b.isObject=Rt,b.isObjectLike=jt,b.isPlainObject=cs,b.isRegExp=Ic,b.isSafeInteger=function Um(e){return Qf(e)&&e>=-zn&&e<=zn},b.isSet=rh,b.isString=Io,b.isSymbol=Mr,b.isTypedArray=Ri,b.isUndefined=function $m(e){return e===r},b.isWeakMap=function qm(e){return jt(e)&&mr(e)==ki},b.isWeakSet=function Hm(e){return jt(e)&&"[object WeakSet]"==Er(e)},b.join=function k_(e,t){return null==e?"":q0.call(e,t)},b.kebabCase=D1,b.last=Wr,b.lastIndexOf=function K_(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var d=l;return s!==r&&(d=(d=Ne(s))<0?nr(l+d,0):vr(d,l-1)),t==t?function P0(j,k,q){for(var pe=q+1;pe--;)if(j[pe]===k)return pe;return pe}(e,t,d):$s(e,ml,d,!0)},b.lowerCase=N1,b.lowerFirst=j1,b.lt=Vm,b.lte=Bm,b.max=function Ab(e){return e&&e.length?io(e,Rr,Ga):r},b.maxBy=function Cb(e,t){return e&&e.length?io(e,be(t,2),Ga):r},b.mean=function Rb(e){return bl(e,Rr)},b.meanBy=function Tb(e,t){return bl(e,be(t,2))},b.min=function Db(e){return e&&e.length?io(e,Rr,Xa):r},b.minBy=function Nb(e,t){return e&&e.length?io(e,be(t,2),Xa):r},b.stubArray=Dc,b.stubFalse=Nc,b.stubObject=function vb(){return{}},b.stubString=function mb(){return""},b.stubTrue=function bb(){return!0},b.multiply=jb,b.nth=function G_(e,t){return e&&e.length?Wl(e,Ne(t)):r},b.noConflict=function lb(){return pr._===this&&(pr._=L0),this},b.noop=Tc,b.now=bo,b.pad=function F1(e,t,s){e=et(e);var l=(t=Ne(t))?wi(e):0;if(!t||l>=t)return e;var d=(t-l)/2;return ho(Qs(d),s)+e+ho(Xs(d),s)},b.padEnd=function L1(e,t,s){e=et(e);var l=(t=Ne(t))?wi(e):0;return t&&l<t?e+ho(t-l,s):e},b.padStart=function M1(e,t,s){e=et(e);var l=(t=Ne(t))?wi(e):0;return t&&l<t?ho(t-l,s)+e:e},b.parseInt=function Z1(e,t,s){return s||null==t?t=0:t&&(t=+t),B0(et(e).replace(Ea,""),t||0)},b.random=function O1(e,t,s){if(s&&"boolean"!=typeof s&&Ir(e,t,s)&&(t=s=r),s===r&&("boolean"==typeof t?(s=t,t=r):"boolean"==typeof e&&(s=e,e=r)),e===r&&t===r?(e=0,t=1):(e=jn(e),t===r?(t=e,e=0):t=jn(t)),e>t){var l=e;e=t,t=l}if(s||e%1||t%1){var d=Nl();return vr(e+d*(t-e+s0("1e-"+((d+"").length-1))),t)}return ec(e,t)},b.reduce=function Yv(e,t,s){var l=Te(e)?Da:wl,d=arguments.length<3;return l(e,be(t,4),s,d,Vn)},b.reduceRight=function Xv(e,t,s){var l=Te(e)?l0:wl,d=arguments.length<3;return l(e,be(t,4),s,d,Ul)},b.repeat=function z1(e,t,s){return t=(s?Ir(e,t,s):t===r)?1:Ne(t),tc(et(e),t)},b.replace=function U1(){var e=arguments,t=et(e[0]);return e.length<3?t:t.replace(e[1],e[2])},b.result=function _1(e,t,s){var l=-1,d=(t=kn(t,e)).length;for(d||(d=1,e=r);++l<d;){var w=null==e?r:e[En(t[l])];w===r&&(l=d,w=s),e=Nn(w)?w.call(e):w}return e},b.round=Fb,b.runInContext=j,b.sample=function em(e){return(Te(e)?Ll:ky)(e)},b.size=function nm(e){if(null==e)return 0;if(Ar(e))return Io(e)?wi(e):e.length;var t=mr(e);return t==sn||t==on?e.size:Ya(e).length},b.snakeCase=$1,b.some=function im(e,t,s){var l=Te(e)?Na:Wy;return s&&Ir(e,t,s)&&(t=r),l(e,be(t,3))},b.sortedIndex=function tv(e,t){return ao(e,t)},b.sortedIndexBy=function rv(e,t,s){return rc(e,t,be(s,2))},b.sortedIndexOf=function nv(e,t){var s=null==e?0:e.length;if(s){var l=ao(e,t);if(l<s&&un(e[l],t))return l}return-1},b.sortedLastIndex=function iv(e,t){return ao(e,t,!0)},b.sortedLastIndexBy=function sv(e,t,s){return rc(e,t,be(s,2),!0)},b.sortedLastIndexOf=function ov(e,t){if(null!=e&&e.length){var l=ao(e,t,!0)-1;if(un(e[l],t))return l}return-1},b.startCase=H1,b.startsWith=function V1(e,t,s){return e=et(e),s=null==s?0:ii(Ne(s),0,e.length),t=Lr(t),e.slice(s,s+t.length)==t},b.subtract=Lb,b.sum=function Mb(e){return e&&e.length?La(e,Rr):0},b.sumBy=function Zb(e,t){return e&&e.length?La(e,be(t,2)):0},b.template=function B1(e,t,s){var l=b.templateSettings;s&&Ir(e,t,s)&&(t=r),e=et(e),t=So({},t,l,xf);var R,L,d=So({},t.imports,l.imports,xf),w=ur(d),A=Za(d,w),G=0,Y=t.interpolate||Ms,re="__p += '",fe=Ua((t.escape||Ms).source+"|"+Y.source+"|"+(Y===Hu?Ig:Ms).source+"|"+(t.evaluate||Ms).source+"|$","g"),ye="//# sourceURL="+(rt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++e0+"]")+"\n";e.replace(fe,function(Ee,Ze,$e,Zr,Sr,zr){return $e||($e=Zr),re+=e.slice(G,zr).replace(Tg,b0),Ze&&(R=!0,re+="' +\n__e("+Ze+") +\n'"),Sr&&(L=!0,re+="';\n"+Sr+";\n__p += '"),$e&&(re+="' +\n((__t = ("+$e+")) == null ? '' : __t) +\n'"),G=zr+Ee.length,Ee}),re+="';\n";var xe=rt.call(t,"variable")&&t.variable;if(xe){if(xg.test(xe))throw new Ae("Invalid `variable` option passed into `_.template`")}else re="with (obj) {\n"+re+"\n}\n";re=(L?re.replace(og,""):re).replace(ag,"$1").replace(cg,"$1;"),re="function("+(xe||"obj")+") {\n"+(xe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(R?", __e = _.escape":"")+(L?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+re+"return __p\n}";var Le=dh(function(){return We(w,ye+"return "+re).apply(r,A)});if(Le.source=re,Ec(Le))throw Le;return Le},b.times=function wb(e,t){if((e=Ne(e))<1||e>zn)return[];var s=bn,l=vr(e,bn);t=be(t),e-=bn;for(var d=Ma(l,t);++s<e;)t(s);return d},b.toFinite=jn,b.toInteger=Ne,b.toLength=ih,b.toLower=function k1(e){return et(e).toLowerCase()},b.toNumber=Yr,b.toSafeInteger=function km(e){return e?ii(Ne(e),-zn,zn):0===e?e:0},b.toString=et,b.toUpper=function K1(e){return et(e).toUpperCase()},b.trim=function G1(e,t,s){if((e=et(e))&&(s||t===r))return xl(e);if(!e||!(t=Lr(t)))return e;var l=an(e),d=an(t);return Kn(l,El(l,d),Il(l,d)+1).join("")},b.trimEnd=function J1(e,t,s){if((e=et(e))&&(s||t===r))return e.slice(0,Pl(e)+1);if(!e||!(t=Lr(t)))return e;var l=an(e);return Kn(l,0,Il(l,an(t))+1).join("")},b.trimStart=function W1(e,t,s){if((e=et(e))&&(s||t===r))return e.replace(Ea,"");if(!e||!(t=Lr(t)))return e;var l=an(e);return Kn(l,El(l,an(t))).join("")},b.truncate=function Y1(e,t){var s=30,l="...";if(Rt(t)){var d="separator"in t?t.separator:d;s="length"in t?Ne(t.length):s,l="omission"in t?Lr(t.omission):l}var w=(e=et(e)).length;if(bi(e)){var A=an(e);w=A.length}if(s>=w)return e;var R=s-wi(l);if(R<1)return l;var L=A?Kn(A,0,R).join(""):e.slice(0,R);if(d===r)return L+l;if(A&&(R+=L.length-R),Ic(d)){if(e.slice(R).search(d)){var G,Y=L;for(d.global||(d=Ua(d.source,et(Vu.exec(d))+"g")),d.lastIndex=0;G=d.exec(Y);)var re=G.index;L=L.slice(0,re===r?R:re)}}else if(e.indexOf(Lr(d),R)!=R){var fe=L.lastIndexOf(d);fe>-1&&(L=L.slice(0,fe))}return L+l},b.unescape=function X1(e){return(e=et(e))&&ug.test(e)?e.replace($u,O0):e},b.uniqueId=function Eb(e){var t=++j0;return et(e)+t},b.upperCase=Q1,b.upperFirst=Oc,b.each=Vf,b.eachRight=Bf,b.first=Uf,Rc(b,function(){var e={};return wn(b,function(t,s){rt.call(b.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),b.VERSION="4.17.21",Br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){b[e].placeholder=b}),Br(["drop","take"],function(e,t){ze.prototype[e]=function(s){s=s===r?1:nr(Ne(s),0);var l=this.__filtered__&&!t?new ze(this):this.clone();return l.__filtered__?l.__takeCount__=vr(s,l.__takeCount__):l.__views__.push({size:vr(s,bn),type:e+(l.__dir__<0?"Right":"")}),l},ze.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),Br(["filter","map","takeWhile"],function(e,t){var s=t+1,l=1==s||3==s;ze.prototype[e]=function(d){var w=this.clone();return w.__iteratees__.push({iteratee:be(d,3),type:s}),w.__filtered__=w.__filtered__||l,w}}),Br(["head","last"],function(e,t){var s="take"+(t?"Right":"");ze.prototype[e]=function(){return this[s](1).value()[0]}}),Br(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");ze.prototype[e]=function(){return this.__filtered__?new ze(this):this[s](1)}}),ze.prototype.compact=function(){return this.filter(Rr)},ze.prototype.find=function(e){return this.filter(e).head()},ze.prototype.findLast=function(e){return this.reverse().find(e)},ze.prototype.invokeMap=Me(function(e,t){return"function"==typeof e?new ze(this):this.map(function(s){return rs(s,e,t)})}),ze.prototype.reject=function(e){return this.filter(xo(be(e)))},ze.prototype.slice=function(e,t){e=Ne(e);var s=this;return s.__filtered__&&(e>0||t<0)?new ze(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==r&&(s=(t=Ne(t))<0?s.dropRight(-t):s.take(t-e)),s)},ze.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ze.prototype.toArray=function(){return this.take(bn)},wn(ze.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),d=b[l?"take"+("last"==t?"Right":""):t],w=l||/^find/.test(t);d&&(b.prototype[t]=function(){var A=this.__wrapped__,R=l?[1]:arguments,L=A instanceof ze,G=R[0],Y=L||Te(A),re=function(Ze){var $e=d.apply(b,$n([Ze],R));return l&&fe?$e[0]:$e};Y&&s&&"function"==typeof G&&1!=G.length&&(L=Y=!1);var fe=this.__chain__,xe=w&&!fe,Le=L&&!this.__actions__.length;if(!w&&Y){A=Le?A:new ze(this);var Ee=e.apply(A,R);return Ee.__actions__.push({func:vo,args:[re],thisArg:r}),new Kr(Ee,fe)}return xe&&Le?e.apply(this,R):(Ee=this.thru(re),xe?l?Ee.value()[0]:Ee.value():Ee)})}),Br(["pop","push","shift","sort","splice","unshift"],function(e){var t=Hs[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);b.prototype[e]=function(){var d=arguments;if(l&&!this.__chain__){var w=this.value();return t.apply(Te(w)?w:[],d)}return this[s](function(A){return t.apply(Te(A)?A:[],d)})}}),wn(ze.prototype,function(e,t){var s=b[t];if(s){var l=s.name+"";rt.call(Si,l)||(Si[l]=[]),Si[l].push({name:t,func:s})}}),Si[lo(r,2).name]=[{name:"wrapper",func:r}],ze.prototype.clone=function X0(){var e=new ze(this.__wrapped__);return e.__actions__=Or(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Or(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Or(this.__views__),e},ze.prototype.reverse=function Q0(){if(this.__filtered__){var e=new ze(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ze.prototype.value=function ey(){var e=this.__wrapped__.value(),t=this.__dir__,s=Te(e),l=t<0,d=s?e.length:0,w=function h_(e,t,s){for(var l=-1,d=s.length;++l<d;){var w=s[l],A=w.size;switch(w.type){case"drop":e+=A;break;case"dropRight":t-=A;break;case"take":t=vr(t,e+A);break;case"takeRight":e=nr(e,t-A)}}return{start:e,end:t}}(0,d,this.__views__),A=w.start,R=w.end,L=R-A,G=l?R:A-1,Y=this.__iteratees__,re=Y.length,fe=0,ye=vr(L,this.__takeCount__);if(!s||!l&&d==L&&ye==L)return sf(e,this.__actions__);var xe=[];e:for(;L--&&fe<ye;){for(var Le=-1,Ee=e[G+=t];++Le<re;){var Ze=Y[Le],Zr=Ze.type,Sr=(0,Ze.iteratee)(Ee);if(2==Zr)Ee=Sr;else if(!Sr){if(1==Zr)continue e;break e}}xe[fe++]=Ee}return xe},b.prototype.at=Cv,b.prototype.chain=function Rv(){return Hf(this)},b.prototype.commit=function Tv(){return new Kr(this.value(),this.__chain__)},b.prototype.next=function Dv(){this.__values__===r&&(this.__values__=nh(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},b.prototype.plant=function jv(e){for(var t,s=this;s instanceof ro;){var l=Lf(s);l.__index__=0,l.__values__=r,t?d.__wrapped__=l:t=l;var d=l;s=s.__wrapped__}return d.__wrapped__=e,t},b.prototype.reverse=function Fv(){var e=this.__wrapped__;if(e instanceof ze){var t=e;return this.__actions__.length&&(t=new ze(this)),(t=t.reverse()).__actions__.push({func:vo,args:[mc],thisArg:r}),new Kr(t,this.__chain__)}return this.thru(mc)},b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function Lv(){return sf(this.__wrapped__,this.__actions__)},b.prototype.first=b.prototype.head,Ji&&(b.prototype[Ji]=function Nv(){return this}),b}();ei?((ei.exports=xi)._=xi,Ca._=xi):pr._=xi}.call(zi);var ld=Object.defineProperty,fd=Object.defineProperties,hd=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,pd=Object.prototype.hasOwnProperty,dd=Object.prototype.propertyIsEnumerable,Ou=(y,n,r)=>n in y?ld(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Ps=(y,n)=>{for(var r in n||(n={}))pd.call(n,r)&&Ou(y,r,n[r]);if(Pu)for(var r of Pu(n))dd.call(n,r)&&Ou(y,r,n[r]);return y},gd=(y,n)=>fd(y,hd(n));function Hr(y,n,r){let o;const a=ca(y);return n.rpcMap&&(o=n.rpcMap[a]),o||(o=`https://rpc.walletconnect.com/v1?chainId=eip155:${a}&projectId=${r}`),o}function ca(y){return y.includes("eip155")?Number(y.split(":")[1]):Number(y)}function Au(y){return y.map(n=>`${n.split(":")[0]}:${n.split(":")[1]}`)}function Cu(y){var n,r,o,a;const u={};if(!(0,x.L5)(y))return u;for(const[h,S]of Object.entries(y)){const D=(0,x.gp)(h)?[h]:S.chains,$=S.methods||[],W=S.events||[],le=S.rpcMap||{},Ie=(0,x.M)(h);u[Ie]=gd(Ps(Ps({},u[Ie]),S),{chains:(0,x.eG)(D,null==(n=u[Ie])?void 0:n.chains),methods:(0,x.eG)($,null==(r=u[Ie])?void 0:r.methods),events:(0,x.eG)(W,null==(o=u[Ie])?void 0:o.events),rpcMap:Ps(Ps({},le),null==(a=u[Ie])?void 0:a.rpcMap)})}return u}function vd(y){return y.includes(":")?y.split(":")[2]:y}function md(y){const n={};for(const[r,o]of Object.entries(y)){const a=o.methods||[],u=o.events||[],h=o.accounts||[],S=(0,x.gp)(r)?[r]:o.chains?o.chains:Au(o.accounts);n[r]={chains:S,methods:a,events:u,accounts:h}}return n}const Ru={},Mt=y=>Ru[y],ua=(y,n)=>{Ru[y]=n};class bd{constructor(n){this.name="polkadot",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(this.chainId=n,!this.httpProviders[n]){const o=r||Hr(`${this.name}:${n}`,this.namespace);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n&&n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Hr(n,this.namespace);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class wd{constructor(n){this.name="eip155",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(n){var r=this;return(0,v.Z)(function*(){switch(n.request.method){case"eth_requestAccounts":case"eth_accounts":return r.getAccounts();case"wallet_switchEthereumChain":return yield r.handleSwitchChain(n);case"eth_chainId":return parseInt(r.getDefaultChain())}return r.namespace.methods.includes(n.request.method)?yield r.client.request(n):r.getHttpProvider().request(n.request)})()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}setDefaultChain(n,r){const o=ca(n);if(!this.httpProviders[o]){const a=r||Hr(`${this.name}:${o}`,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${o}`);this.setHttpProvider(o,a)}this.chainId=o,this.events.emit("default_chain_changed",`${this.name}:${o}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}createHttpProvider(n,r){const o=r||Hr(`${this.name}:${n}`,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new Eu(o,Mt("disableProviderPing")))}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;const a=ca(r);n[a]=this.createHttpProvider(a,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const n=this.chainId,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}handleSwitchChain(n){var r=this;return(0,v.Z)(function*(){var o,a;let u=n.request.params?null==(o=n.request.params[0])?void 0:o.chainId:"0x0";u=u.startsWith("0x")?u:`0x${u}`;const h=parseInt(u,16);if(r.isChainApproved(h))r.setDefaultChain(`${h}`);else{if(!r.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${h}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);yield r.client.request({topic:n.topic,request:{method:n.request.method,params:[{chainId:u}]},chainId:null==(a=r.namespace.chains)?void 0:a[0]}),r.setDefaultChain(`${h}`)}return null})()}isChainApproved(n){return this.namespace.chains.includes(`${this.name}:${n}`)}}class xd{constructor(n){this.name="solana",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(!this.httpProviders[n]){const o=r||Hr(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Hr(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Ed{constructor(n){this.name="cosmos",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(this.chainId=n,!this.httpProviders[n]){const o=r||Hr(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Hr(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Id{constructor(n){this.name="cip34",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(this.chainId=n,!this.httpProviders[n]){const o=r||this.getCardanoRPCUrl(n);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{const o=this.getCardanoRPCUrl(r);n[r]=this.createHttpProvider(r,o)}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}getCardanoRPCUrl(n){const r=this.namespace.rpcMap;if(r)return r[n]}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||this.getCardanoRPCUrl(n);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Sd{constructor(n){this.name="elrond",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(!this.httpProviders[n]){const o=r||Hr(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Hr(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Pd{constructor(n){this.name="multiversx",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(!this.httpProviders[n]){const o=r||Hr(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Hr(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}var Od=Object.defineProperty,Ad=Object.defineProperties,Cd=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,Rd=Object.prototype.hasOwnProperty,Td=Object.prototype.propertyIsEnumerable,Du=(y,n,r)=>n in y?Od(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Os=(y,n)=>{for(var r in n||(n={}))Rd.call(n,r)&&Du(y,r,n[r]);if(Tu)for(var r of Tu(n))Td.call(n,r)&&Du(y,r,n[r]);return y},la=(y,n)=>Ad(y,Cd(n));class fa{constructor(n){this.events=new(ve()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=n,this.logger=typeof n?.logger<"u"&&"string"!=typeof n?.logger?n.logger:(0,ae.pino)((0,ae.getDefaultLoggerOptions)({level:n?.logger||"error"})),this.disableProviderPing=n?.disableProviderPing||!1}static init(n){return(0,v.Z)(function*(){const r=new fa(n);return yield r.initialize(),r})()}request(n,r){var o=this;return(0,v.Z)(function*(){const[a,u]=o.validateChain(r);if(!o.session)throw new Error("Please call connect() before request()");return yield o.getProvider(a).request({request:Os({},n),chainId:`${a}:${u}`,topic:o.session.topic})})()}sendAsync(n,r,o){this.request(n,o).then(a=>r(null,a)).catch(a=>r(a,void 0))}enable(){var n=this;return(0,v.Z)(function*(){if(!n.client)throw new Error("Sign Client not initialized");return n.session||(yield n.connect({namespaces:n.namespaces,optionalNamespaces:n.optionalNamespaces,sessionProperties:n.sessionProperties})),yield n.requestAccounts()})()}disconnect(){var n=this;return(0,v.Z)(function*(){var r;if(!n.session)throw new Error("Please call connect() before enable()");yield n.client.disconnect({topic:null==(r=n.session)?void 0:r.topic,reason:(0,x.D6)("USER_DISCONNECTED")}),yield n.cleanup()})()}connect(n){var r=this;return(0,v.Z)(function*(){if(!r.client)throw new Error("Sign Client not initialized");if(r.setNamespaces(n),yield r.cleanupPendingPairings(),!n.skipPairing)return yield r.pair(n.pairingTopic)})()}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}removeListener(n,r){this.events.removeListener(n,r)}off(n,r){this.events.off(n,r)}get isWalletConnect(){return!0}pair(n){var r=this;return(0,v.Z)(function*(){r.shouldAbortPairingAttempt=!1;let o=0;do{if(r.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(o>=r.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:a,approval:u}=yield r.client.connect({pairingTopic:n,requiredNamespaces:r.namespaces,optionalNamespaces:r.optionalNamespaces,sessionProperties:r.sessionProperties});a&&(r.uri=a,r.events.emit("display_uri",a)),yield u().then(h=>{r.session=h,r.namespaces||(r.namespaces=md(h.namespaces),r.persist("namespaces",r.namespaces))}).catch(h=>{if(h.message!==_u)throw h;o++})}while(!r.session);return r.onConnect(),r.session})()}setDefaultChain(n,r){try{if(!this.session)return;const[o,a]=this.validateChain(n);this.getProvider(o).setDefaultChain(a,r)}catch(o){if(!/Please call connect/.test(o.message))throw o}}cleanupPendingPairings(n={}){var r=this;return(0,v.Z)(function*(){r.logger.info("Cleaning up inactive pairings...");const o=r.client.pairing.getAll();if((0,x.qt)(o)){for(const a of o)n.deletePairings?r.client.core.expirer.set(a.topic,0):yield r.client.core.relayer.subscriber.unsubscribe(a.topic);r.logger.info(`Inactive pairings cleared: ${o.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var n=this;return(0,v.Z)(function*(){n.namespaces=yield n.getFromStore("namespaces"),n.optionalNamespaces=(yield n.getFromStore("optionalNamespaces"))||{},n.client.session.length&&(n.session=n.client.session.get(n.client.session.keys[n.client.session.keys.length-1]),n.createProviders())})()}initialize(){var n=this;return(0,v.Z)(function*(){n.logger.trace("Initialized"),yield n.createClient(),yield n.checkStorage(),n.registerEventListeners()})()}createClient(){var n=this;return(0,v.Z)(function*(){n.client=n.providerOpts.client||(yield oa.init({logger:n.providerOpts.logger||"error",relayUrl:n.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:n.providerOpts.projectId,metadata:n.providerOpts.metadata,storageOptions:n.providerOpts.storageOptions,name:n.providerOpts.name})),n.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const n=[...new Set(Object.keys(this.session.namespaces).map(r=>(0,x.M)(r)))];ua("client",this.client),ua("events",this.events),ua("disableProviderPing",this.disableProviderPing),n.forEach(r=>{if(!this.session)return;const o=function yd(y,n){const r=Object.keys(n.namespaces).filter(a=>a.includes(y));if(!r.length)return[];const o=[];return r.forEach(a=>{o.push(...n.namespaces[a].accounts)}),o}(r,this.session),a=Au(o),u=function _d(y={},n={}){const r=Cu(y),o=Cu(n);return aa.exports.merge(r,o)}(this.namespaces,this.optionalNamespaces),h=la(Os({},u[r]),{accounts:o,chains:a});switch(r){case"eip155":this.rpcProviders[r]=new wd({namespace:h});break;case"solana":this.rpcProviders[r]=new xd({namespace:h});break;case"cosmos":this.rpcProviders[r]=new Ed({namespace:h});break;case"polkadot":this.rpcProviders[r]=new bd({namespace:h});break;case"cip34":this.rpcProviders[r]=new Id({namespace:h});break;case"elrond":this.rpcProviders[r]=new Sd({namespace:h});break;case"multiversx":this.rpcProviders[r]=new Pd({namespace:h})}})}registerEventListeners(){var n=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:o}=r,{event:a}=o;if("accountsChanged"===a.name){const u=a.data;u&&(0,x.qt)(u)&&this.events.emit("accountsChanged",u.map(vd))}else"chainChanged"===a.name?this.onChainChanged(o.chainId):this.events.emit(a.name,a.data);this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:o})=>{var a;const{namespaces:u}=o,h=null==(a=this.client)?void 0:a.session.get(r);this.session=la(Os({},h),{namespaces:u}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:o})}),this.client.on("session_delete",function(){var r=(0,v.Z)(function*(o){yield n.cleanup(),n.events.emit("session_delete",o),n.events.emit("disconnect",la(Os({},(0,x.D6)("USER_DISCONNECTED")),{data:o.topic}))});return function(o){return r.apply(this,arguments)}}()),this.on("default_chain_changed",r=>{this.onChainChanged(r,!0)})}getProvider(n){if(!this.rpcProviders[n])throw new Error(`Provider not found: ${n}`);return this.rpcProviders[n]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(n=>{var r;this.getProvider(n).updateNamespace(null==(r=this.session)?void 0:r.namespaces[n])})}setNamespaces(n){const{namespaces:r,optionalNamespaces:o,sessionProperties:a}=n;r&&Object.keys(r).length&&(this.namespaces=r),o&&Object.keys(o).length&&(this.optionalNamespaces=o),this.sessionProperties=a,this.persist("namespaces",r),this.persist("optionalNamespaces",o)}validateChain(n){const[r,o]=n?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,o];if(r&&!Object.keys(this.namespaces||{}).map(h=>(0,x.M)(h)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&o)return[r,o];const a=(0,x.M)(Object.keys(this.namespaces)[0]);return[a,this.rpcProviders[a].getDefaultChain()]}requestAccounts(){var n=this;return(0,v.Z)(function*(){const[r]=n.validateChain();return yield n.getProvider(r).requestAccounts()})()}onChainChanged(n,r=!1){var o;if(!this.namespaces)return;const[a,u]=this.validateChain(n);r||this.getProvider(a).setDefaultChain(u),(null!=(o=this.namespaces[a])?o:this.namespaces[`${a}:${u}`]).defaultChain=u,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",u)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var n=this;return(0,v.Z)(function*(){n.session=void 0,n.namespaces=void 0,n.optionalNamespaces=void 0,n.sessionProperties=void 0,n.persist("namespaces",void 0),n.persist("optionalNamespaces",void 0),n.persist("sessionProperties",void 0),yield n.cleanupPendingPairings({deletePairings:!0})})()}persist(n,r){this.client.core.storage.setItem(`${Su}/${n}`,r)}getFromStore(n){var r=this;return(0,v.Z)(function*(){return yield r.client.core.storage.getItem(`${Su}/${n}`)})()}}const Dd=fa,As=["eth_sendTransaction","personal_sign"],Nu=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Cs=["chainChanged","accountsChanged"],ju=["message","disconnect","connect"];var Md=Object.defineProperty,Zd=Object.defineProperties,zd=Object.getOwnPropertyDescriptors,Fu=Object.getOwnPropertySymbols,Ud=Object.prototype.hasOwnProperty,$d=Object.prototype.propertyIsEnumerable,Lu=(y,n,r)=>n in y?Md(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Ui=(y,n)=>{for(var r in n||(n={}))Ud.call(n,r)&&Lu(y,r,n[r]);if(Fu)for(var r of Fu(n))$d.call(n,r)&&Lu(y,r,n[r]);return y},Mu=(y,n)=>Zd(y,zd(n));function Rs(y){return Number(y[0].split(":")[1])}function ha(y){return`0x${y.toString(16)}`}class Ts{constructor(){this.events=new se.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(n,r)=>(this.events.on(n,r),this),this.once=(n,r)=>(this.events.once(n,r),this),this.removeListener=(n,r)=>(this.events.removeListener(n,r),this),this.off=(n,r)=>(this.events.off(n,r),this),this.parseAccount=n=>this.isCompatibleChainId(n)?this.parseAccountId(n).address:n,this.signer={},this.rpc={}}static init(n){return(0,v.Z)(function*(){const r=new Ts;return yield r.initialize(n),r})()}request(n){var r=this;return(0,v.Z)(function*(){return yield r.signer.request(n,r.formatChainId(r.chainId))})()}sendAsync(n,r){this.signer.sendAsync(n,r,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}enable(){var n=this;return(0,v.Z)(function*(){return n.session||(yield n.connect()),yield n.request({method:"eth_requestAccounts"})})()}connect(n){var r=this;return(0,v.Z)(function*(){if(!r.signer.client)throw new Error("Provider not initialized. Call init() first");r.loadConnectOpts(n);const{required:o,optional:a}=function qd(y){const{chains:n,optionalChains:r,methods:o,optionalMethods:a,events:u,optionalEvents:h,rpcMap:S}=y;if(!(0,x.qt)(n))throw new Error("Invalid chains");const D={chains:n,methods:o||As,events:u||Cs,rpcMap:Ui({},n.length?{[Rs(n)]:S[Rs(n)]}:{})},$=u?.filter(ke=>!Cs.includes(ke)),W=o?.filter(ke=>!As.includes(ke));if(!(r||h||a||null!=$&&$.length||null!=W&&W.length))return{required:n.length?D:void 0};const Ie={chains:[...new Set($?.length&&W?.length||!r?D.chains.concat(r||[]):r)],methods:[...new Set(D.methods.concat(null!=a&&a.length?a:Nu))],events:[...new Set(D.events.concat(h||ju))],rpcMap:S};return{required:n.length?D:void 0,optional:r.length?Ie:void 0}}(r.rpc);try{const u=yield new Promise(function(){var S=(0,v.Z)(function*(D,$){var W;r.rpc.showQrModal&&(null==(W=r.modal)||W.subscribeModal(le=>{!le.open&&!r.signer.session&&(r.signer.abortPairingAttempt(),$(new Error("Connection request reset. Please try again.")))})),yield r.signer.connect(Mu(Ui({namespaces:Ui({},o&&{[r.namespace]:o})},a&&{optionalNamespaces:{[r.namespace]:a}}),{pairingTopic:n?.pairingTopic})).then(le=>{D(le)}).catch(le=>{$(new Error(le.message))})});return function(D,$){return S.apply(this,arguments)}}());if(!u)return;r.setChainIds(r.rpc.chains);const h=(0,x.gu)(u.namespaces,[r.namespace]);r.setAccounts(h),r.events.emit("connect",{chainId:ha(r.chainId)})}catch(u){throw r.signer.logger.error(u),u}finally{r.modal&&r.modal.closeModal()}})()}disconnect(){var n=this;return(0,v.Z)(function*(){n.session&&(yield n.signer.disconnect()),n.reset()})()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",n=>{const{params:r}=n,{event:o}=r;"accountsChanged"===o.name?(this.accounts=this.parseAccounts(o.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===o.name?this.setChainId(this.formatChainId(o.data)):this.events.emit(o.name,o.data),this.events.emit("session_event",n)}),this.signer.on("chainChanged",n=>{const r=parseInt(n);this.chainId=r,this.events.emit("chainChanged",ha(this.chainId)),this.persist()}),this.signer.on("session_update",n=>{this.events.emit("session_update",n)}),this.signer.on("session_delete",n=>{this.reset(),this.events.emit("session_delete",n),this.events.emit("disconnect",Mu(Ui({},(0,x.D6)("USER_DISCONNECTED")),{data:n.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",n=>{var r,o;this.rpc.showQrModal&&(null==(r=this.modal)||r.closeModal(),null==(o=this.modal)||o.openModal({uri:n})),this.events.emit("display_uri",n)})}switchEthereumChain(n){this.request({method:"wallet_switchEthereumChain",params:[{chainId:n.toString(16)}]})}isCompatibleChainId(n){return"string"==typeof n&&n.startsWith(`${this.namespace}:`)}formatChainId(n){return`${this.namespace}:${n}`}parseChainId(n){return Number(n.split(":")[1])}setChainIds(n){const r=n.filter(o=>this.isCompatibleChainId(o)).map(o=>this.parseChainId(o));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",ha(this.chainId)),this.persist())}setChainId(n){if(this.isCompatibleChainId(n)){const r=this.parseChainId(n);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(n){const[r,o,a]=n.split(":");return{chainId:`${r}:${o}`,address:a}}setAccounts(n){this.accounts=n.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(n){var r,o;const a=null!=(r=n?.chains)?r:[],u=null!=(o=n?.optionalChains)?o:[],h=a.concat(u);if(!h.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const S=a.length?n?.methods||As:[],D=a.length?n?.events||Cs:[],$=n?.optionalMethods||[],W=n?.optionalEvents||[],le=n?.rpcMap||this.buildRpcMap(h,n.projectId),Ie=n?.qrModalOptions||void 0;return{chains:a?.map(ke=>this.formatChainId(ke)),optionalChains:u.map(ke=>this.formatChainId(ke)),methods:S,events:D,optionalMethods:$,optionalEvents:W,rpcMap:le,showQrModal:!(null==n||!n.showQrModal),qrModalOptions:Ie,projectId:n.projectId,metadata:n.metadata}}buildRpcMap(n,r){const o={};return n.forEach(a=>{o[a]=this.getRpcUrl(a,r)}),o}initialize(n){var r=this;return(0,v.Z)(function*(){if(r.rpc=r.getRpcConfig(n),r.chainId=Rs(r.rpc.chains.length?r.rpc.chains:r.rpc.optionalChains),r.signer=yield Dd.init({projectId:r.rpc.projectId,metadata:r.rpc.metadata,disableProviderPing:n.disableProviderPing,relayUrl:n.relayUrl,storageOptions:n.storageOptions}),r.registerEventListeners(),yield r.loadPersistedSession(),r.rpc.showQrModal){let o;try{const{WalletConnectModal:a}=yield K.e(283).then(K.bind(K,1283));o=a}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(o)try{r.modal=new o(Ui({walletConnectVersion:2,projectId:r.rpc.projectId,standaloneChains:r.rpc.chains},r.rpc.qrModalOptions))}catch(a){throw r.signer.logger.error(a),new Error("Could not generate WalletConnectModal Instance")}}})()}loadConnectOpts(n){if(!n)return;const{chains:r,optionalChains:o,rpcMap:a}=n;r&&(0,x.qt)(r)&&(this.rpc.chains=r.map(u=>this.formatChainId(u)),r.forEach(u=>{this.rpc.rpcMap[u]=a?.[u]||this.getRpcUrl(u)})),o&&(0,x.qt)(o)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=o?.map(u=>this.formatChainId(u)),o.forEach(u=>{this.rpc.rpcMap[u]=a?.[u]||this.getRpcUrl(u)}))}getRpcUrl(n,r){var o;return(null==(o=this.rpc.rpcMap)?void 0:o[n])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${n}&projectId=${r||this.rpc.projectId}`}loadPersistedSession(){var n=this;return(0,v.Z)(function*(){if(!n.session)return;const r=yield n.signer.client.core.storage.getItem(`${n.STORAGE_KEY}/chainId`),o=n.session.namespaces[`${n.namespace}:${r}`]?n.session.namespaces[`${n.namespace}:${r}`]:n.session.namespaces[n.namespace];n.setChainIds(r?[n.formatChainId(r)]:o?.accounts),n.setAccounts(o?.accounts)})()}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(n){return"string"==typeof n||n instanceof String?[this.parseAccount(n)]:n.map(r=>this.parseAccount(r))}}const Hd=Ts},232:(De,Z,K)=>{"use strict";K.d(Z,{q:()=>v});class v{}},1252:(De,Z,K)=>{"use strict";K.r(Z),K.d(Z,{IEvents:()=>v.q});var v=K(232)},3510:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.HEARTBEAT_EVENTS=Z.HEARTBEAT_INTERVAL=void 0;const v=K(3961);Z.HEARTBEAT_INTERVAL=v.FIVE_SECONDS,Z.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},6844:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),K(9653).__exportStar(K(3510),Z)},2271:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.HeartBeat=void 0;const v=K(9653),se=K(9069),ve=K(3961),x=K(6925),ne=K(6844);class Ce extends x.IHeartBeat{constructor(ee){super(ee),this.events=new se.EventEmitter,this.interval=ne.HEARTBEAT_INTERVAL,this.interval=ee?.interval||ne.HEARTBEAT_INTERVAL}static init(ee){return v.__awaiter(this,void 0,void 0,function*(){const ie=new Ce(ee);return yield ie.init(),ie})}init(){return v.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(ee,ie){this.events.on(ee,ie)}once(ee,ie){this.events.once(ee,ie)}off(ee,ie){this.events.off(ee,ie)}removeListener(ee,ie){this.events.removeListener(ee,ie)}initialize(){return v.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),ve.toMiliseconds(this.interval))})}pulse(){this.events.emit(ne.HEARTBEAT_EVENTS.pulse)}}Z.HeartBeat=Ce},2062:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});const v=K(9653);v.__exportStar(K(2271),Z),v.__exportStar(K(6925),Z),v.__exportStar(K(6844),Z)},8891:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.IHeartBeat=void 0;const v=K(1252);Z.IHeartBeat=class se extends v.IEvents{constructor(x){super()}}},6925:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),K(9653).__exportStar(K(8891),Z)},5504:De=>{"use strict";De.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},9274:(De,Z,K)=>{"use strict";const se=K(2461),ve=K(1404),x=se.__importDefault(K(6474)),ne=K(285);Z.ZP=class Ce{constructor(){this.localStorage=x.default}getKeys(){return se.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return se.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(ne.parseEntry)})}getItem(ee){return se.__awaiter(this,void 0,void 0,function*(){const ie=this.localStorage.getItem(ee);if(null!==ie)return ve.safeJsonParse(ie)})}setItem(ee,ie){return se.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(ee,ve.safeJsonStringify(ie))})}removeItem(ee){return se.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(ee)})}}},6474:De=>{"use strict";!function(){let Z;function K(){}Z=K,Z.prototype.getItem=function(v){return this.hasOwnProperty(v)?String(this[v]):null},Z.prototype.setItem=function(v,se){this[v]=String(se)},Z.prototype.removeItem=function(v){delete this[v]},Z.prototype.clear=function(){const v=this;Object.keys(v).forEach(function(se){v[se]=void 0,delete v[se]})},Z.prototype.key=function(v){return v=v||0,Object.keys(this)[v]},Z.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),De.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new K}()},285:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});const v=K(2461);v.__exportStar(K(4110),Z),v.__exportStar(K(1474),Z)},4110:(De,Z)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.IKeyValueStorage=void 0,Z.IKeyValueStorage=class K{}},1474:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.parseEntry=void 0;const v=K(1404);Z.parseEntry=function se(ve){var x;return[ve[0],v.safeJsonParse(null!==(x=ve[1])&&void 0!==x?x:"")]}},6552:(De,Z)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.PINO_CUSTOM_CONTEXT_KEY=Z.PINO_LOGGER_DEFAULTS=void 0,Z.PINO_LOGGER_DEFAULTS={level:"info"},Z.PINO_CUSTOM_CONTEXT_KEY="custom_context"},8767:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.pino=void 0;const v=K(7121),se=v.__importDefault(K(8544));Object.defineProperty(Z,"pino",{enumerable:!0,get:function(){return se.default}}),v.__exportStar(K(6552),Z),v.__exportStar(K(6873),Z)},6873:(De,Z,K)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.generateChildLogger=Z.formatChildLoggerContext=Z.getLoggerContext=Z.setBrowserLoggerContext=Z.getBrowserLoggerContext=Z.getDefaultLoggerOptions=void 0;const v=K(6552);function ve(ee,ie=v.PINO_CUSTOM_CONTEXT_KEY){return ee[ie]||""}function x(ee,ie,ce=v.PINO_CUSTOM_CONTEXT_KEY){return ee[ce]=ie,ee}function ne(ee,ie=v.PINO_CUSTOM_CONTEXT_KEY){let ce="";return ce=typeof ee.bindings>"u"?ve(ee,ie):ee.bindings().context||"",ce}function Ce(ee,ie,ce=v.PINO_CUSTOM_CONTEXT_KEY){const Pe=ne(ee,ce);return Pe.trim()?`${Pe}/${ie}`:ie}Z.getDefaultLoggerOptions=function se(ee){return Object.assign(Object.assign({},ee),{level:ee?.level||v.PINO_LOGGER_DEFAULTS.level})},Z.getBrowserLoggerContext=ve,Z.setBrowserLoggerContext=x,Z.getLoggerContext=ne,Z.formatChildLoggerContext=Ce,Z.generateChildLogger=function ae(ee,ie,ce=v.PINO_CUSTOM_CONTEXT_KEY){const Pe=Ce(ee,ie,ce);return x(ee.child({context:Pe}),Pe,ce)}},2088:()=>{},8222:(De,Z,K)=>{De=K.nmd(De);var se="__lodash_hash_undefined__",ve=1,x=2,ne=9007199254740991,Ce="[object Arguments]",ae="[object Array]",ee="[object AsyncFunction]",ie="[object Boolean]",ce="[object Date]",Pe="[object Error]",ge="[object Function]",Ke="[object GeneratorFunction]",ue="[object Map]",Ge="[object Number]",je="[object Null]",Ve="[object Object]",Ye="[object Promise]",Et="[object Proxy]",Tt="[object RegExp]",bt="[object Set]",qe="[object String]",oe="[object Undefined]",p="[object WeakMap]",m="[object ArrayBuffer]",_="[object DataView]",me=/^\[object .+?Constructor\]$/,Fe=/^(?:0|[1-9]\d*)$/,Oe={};Oe["[object Float32Array]"]=Oe["[object Float64Array]"]=Oe["[object Int8Array]"]=Oe["[object Int16Array]"]=Oe["[object Int32Array]"]=Oe["[object Uint8Array]"]=Oe["[object Uint8ClampedArray]"]=Oe["[object Uint16Array]"]=Oe["[object Uint32Array]"]=!0,Oe[Ce]=Oe[ae]=Oe[m]=Oe[ie]=Oe[_]=Oe[ce]=Oe[Pe]=Oe[ge]=Oe[ue]=Oe[Ge]=Oe[Ve]=Oe[Tt]=Oe[bt]=Oe[qe]=Oe[p]=!1;var Xr="object"==typeof global&&global&&global.Object===Object&&global,Qr="object"==typeof self&&self&&self.Object===Object&&self,lt=Xr||Qr||Function("return this")(),V=Z&&!Z.nodeType&&Z,B=V&&De&&!De.nodeType&&De,M=B&&B.exports===V,f=M&&Xr.process,T=function(){try{return f&&f.binding&&f.binding("util")}catch{}}(),_e=T&&T.isTypedArray;function ot(P,N){for(var Q=-1,he=null==P?0:P.length;++Q<he;)if(N(P[Q],Q,P))return!0;return!1}function qt(P,N){return P.has(N)}function sr(P){var N=-1,Q=Array(P.size);return P.forEach(function(he,at){Q[++N]=[at,he]}),Q}function Vt(P){var N=-1,Q=Array(P.size);return P.forEach(function(he){Q[++N]=he}),Q}var P,It=Array.prototype,tt=Object.prototype,ft=lt["__core-js_shared__"],it=Function.prototype.toString,st=tt.hasOwnProperty,Bt=(P=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",Yt=tt.toString,lr=RegExp("^"+it.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fr=M?lt.Buffer:void 0,or=lt.Symbol,gr=lt.Uint8Array,yr=tt.propertyIsEnumerable,Ur=It.splice,_r=or?or.toStringTag:void 0,br=Object.getOwnPropertySymbols,fn=fr?fr.isBuffer:void 0,Jn=function Ht(P,N){return function(Q){return P(N(Q))}}(Object.keys,Object),hn=rn(lt,"DataView"),pn=rn(lt,"Map"),Pt=rn(lt,"Promise"),Ot=rn(lt,"Set"),Ft=rn(lt,"WeakMap"),gt=rn(Object,"create"),kt=In(hn),Xt=In(pn),Lt=In(Pt),Dt=In(Ot),At=In(Ft),Ct=or?or.prototype:void 0,yt=Ct?Ct.valueOf:void 0;function ht(P){var N=-1,Q=null==P?0:P.length;for(this.clear();++N<Q;){var he=P[N];this.set(he[0],he[1])}}function en(P){var N=-1,Q=null==P?0:P.length;for(this.clear();++N<Q;){var he=P[N];this.set(he[0],he[1])}}function dn(P){var N=-1,Q=null==P?0:P.length;for(this.clear();++N<Q;){var he=P[N];this.set(he[0],he[1])}}function Dr(P){var N=-1,Q=null==P?0:P.length;for(this.__data__=new dn;++N<Q;)this.add(P[N])}function gn(P){var N=this.__data__=new en(P);this.size=N.size}function li(P,N){for(var Q=P.length;Q--;)if(vs(P[Q][0],N))return Q;return-1}function Wn(P){return null==P?void 0===P?oe:je:_r&&_r in Object(P)?function Yn(P){var N=st.call(P,_r),Q=P[_r];try{P[_r]=void 0;var he=!0}catch{}var at=Yt.call(P);return he&&(N?P[_r]=Q:delete P[_r]),at}(P):function qo(P){return Yt.call(P)}(P)}function ds(P){return Xn(P)&&Wn(P)==Ce}function gs(P,N,Q,he,at){return P===N||(null==P||null==N||!Xn(P)&&!Xn(N)?P!=P&&N!=N:function No(P,N,Q,he,at,Re){var wt=hi(P),Wt=hi(N),tr=wt?ae:yn(P),_t=Wt?ae:yn(N),wr=(tr=tr==Ce?Ve:tr)==Ve,Nr=(_t=_t==Ce?Ve:_t)==Ve,ar=tr==_t;if(ar&&ji(P)){if(!ji(N))return!1;wt=!0,wr=!1}if(ar&&!wr)return Re||(Re=new gn),wt||xs(P)?_s(P,N,Q,he,at,Re):function Lo(P,N,Q,he,at,Re,wt){switch(Q){case _:if(P.byteLength!=N.byteLength||P.byteOffset!=N.byteOffset)return!1;P=P.buffer,N=N.buffer;case m:return!(P.byteLength!=N.byteLength||!Re(new gr(P),new gr(N)));case ie:case ce:case Ge:return vs(+P,+N);case Pe:return P.name==N.name&&P.message==N.message;case Tt:case qe:return P==N+"";case ue:var Wt=sr;case bt:if(Wt||(Wt=Vt),P.size!=N.size&&!(he&ve))return!1;var _t=wt.get(P);if(_t)return _t==N;he|=x,wt.set(P,N);var wr=_s(Wt(P),Wt(N),he,at,Re,wt);return wt.delete(P),wr;case"[object Symbol]":if(yt)return yt.call(P)==yt.call(N)}return!1}(P,N,tr,Q,he,at,Re);if(!(Q&ve)){var xr=wr&&st.call(P,"__wrapped__"),Pr=Nr&&st.call(N,"__wrapped__");if(xr||Pr){var _n=xr?P.value():P,nn=Pr?N.value():N;return Re||(Re=new gn),at(_n,nn,Q,he,Re)}}return!!ar&&(Re||(Re=new gn),function Mo(P,N,Q,he,at,Re){var wt=Q&ve,Wt=Ni(P),tr=Wt.length;if(tr!=Ni(N).length&&!wt)return!1;for(var Nr=tr;Nr--;){var ar=Wt[Nr];if(!(wt?ar in N:st.call(N,ar)))return!1}var xr=Re.get(P);if(xr&&Re.get(N))return xr==N;var Pr=!0;Re.set(P,N),Re.set(N,P);for(var _n=wt;++Nr<tr;){var nn=P[ar=Wt[Nr]],Sn=N[ar];if(he)var Es=wt?he(Sn,nn,ar,N,P,Re):he(nn,Sn,ar,P,N,Re);if(!(void 0===Es?nn===Sn||at(nn,Sn,Q,he,Re):Es)){Pr=!1;break}_n||(_n="constructor"==ar)}if(Pr&&!_n){var pi=P.constructor,di=N.constructor;pi!=di&&"constructor"in P&&"constructor"in N&&!("function"==typeof pi&&pi instanceof pi&&"function"==typeof di&&di instanceof di)&&(Pr=!1)}return Re.delete(P),Re.delete(N),Pr}(P,N,Q,he,at,Re))}(P,N,Q,he,gs,at))}function _s(P,N,Q,he,at,Re){var wt=Q&ve,Wt=P.length,tr=N.length;if(Wt!=tr&&!(wt&&tr>Wt))return!1;var _t=Re.get(P);if(_t&&Re.get(N))return _t==N;var wr=-1,Nr=!0,ar=Q&x?new Dr:void 0;for(Re.set(P,N),Re.set(N,P);++wr<Wt;){var xr=P[wr],Pr=N[wr];if(he)var _n=wt?he(Pr,xr,wr,N,P,Re):he(xr,Pr,wr,P,N,Re);if(void 0!==_n){if(_n)continue;Nr=!1;break}if(ar){if(!ot(N,function(nn,Sn){if(!qt(ar,Sn)&&(xr===nn||at(xr,nn,Q,he,Re)))return ar.push(Sn)})){Nr=!1;break}}else if(xr!==Pr&&!at(xr,Pr,Q,he,Re)){Nr=!1;break}}return Re.delete(P),Re.delete(N),Nr}function Ni(P){return function Do(P,N,Q){var he=N(P);return hi(P)?he:function He(P,N){for(var Q=-1,he=N.length,at=P.length;++Q<he;)P[at+Q]=N[Q];return P}(he,Q(P))}(P,ko,Zo)}function fi(P,N){var Q=P.__data__;return function zo(P){var N=typeof P;return"string"==N||"number"==N||"symbol"==N||"boolean"==N?"__proto__"!==P:null===P}(N)?Q["string"==typeof N?"string":"hash"]:Q.map}function rn(P,N){var Q=function ir(P,N){return P?.[N]}(P,N);return function ys(P){return!(!ws(P)||function Uo(P){return!!Bt&&Bt in P}(P))&&(ms(P)?lr:me).test(In(P))}(Q)?Q:void 0}ht.prototype.clear=function Kt(){this.__data__=gt?gt(null):{},this.size=0},ht.prototype.delete=function Qt(P){var N=this.has(P)&&delete this.__data__[P];return this.size-=N?1:0,N},ht.prototype.get=function Gt(P){var N=this.__data__;if(gt){var Q=N[P];return Q===se?void 0:Q}return st.call(N,P)?N[P]:void 0},ht.prototype.has=function Jt(P){var N=this.__data__;return gt?void 0!==N[P]:st.call(N,P)},ht.prototype.set=function Po(P,N){var Q=this.__data__;return this.size+=this.has(P)?0:1,Q[P]=gt&&void 0===N?se:N,this},en.prototype.clear=function Oo(){this.__data__=[],this.size=0},en.prototype.delete=function us(P){var N=this.__data__,Q=li(N,P);return!(Q<0||(Q==N.length-1?N.pop():Ur.call(N,Q,1),--this.size,0))},en.prototype.get=function ls(P){var N=this.__data__,Q=li(N,P);return Q<0?void 0:N[Q][1]},en.prototype.has=function fs(P){return li(this.__data__,P)>-1},en.prototype.set=function Ao(P,N){var Q=this.__data__,he=li(Q,P);return he<0?(++this.size,Q.push([P,N])):Q[he][1]=N,this},dn.prototype.clear=function Di(){this.size=0,this.__data__={hash:new ht,map:new(pn||en),string:new ht}},dn.prototype.delete=function ui(P){var N=fi(this,P).delete(P);return this.size-=N?1:0,N},dn.prototype.get=function tn(P){return fi(this,P).get(P)},dn.prototype.has=function Tr(P){return fi(this,P).has(P)},dn.prototype.set=function jc(P,N){var Q=fi(this,P),he=Q.size;return Q.set(P,N),this.size+=Q.size==he?0:1,this},Dr.prototype.add=Dr.prototype.push=function Fc(P){return this.__data__.set(P,se),this},Dr.prototype.has=function Lc(P){return this.__data__.has(P)},gn.prototype.clear=function Co(){this.__data__=new en,this.size=0},gn.prototype.delete=function hs(P){var N=this.__data__,Q=N.delete(P);return this.size=N.size,Q},gn.prototype.get=function ps(P){return this.__data__.get(P)},gn.prototype.has=function Ro(P){return this.__data__.has(P)},gn.prototype.set=function To(P,N){var Q=this.__data__;if(Q instanceof en){var he=Q.__data__;if(!pn||he.length<199)return he.push([P,N]),this.size=++Q.size,this;Q=this.__data__=new dn(he)}return Q.set(P,N),this.size=Q.size,this};var Zo=br?function(P){return null==P?[]:(P=Object(P),function Se(P,N){for(var Q=-1,he=null==P?0:P.length,at=0,Re=[];++Q<he;){var wt=P[Q];N(wt,Q,P)&&(Re[at++]=wt)}return Re}(br(P),function(N){return yr.call(P,N)}))}:function Ko(){return[]},yn=Wn;function er(P,N){return!!(N=N??ne)&&("number"==typeof P||Fe.test(P))&&P>-1&&P%1==0&&P<N}function In(P){if(null!=P){try{return it.call(P)}catch{}try{return P+""}catch{}}return""}function vs(P,N){return P===N||P!=P&&N!=N}(hn&&yn(new hn(new ArrayBuffer(1)))!=_||pn&&yn(new pn)!=ue||Pt&&yn(Pt.resolve())!=Ye||Ot&&yn(new Ot)!=bt||Ft&&yn(new Ft)!=p)&&(yn=function(P){var N=Wn(P),Q=N==Ve?P.constructor:void 0,he=Q?In(Q):"";if(he)switch(he){case kt:return _;case Xt:return ue;case Lt:return Ye;case Dt:return bt;case At:return p}return N});var Ho=ds(function(){return arguments}())?ds:function(P){return Xn(P)&&st.call(P,"callee")&&!yr.call(P,"callee")},hi=Array.isArray,ji=fn||function Go(){return!1};function ms(P){if(!ws(P))return!1;var N=Wn(P);return N==ge||N==Ke||N==ee||N==Et}function bs(P){return"number"==typeof P&&P>-1&&P%1==0&&P<=ne}function ws(P){var N=typeof P;return null!=P&&("object"==N||"function"==N)}function Xn(P){return null!=P&&"object"==typeof P}var xs=_e?function nt(P){return function(N){return P(N)}}(_e):function jo(P){return Xn(P)&&bs(P.length)&&!!Oe[Wn(P)]};function ko(P){return function Vo(P){return null!=P&&bs(P.length)&&!ms(P)}(P)?function Mc(P,N){var Q=hi(P),he=!Q&&Ho(P),at=!Q&&!he&&ji(P),Re=!Q&&!he&&!at&&xs(P),wt=Q||he||at||Re,Wt=wt?function Xe(P,N){for(var Q=-1,he=Array(P);++Q<P;)he[Q]=N(Q);return he}(P.length,String):[],tr=Wt.length;for(var _t in P)(N||st.call(P,_t))&&(!wt||!("length"==_t||at&&("offset"==_t||"parent"==_t)||Re&&("buffer"==_t||"byteLength"==_t||"byteOffset"==_t)||er(_t,tr)))&&Wt.push(_t);return Wt}(P):function Fo(P){if(!function $o(P){var N=P&&P.constructor;return P===("function"==typeof N&&N.prototype||tt)}(P))return Jn(P);var N=[];for(var Q in Object(P))st.call(P,Q)&&"constructor"!=Q&&N.push(Q);return N}(P)}De.exports=function Bo(P,N){return gs(P,N)}},8958:De=>{"use strict";function Z(v){try{return JSON.stringify(v)}catch{return'"[Circular]"'}}De.exports=function K(v,se,ve){var x=ve&&ve.stringify||Z;if("object"==typeof v&&null!==v){var Ce=se.length+1;if(1===Ce)return v;var ae=new Array(Ce);ae[0]=x(v);for(var ee=1;ee<Ce;ee++)ae[ee]=x(se[ee]);return ae.join(" ")}if("string"!=typeof v)return v;var ie=se.length;if(0===ie)return v;for(var ce="",Pe=0,ge=-1,Ke=v&&v.length||0,ue=0;ue<Ke;){if(37===v.charCodeAt(ue)&&ue+1<Ke){switch(ge=ge>-1?ge:0,v.charCodeAt(ue+1)){case 100:case 102:if(Pe>=ie||null==se[Pe])break;ge<ue&&(ce+=v.slice(ge,ue)),ce+=Number(se[Pe]),ge=ue+2,ue++;break;case 105:if(Pe>=ie||null==se[Pe])break;ge<ue&&(ce+=v.slice(ge,ue)),ce+=Math.floor(Number(se[Pe])),ge=ue+2,ue++;break;case 79:case 111:case 106:if(Pe>=ie||void 0===se[Pe])break;ge<ue&&(ce+=v.slice(ge,ue));var Ge=typeof se[Pe];if("string"===Ge){ce+="'"+se[Pe]+"'",ge=ue+2,ue++;break}if("function"===Ge){ce+=se[Pe].name||"<anonymous>",ge=ue+2,ue++;break}ce+=x(se[Pe]),ge=ue+2,ue++;break;case 115:if(Pe>=ie)break;ge<ue&&(ce+=v.slice(ge,ue)),ce+=String(se[Pe]),ge=ue+2,ue++;break;case 37:ge<ue&&(ce+=v.slice(ge,ue)),ce+="%",ge=ue+2,ue++,Pe--}++Pe}++ue}return-1===ge?v:(ge<Ke&&(ce+=v.slice(ge)),ce)}},1404:(De,Z)=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0}),Z.safeJsonParse=function K(se){if("string"!=typeof se)throw new Error("Cannot safe json parse value of type "+typeof se);try{return JSON.parse(se)}catch{return se}},Z.safeJsonStringify=function v(se){return"string"==typeof se?se:JSON.stringify(se,(ve,x)=>typeof x>"u"?null:x)}},4308:(De,Z,K)=>{"use strict";K.r(Z),K.d(Z,{__assign:()=>ve,__asyncDelegator:()=>Ye,__asyncGenerator:()=>Ve,__asyncValues:()=>Et,__await:()=>je,__awaiter:()=>ee,__classPrivateFieldGet:()=>X,__classPrivateFieldSet:()=>oe,__createBinding:()=>ce,__decorate:()=>ne,__exportStar:()=>Pe,__extends:()=>se,__generator:()=>ie,__importDefault:()=>qe,__importStar:()=>bt,__makeTemplateObject:()=>Tt,__metadata:()=>ae,__param:()=>Ce,__read:()=>Ke,__rest:()=>x,__spread:()=>ue,__spreadArrays:()=>Ge,__values:()=>ge});var v=function(p,m){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,I){_.__proto__=I}||function(_,I){for(var O in I)I.hasOwnProperty(O)&&(_[O]=I[O])})(p,m)};function se(p,m){function _(){this.constructor=p}v(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var ve=function(){return ve=Object.assign||function(m){for(var _,I=1,O=arguments.length;I<O;I++)for(var g in _=arguments[I])Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g]);return m},ve.apply(this,arguments)};function x(p,m){var _={};for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&m.indexOf(I)<0&&(_[I]=p[I]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var O=0;for(I=Object.getOwnPropertySymbols(p);O<I.length;O++)m.indexOf(I[O])<0&&Object.prototype.propertyIsEnumerable.call(p,I[O])&&(_[I[O]]=p[I[O]])}return _}function ne(p,m,_,I){var E,O=arguments.length,g=O<3?m:null===I?I=Object.getOwnPropertyDescriptor(m,_):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(p,m,_,I);else for(var F=p.length-1;F>=0;F--)(E=p[F])&&(g=(O<3?E(g):O>3?E(m,_,g):E(m,_))||g);return O>3&&g&&Object.defineProperty(m,_,g),g}function Ce(p,m){return function(_,I){m(_,I,p)}}function ae(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function ee(p,m,_,I){return new(_||(_=Promise))(function(g,E){function F(H){try{C(I.next(H))}catch(te){E(te)}}function de(H){try{C(I.throw(H))}catch(te){E(te)}}function C(H){H.done?g(H.value):function O(g){return g instanceof _?g:new _(function(E){E(g)})}(H.value).then(F,de)}C((I=I.apply(p,m||[])).next())})}function ie(p,m){var I,O,g,E,_={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return E={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function F(C){return function(H){return function de(C){if(I)throw new TypeError("Generator is already executing.");for(;_;)try{if(I=1,O&&(g=2&C[0]?O.return:C[0]?O.throw||((g=O.return)&&g.call(O),0):O.next)&&!(g=g.call(O,C[1])).done)return g;switch(O=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,O=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(g=(g=_.trys).length>0&&g[g.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!g||C[1]>g[0]&&C[1]<g[3])){_.label=C[1];break}if(6===C[0]&&_.label<g[1]){_.label=g[1],g=C;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(C);break}g[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(p,_)}catch(H){C=[6,H],O=0}finally{I=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,H])}}}function ce(p,m,_,I){void 0===I&&(I=_),p[I]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function ge(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],I=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&I>=p.length&&(p=void 0),{value:p&&p[I++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var O,E,I=_.call(p),g=[];try{for(;(void 0===m||m-- >0)&&!(O=I.next()).done;)g.push(O.value)}catch(F){E={error:F}}finally{try{O&&!O.done&&(_=I.return)&&_.call(I)}finally{if(E)throw E.error}}return g}function ue(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ke(arguments[m]));return p}function Ge(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var I=Array(p),O=0;for(m=0;m<_;m++)for(var g=arguments[m],E=0,F=g.length;E<F;E++,O++)I[O]=g[E];return I}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function Ve(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,I=_.apply(p,m||[]),g=[];return O={},E("next"),E("throw"),E("return"),O[Symbol.asyncIterator]=function(){return this},O;function E(z){I[z]&&(O[z]=function(me){return new Promise(function(Fe,Oe){g.push([z,me,Fe,Oe])>1||F(z,me)})})}function F(z,me){try{!function de(z){z.value instanceof je?Promise.resolve(z.value.v).then(C,H):te(g[0][2],z)}(I[z](me))}catch(Fe){te(g[0][3],Fe)}}function C(z){F("next",z)}function H(z){F("throw",z)}function te(z,me){z(me),g.shift(),g.length&&F(g[0][0],g[0][1])}}function Ye(p){var m,_;return m={},I("next"),I("throw",function(O){throw O}),I("return"),m[Symbol.iterator]=function(){return this},m;function I(O,g){m[O]=p[O]?function(E){return(_=!_)?{value:je(p[O](E)),done:"return"===O}:g?g(E):E}:g}}function Et(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=ge(p),_={},I("next"),I("throw"),I("return"),_[Symbol.asyncIterator]=function(){return this},_);function I(g){_[g]=p[g]&&function(E){return new Promise(function(F,de){!function O(g,E,F,de){Promise.resolve(de).then(function(C){g({value:C,done:F})},E)}(F,de,(E=p[g](E)).done,E.value)})}}}function Tt(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function bt(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function qe(p){return p&&p.__esModule?p:{default:p}}function X(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function oe(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},9653:(De,Z,K)=>{"use strict";K.r(Z),K.d(Z,{__assign:()=>ve,__asyncDelegator:()=>Ye,__asyncGenerator:()=>Ve,__asyncValues:()=>Et,__await:()=>je,__awaiter:()=>ee,__classPrivateFieldGet:()=>X,__classPrivateFieldSet:()=>oe,__createBinding:()=>ce,__decorate:()=>ne,__exportStar:()=>Pe,__extends:()=>se,__generator:()=>ie,__importDefault:()=>qe,__importStar:()=>bt,__makeTemplateObject:()=>Tt,__metadata:()=>ae,__param:()=>Ce,__read:()=>Ke,__rest:()=>x,__spread:()=>ue,__spreadArrays:()=>Ge,__values:()=>ge});var v=function(p,m){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,I){_.__proto__=I}||function(_,I){for(var O in I)I.hasOwnProperty(O)&&(_[O]=I[O])})(p,m)};function se(p,m){function _(){this.constructor=p}v(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var ve=function(){return ve=Object.assign||function(m){for(var _,I=1,O=arguments.length;I<O;I++)for(var g in _=arguments[I])Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g]);return m},ve.apply(this,arguments)};function x(p,m){var _={};for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&m.indexOf(I)<0&&(_[I]=p[I]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var O=0;for(I=Object.getOwnPropertySymbols(p);O<I.length;O++)m.indexOf(I[O])<0&&Object.prototype.propertyIsEnumerable.call(p,I[O])&&(_[I[O]]=p[I[O]])}return _}function ne(p,m,_,I){var E,O=arguments.length,g=O<3?m:null===I?I=Object.getOwnPropertyDescriptor(m,_):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(p,m,_,I);else for(var F=p.length-1;F>=0;F--)(E=p[F])&&(g=(O<3?E(g):O>3?E(m,_,g):E(m,_))||g);return O>3&&g&&Object.defineProperty(m,_,g),g}function Ce(p,m){return function(_,I){m(_,I,p)}}function ae(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function ee(p,m,_,I){return new(_||(_=Promise))(function(g,E){function F(H){try{C(I.next(H))}catch(te){E(te)}}function de(H){try{C(I.throw(H))}catch(te){E(te)}}function C(H){H.done?g(H.value):function O(g){return g instanceof _?g:new _(function(E){E(g)})}(H.value).then(F,de)}C((I=I.apply(p,m||[])).next())})}function ie(p,m){var I,O,g,E,_={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return E={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function F(C){return function(H){return function de(C){if(I)throw new TypeError("Generator is already executing.");for(;_;)try{if(I=1,O&&(g=2&C[0]?O.return:C[0]?O.throw||((g=O.return)&&g.call(O),0):O.next)&&!(g=g.call(O,C[1])).done)return g;switch(O=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,O=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(g=(g=_.trys).length>0&&g[g.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!g||C[1]>g[0]&&C[1]<g[3])){_.label=C[1];break}if(6===C[0]&&_.label<g[1]){_.label=g[1],g=C;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(C);break}g[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(p,_)}catch(H){C=[6,H],O=0}finally{I=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,H])}}}function ce(p,m,_,I){void 0===I&&(I=_),p[I]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function ge(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],I=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&I>=p.length&&(p=void 0),{value:p&&p[I++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var O,E,I=_.call(p),g=[];try{for(;(void 0===m||m-- >0)&&!(O=I.next()).done;)g.push(O.value)}catch(F){E={error:F}}finally{try{O&&!O.done&&(_=I.return)&&_.call(I)}finally{if(E)throw E.error}}return g}function ue(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ke(arguments[m]));return p}function Ge(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var I=Array(p),O=0;for(m=0;m<_;m++)for(var g=arguments[m],E=0,F=g.length;E<F;E++,O++)I[O]=g[E];return I}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function Ve(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,I=_.apply(p,m||[]),g=[];return O={},E("next"),E("throw"),E("return"),O[Symbol.asyncIterator]=function(){return this},O;function E(z){I[z]&&(O[z]=function(me){return new Promise(function(Fe,Oe){g.push([z,me,Fe,Oe])>1||F(z,me)})})}function F(z,me){try{!function de(z){z.value instanceof je?Promise.resolve(z.value.v).then(C,H):te(g[0][2],z)}(I[z](me))}catch(Fe){te(g[0][3],Fe)}}function C(z){F("next",z)}function H(z){F("throw",z)}function te(z,me){z(me),g.shift(),g.length&&F(g[0][0],g[0][1])}}function Ye(p){var m,_;return m={},I("next"),I("throw",function(O){throw O}),I("return"),m[Symbol.iterator]=function(){return this},m;function I(O,g){m[O]=p[O]?function(E){return(_=!_)?{value:je(p[O](E)),done:"return"===O}:g?g(E):E}:g}}function Et(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=ge(p),_={},I("next"),I("throw"),I("return"),_[Symbol.asyncIterator]=function(){return this},_);function I(g){_[g]=p[g]&&function(E){return new Promise(function(F,de){!function O(g,E,F,de){Promise.resolve(de).then(function(C){g({value:C,done:F})},E)}(F,de,(E=p[g](E)).done,E.value)})}}}function Tt(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function bt(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function qe(p){return p&&p.__esModule?p:{default:p}}function X(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function oe(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},2461:(De,Z,K)=>{"use strict";K.r(Z),K.d(Z,{__assign:()=>ve,__asyncDelegator:()=>Ye,__asyncGenerator:()=>Ve,__asyncValues:()=>Et,__await:()=>je,__awaiter:()=>ee,__classPrivateFieldGet:()=>X,__classPrivateFieldSet:()=>oe,__createBinding:()=>ce,__decorate:()=>ne,__exportStar:()=>Pe,__extends:()=>se,__generator:()=>ie,__importDefault:()=>qe,__importStar:()=>bt,__makeTemplateObject:()=>Tt,__metadata:()=>ae,__param:()=>Ce,__read:()=>Ke,__rest:()=>x,__spread:()=>ue,__spreadArrays:()=>Ge,__values:()=>ge});var v=function(p,m){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,I){_.__proto__=I}||function(_,I){for(var O in I)I.hasOwnProperty(O)&&(_[O]=I[O])})(p,m)};function se(p,m){function _(){this.constructor=p}v(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var ve=function(){return ve=Object.assign||function(m){for(var _,I=1,O=arguments.length;I<O;I++)for(var g in _=arguments[I])Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g]);return m},ve.apply(this,arguments)};function x(p,m){var _={};for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&m.indexOf(I)<0&&(_[I]=p[I]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var O=0;for(I=Object.getOwnPropertySymbols(p);O<I.length;O++)m.indexOf(I[O])<0&&Object.prototype.propertyIsEnumerable.call(p,I[O])&&(_[I[O]]=p[I[O]])}return _}function ne(p,m,_,I){var E,O=arguments.length,g=O<3?m:null===I?I=Object.getOwnPropertyDescriptor(m,_):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(p,m,_,I);else for(var F=p.length-1;F>=0;F--)(E=p[F])&&(g=(O<3?E(g):O>3?E(m,_,g):E(m,_))||g);return O>3&&g&&Object.defineProperty(m,_,g),g}function Ce(p,m){return function(_,I){m(_,I,p)}}function ae(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function ee(p,m,_,I){return new(_||(_=Promise))(function(g,E){function F(H){try{C(I.next(H))}catch(te){E(te)}}function de(H){try{C(I.throw(H))}catch(te){E(te)}}function C(H){H.done?g(H.value):function O(g){return g instanceof _?g:new _(function(E){E(g)})}(H.value).then(F,de)}C((I=I.apply(p,m||[])).next())})}function ie(p,m){var I,O,g,E,_={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return E={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function F(C){return function(H){return function de(C){if(I)throw new TypeError("Generator is already executing.");for(;_;)try{if(I=1,O&&(g=2&C[0]?O.return:C[0]?O.throw||((g=O.return)&&g.call(O),0):O.next)&&!(g=g.call(O,C[1])).done)return g;switch(O=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,O=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(g=(g=_.trys).length>0&&g[g.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!g||C[1]>g[0]&&C[1]<g[3])){_.label=C[1];break}if(6===C[0]&&_.label<g[1]){_.label=g[1],g=C;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(C);break}g[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(p,_)}catch(H){C=[6,H],O=0}finally{I=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,H])}}}function ce(p,m,_,I){void 0===I&&(I=_),p[I]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function ge(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],I=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&I>=p.length&&(p=void 0),{value:p&&p[I++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var O,E,I=_.call(p),g=[];try{for(;(void 0===m||m-- >0)&&!(O=I.next()).done;)g.push(O.value)}catch(F){E={error:F}}finally{try{O&&!O.done&&(_=I.return)&&_.call(I)}finally{if(E)throw E.error}}return g}function ue(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ke(arguments[m]));return p}function Ge(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var I=Array(p),O=0;for(m=0;m<_;m++)for(var g=arguments[m],E=0,F=g.length;E<F;E++,O++)I[O]=g[E];return I}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function Ve(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,I=_.apply(p,m||[]),g=[];return O={},E("next"),E("throw"),E("return"),O[Symbol.asyncIterator]=function(){return this},O;function E(z){I[z]&&(O[z]=function(me){return new Promise(function(Fe,Oe){g.push([z,me,Fe,Oe])>1||F(z,me)})})}function F(z,me){try{!function de(z){z.value instanceof je?Promise.resolve(z.value.v).then(C,H):te(g[0][2],z)}(I[z](me))}catch(Fe){te(g[0][3],Fe)}}function C(z){F("next",z)}function H(z){F("throw",z)}function te(z,me){z(me),g.shift(),g.length&&F(g[0][0],g[0][1])}}function Ye(p){var m,_;return m={},I("next"),I("throw",function(O){throw O}),I("return"),m[Symbol.iterator]=function(){return this},m;function I(O,g){m[O]=p[O]?function(E){return(_=!_)?{value:je(p[O](E)),done:"return"===O}:g?g(E):E}:g}}function Et(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=ge(p),_={},I("next"),I("throw"),I("return"),_[Symbol.asyncIterator]=function(){return this},_);function I(g){_[g]=p[g]&&function(E){return new Promise(function(F,de){!function O(g,E,F,de){Promise.resolve(de).then(function(C){g({value:C,done:F})},E)}(F,de,(E=p[g](E)).done,E.value)})}}}function Tt(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function bt(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function qe(p){return p&&p.__esModule?p:{default:p}}function X(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function oe(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},7121:(De,Z,K)=>{"use strict";K.r(Z),K.d(Z,{__assign:()=>ve,__asyncDelegator:()=>Ye,__asyncGenerator:()=>Ve,__asyncValues:()=>Et,__await:()=>je,__awaiter:()=>ee,__classPrivateFieldGet:()=>X,__classPrivateFieldSet:()=>oe,__createBinding:()=>ce,__decorate:()=>ne,__exportStar:()=>Pe,__extends:()=>se,__generator:()=>ie,__importDefault:()=>qe,__importStar:()=>bt,__makeTemplateObject:()=>Tt,__metadata:()=>ae,__param:()=>Ce,__read:()=>Ke,__rest:()=>x,__spread:()=>ue,__spreadArrays:()=>Ge,__values:()=>ge});var v=function(p,m){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,I){_.__proto__=I}||function(_,I){for(var O in I)I.hasOwnProperty(O)&&(_[O]=I[O])})(p,m)};function se(p,m){function _(){this.constructor=p}v(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var ve=function(){return ve=Object.assign||function(m){for(var _,I=1,O=arguments.length;I<O;I++)for(var g in _=arguments[I])Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g]);return m},ve.apply(this,arguments)};function x(p,m){var _={};for(var I in p)Object.prototype.hasOwnProperty.call(p,I)&&m.indexOf(I)<0&&(_[I]=p[I]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var O=0;for(I=Object.getOwnPropertySymbols(p);O<I.length;O++)m.indexOf(I[O])<0&&Object.prototype.propertyIsEnumerable.call(p,I[O])&&(_[I[O]]=p[I[O]])}return _}function ne(p,m,_,I){var E,O=arguments.length,g=O<3?m:null===I?I=Object.getOwnPropertyDescriptor(m,_):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(p,m,_,I);else for(var F=p.length-1;F>=0;F--)(E=p[F])&&(g=(O<3?E(g):O>3?E(m,_,g):E(m,_))||g);return O>3&&g&&Object.defineProperty(m,_,g),g}function Ce(p,m){return function(_,I){m(_,I,p)}}function ae(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function ee(p,m,_,I){return new(_||(_=Promise))(function(g,E){function F(H){try{C(I.next(H))}catch(te){E(te)}}function de(H){try{C(I.throw(H))}catch(te){E(te)}}function C(H){H.done?g(H.value):function O(g){return g instanceof _?g:new _(function(E){E(g)})}(H.value).then(F,de)}C((I=I.apply(p,m||[])).next())})}function ie(p,m){var I,O,g,E,_={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return E={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function F(C){return function(H){return function de(C){if(I)throw new TypeError("Generator is already executing.");for(;_;)try{if(I=1,O&&(g=2&C[0]?O.return:C[0]?O.throw||((g=O.return)&&g.call(O),0):O.next)&&!(g=g.call(O,C[1])).done)return g;switch(O=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,O=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(g=(g=_.trys).length>0&&g[g.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!g||C[1]>g[0]&&C[1]<g[3])){_.label=C[1];break}if(6===C[0]&&_.label<g[1]){_.label=g[1],g=C;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(C);break}g[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(p,_)}catch(H){C=[6,H],O=0}finally{I=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,H])}}}function ce(p,m,_,I){void 0===I&&(I=_),p[I]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function ge(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],I=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&I>=p.length&&(p=void 0),{value:p&&p[I++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var O,E,I=_.call(p),g=[];try{for(;(void 0===m||m-- >0)&&!(O=I.next()).done;)g.push(O.value)}catch(F){E={error:F}}finally{try{O&&!O.done&&(_=I.return)&&_.call(I)}finally{if(E)throw E.error}}return g}function ue(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ke(arguments[m]));return p}function Ge(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var I=Array(p),O=0;for(m=0;m<_;m++)for(var g=arguments[m],E=0,F=g.length;E<F;E++,O++)I[O]=g[E];return I}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function Ve(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,I=_.apply(p,m||[]),g=[];return O={},E("next"),E("throw"),E("return"),O[Symbol.asyncIterator]=function(){return this},O;function E(z){I[z]&&(O[z]=function(me){return new Promise(function(Fe,Oe){g.push([z,me,Fe,Oe])>1||F(z,me)})})}function F(z,me){try{!function de(z){z.value instanceof je?Promise.resolve(z.value.v).then(C,H):te(g[0][2],z)}(I[z](me))}catch(Fe){te(g[0][3],Fe)}}function C(z){F("next",z)}function H(z){F("throw",z)}function te(z,me){z(me),g.shift(),g.length&&F(g[0][0],g[0][1])}}function Ye(p){var m,_;return m={},I("next"),I("throw",function(O){throw O}),I("return"),m[Symbol.iterator]=function(){return this},m;function I(O,g){m[O]=p[O]?function(E){return(_=!_)?{value:je(p[O](E)),done:"return"===O}:g?g(E):E}:g}}function Et(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=ge(p),_={},I("next"),I("throw"),I("return"),_[Symbol.asyncIterator]=function(){return this},_);function I(g){_[g]=p[g]&&function(E){return new Promise(function(F,de){!function O(g,E,F,de){Promise.resolve(de).then(function(C){g({value:C,done:F})},E)}(F,de,(E=p[g](E)).done,E.value)})}}}function Tt(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function bt(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function qe(p){return p&&p.__esModule?p:{default:p}}function X(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function oe(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},8544:(De,Z,K)=>{"use strict";const v=K(8958);De.exports=ne;const se=function qe(){function X(oe){return typeof oe<"u"&&oe}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return X(self)||X(window)||X(this)||{}}}().console||{},ve={mapHttpRequest:Ge,mapHttpResponse:Ge,wrapRequestSerializer:je,wrapResponseSerializer:je,wrapErrorSerializer:je,req:Ge,res:Ge,err:function Ke(X){const oe={type:X.constructor.name,msg:X.message,stack:X.stack};for(const p in X)void 0===oe[p]&&(oe[p]=X[p]);return oe}};function ne(X){(X=X||{}).browser=X.browser||{};const oe=X.browser.transmit;if(oe&&"function"!=typeof oe.send)throw Error("pino: transmit option must have a send function");const p=X.browser.write||se;X.browser.write&&(X.browser.asObject=!0);const m=X.serializers||{},_=function x(X,oe){return Array.isArray(X)?X.filter(function(m){return"!stdSerializers.err"!==m}):!0===X&&Object.keys(oe)}(X.browser.serialize,m);let I=X.browser.serialize;Array.isArray(X.browser.serialize)&&X.browser.serialize.indexOf("!stdSerializers.err")>-1&&(I=!1),"function"==typeof p&&(p.error=p.fatal=p.warn=p.info=p.debug=p.trace=p),!1===X.enabled&&(X.level="silent");const g=X.level||"info",E=Object.create(p);E.log||(E.log=Ve),Object.defineProperty(E,"levelVal",{get:function de(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(E,"level",{get:function C(){return this._level},set:function H(z){if("silent"!==z&&!this.levels.values[z])throw Error("unknown level "+z);this._level=z,Ce(F,E,"error","log"),Ce(F,E,"fatal","error"),Ce(F,E,"warn","error"),Ce(F,E,"info","log"),Ce(F,E,"debug","log"),Ce(F,E,"trace","log")}});const F={transmit:oe,serialize:_,asObject:X.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:ue(X)};return E.levels=ne.levels,E.level=g,E.setMaxListeners=E.getMaxListeners=E.emit=E.addListener=E.on=E.prependListener=E.once=E.prependOnceListener=E.removeListener=E.removeAllListeners=E.listeners=E.listenerCount=E.eventNames=E.write=E.flush=Ve,E.serializers=m,E._serialize=_,E._stdErrSerialize=I,E.child=function te(z,me){if(!z)throw new Error("missing bindings for child Pino");me=me||{},_&&z.serializers&&(me.serializers=z.serializers);const Fe=me.serializers;if(_&&Fe){var Oe=Object.assign({},m,Fe),Xr=!0===X.browser.serialize?Object.keys(Oe):_;delete z.serializers,ie([z],Xr,Oe,this._stdErrSerialize)}function Qr(lt){this._childLevel=1+(0|lt._childLevel),this.error=ce(lt,z,"error"),this.fatal=ce(lt,z,"fatal"),this.warn=ce(lt,z,"warn"),this.info=ce(lt,z,"info"),this.debug=ce(lt,z,"debug"),this.trace=ce(lt,z,"trace"),Oe&&(this.serializers=Oe,this._serialize=Xr),oe&&(this._logEvent=ge([].concat(lt._logEvent.bindings,z)))}return Qr.prototype=this,new Qr(this)},oe&&(E._logEvent=ge()),E}function Ce(X,oe,p,m){const _=Object.getPrototypeOf(oe);oe[p]=oe.levelVal>oe.levels.values[p]?Ve:_[p]?_[p]:se[p]||se[m]||Ve,function ae(X,oe,p){!X.transmit&&oe[p]===Ve||(oe[p]=function(m){return function(){const I=X.timestamp(),O=new Array(arguments.length),g=Object.getPrototypeOf&&Object.getPrototypeOf(this)===se?se:this;for(var E=0;E<O.length;E++)O[E]=arguments[E];if(X.serialize&&!X.asObject&&ie(O,this._serialize,this.serializers,this._stdErrSerialize),X.asObject?m.call(g,function ee(X,oe,p,m){X._serialize&&ie(p,X._serialize,X.serializers,X._stdErrSerialize);const _=p.slice();let I=_[0];const O={};m&&(O.time=m),O.level=ne.levels.values[oe];let g=1+(0|X._childLevel);if(g<1&&(g=1),null!==I&&"object"==typeof I){for(;g--&&"object"==typeof _[0];)Object.assign(O,_.shift());I=_.length?v(_.shift(),_):void 0}else"string"==typeof I&&(I=v(_.shift(),_));return void 0!==I&&(O.msg=I),O}(this,p,O,I)):m.apply(g,O),X.transmit){const F=X.transmit.level||oe.level,C=ne.levels.values[p];if(C<ne.levels.values[F])return;!function Pe(X,oe,p){const m=oe.send,_=oe.ts,I=oe.methodLevel,O=oe.methodValue,g=oe.val,E=X._logEvent.bindings;ie(p,X._serialize||Object.keys(X.serializers),X.serializers,void 0===X._stdErrSerialize||X._stdErrSerialize),X._logEvent.ts=_,X._logEvent.messages=p.filter(function(F){return-1===E.indexOf(F)}),X._logEvent.level.label=I,X._logEvent.level.value=O,m(I,X._logEvent,g),X._logEvent=ge(E)}(this,{ts:I,methodLevel:p,methodValue:C,transmitLevel:F,transmitValue:ne.levels.values[X.transmit.level||oe.level],send:X.transmit.send,val:oe.levelVal},O)}}}(oe[p]))}(X,oe,p)}function ie(X,oe,p,m){for(const _ in X)if(m&&X[_]instanceof Error)X[_]=ne.stdSerializers.err(X[_]);else if("object"==typeof X[_]&&!Array.isArray(X[_]))for(const I in X[_])oe&&oe.indexOf(I)>-1&&I in p&&(X[_][I]=p[I](X[_][I]))}function ce(X,oe,p){return function(){const m=new Array(1+arguments.length);m[0]=oe;for(var _=1;_<m.length;_++)m[_]=arguments[_-1];return X[p].apply(this,m)}}function ge(X){return{ts:0,messages:[],bindings:X||[],level:{label:"",value:0}}}function ue(X){return"function"==typeof X.timestamp?X.timestamp:!1===X.timestamp?Ye:Et}function Ge(){return{}}function je(X){return X}function Ve(){}function Ye(){return!1}function Et(){return Date.now()}ne.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},ne.stdSerializers=ve,ne.stdTimeFunctions=Object.assign({},{nullTime:Ye,epochTime:Et,unixTime:function Tt(){return Math.round(Date.now()/1e3)},isoTime:function bt(){return new Date(Date.now()).toISOString()}})}}]);