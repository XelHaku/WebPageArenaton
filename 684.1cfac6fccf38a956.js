(self.webpackChunkArenaton=self.webpackChunkArenaton||[]).push([[684],{5553:(De,M,G)=>{"use strict";M.Xx=M._w=M.aP=M.KS=M.jQ=void 0;G(5784);const _e=G(6375);G(9815);function X(V){const k=new Float64Array(16);if(V)for(let z=0;z<V.length;z++)k[z]=V[z];return k}M.jQ=64,M.KS=64,M.aP=32,new Uint8Array(32)[0]=9;const he=X(),te=X([1]),le=(X([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),X([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),Pe=X([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),me=X([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);X([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function de(V,k){for(let z=0;z<16;z++)V[z]=0|k[z]}function ke(V){let k=1;for(let z=0;z<16;z++){let f=V[z]+k+65535;k=Math.floor(f/65536),V[z]=f-65536*k}V[0]+=k-1+37*(k-1)}function je(V,k,z){const f=~(z-1);for(let D=0;D<16;D++){const Ee=f&(V[D]^k[D]);V[D]^=Ee,k[D]^=Ee}}function He(V,k){const z=X(),f=X();for(let D=0;D<16;D++)f[D]=k[D];ke(f),ke(f),ke(f);for(let D=0;D<2;D++){z[0]=f[0]-65517;for(let Ne=1;Ne<15;Ne++)z[Ne]=f[Ne]-65535-(z[Ne-1]>>16&1),z[Ne-1]&=65535;z[15]=f[15]-32767-(z[14]>>16&1);const Ee=z[15]>>16&1;z[14]&=65535,je(f,z,1-Ee)}for(let D=0;D<16;D++)V[2*D]=255&f[D],V[2*D+1]=f[D]>>8}function ne(V){const k=new Uint8Array(32);return He(k,V),1&k[0]}function fe(V,k,z){for(let f=0;f<16;f++)V[f]=k[f]+z[f]}function Z(V,k,z){for(let f=0;f<16;f++)V[f]=k[f]-z[f]}function W(V,k,z){let f,D,Ee=0,Ne=0,We=0,ut=0,tt=0,ot=0,qt=0,ir=0,sr=0,Bt=0,Ht=0,St=0,Pt=0,it=0,pt=0,at=0,ct=0,Vt=0,Yt=0,lr=0,fr=0,or=0,gr=0,yr=0,zr=0,_r=0,br=0,fn=0,Jn=0,hn=0,dn=0,Ot=z[0],At=z[1],jt=z[2],vt=z[3],kt=z[4],Xt=z[5],Ft=z[6],Dt=z[7],Rt=z[8],Ct=z[9],mt=z[10],gt=z[11],Kt=z[12],Qt=z[13],Gt=z[14],Jt=z[15];f=k[0],Ee+=f*Ot,Ne+=f*At,We+=f*jt,ut+=f*vt,tt+=f*kt,ot+=f*Xt,qt+=f*Ft,ir+=f*Dt,sr+=f*Rt,Bt+=f*Ct,Ht+=f*mt,St+=f*gt,Pt+=f*Kt,it+=f*Qt,pt+=f*Gt,at+=f*Jt,f=k[1],Ne+=f*Ot,We+=f*At,ut+=f*jt,tt+=f*vt,ot+=f*kt,qt+=f*Xt,ir+=f*Ft,sr+=f*Dt,Bt+=f*Rt,Ht+=f*Ct,St+=f*mt,Pt+=f*gt,it+=f*Kt,pt+=f*Qt,at+=f*Gt,ct+=f*Jt,f=k[2],We+=f*Ot,ut+=f*At,tt+=f*jt,ot+=f*vt,qt+=f*kt,ir+=f*Xt,sr+=f*Ft,Bt+=f*Dt,Ht+=f*Rt,St+=f*Ct,Pt+=f*mt,it+=f*gt,pt+=f*Kt,at+=f*Qt,ct+=f*Gt,Vt+=f*Jt,f=k[3],ut+=f*Ot,tt+=f*At,ot+=f*jt,qt+=f*vt,ir+=f*kt,sr+=f*Xt,Bt+=f*Ft,Ht+=f*Dt,St+=f*Rt,Pt+=f*Ct,it+=f*mt,pt+=f*gt,at+=f*Kt,ct+=f*Qt,Vt+=f*Gt,Yt+=f*Jt,f=k[4],tt+=f*Ot,ot+=f*At,qt+=f*jt,ir+=f*vt,sr+=f*kt,Bt+=f*Xt,Ht+=f*Ft,St+=f*Dt,Pt+=f*Rt,it+=f*Ct,pt+=f*mt,at+=f*gt,ct+=f*Kt,Vt+=f*Qt,Yt+=f*Gt,lr+=f*Jt,f=k[5],ot+=f*Ot,qt+=f*At,ir+=f*jt,sr+=f*vt,Bt+=f*kt,Ht+=f*Xt,St+=f*Ft,Pt+=f*Dt,it+=f*Rt,pt+=f*Ct,at+=f*mt,ct+=f*gt,Vt+=f*Kt,Yt+=f*Qt,lr+=f*Gt,fr+=f*Jt,f=k[6],qt+=f*Ot,ir+=f*At,sr+=f*jt,Bt+=f*vt,Ht+=f*kt,St+=f*Xt,Pt+=f*Ft,it+=f*Dt,pt+=f*Rt,at+=f*Ct,ct+=f*mt,Vt+=f*gt,Yt+=f*Kt,lr+=f*Qt,fr+=f*Gt,or+=f*Jt,f=k[7],ir+=f*Ot,sr+=f*At,Bt+=f*jt,Ht+=f*vt,St+=f*kt,Pt+=f*Xt,it+=f*Ft,pt+=f*Dt,at+=f*Rt,ct+=f*Ct,Vt+=f*mt,Yt+=f*gt,lr+=f*Kt,fr+=f*Qt,or+=f*Gt,gr+=f*Jt,f=k[8],sr+=f*Ot,Bt+=f*At,Ht+=f*jt,St+=f*vt,Pt+=f*kt,it+=f*Xt,pt+=f*Ft,at+=f*Dt,ct+=f*Rt,Vt+=f*Ct,Yt+=f*mt,lr+=f*gt,fr+=f*Kt,or+=f*Qt,gr+=f*Gt,yr+=f*Jt,f=k[9],Bt+=f*Ot,Ht+=f*At,St+=f*jt,Pt+=f*vt,it+=f*kt,pt+=f*Xt,at+=f*Ft,ct+=f*Dt,Vt+=f*Rt,Yt+=f*Ct,lr+=f*mt,fr+=f*gt,or+=f*Kt,gr+=f*Qt,yr+=f*Gt,zr+=f*Jt,f=k[10],Ht+=f*Ot,St+=f*At,Pt+=f*jt,it+=f*vt,pt+=f*kt,at+=f*Xt,ct+=f*Ft,Vt+=f*Dt,Yt+=f*Rt,lr+=f*Ct,fr+=f*mt,or+=f*gt,gr+=f*Kt,yr+=f*Qt,zr+=f*Gt,_r+=f*Jt,f=k[11],St+=f*Ot,Pt+=f*At,it+=f*jt,pt+=f*vt,at+=f*kt,ct+=f*Xt,Vt+=f*Ft,Yt+=f*Dt,lr+=f*Rt,fr+=f*Ct,or+=f*mt,gr+=f*gt,yr+=f*Kt,zr+=f*Qt,_r+=f*Gt,br+=f*Jt,f=k[12],Pt+=f*Ot,it+=f*At,pt+=f*jt,at+=f*vt,ct+=f*kt,Vt+=f*Xt,Yt+=f*Ft,lr+=f*Dt,fr+=f*Rt,or+=f*Ct,gr+=f*mt,yr+=f*gt,zr+=f*Kt,_r+=f*Qt,br+=f*Gt,fn+=f*Jt,f=k[13],it+=f*Ot,pt+=f*At,at+=f*jt,ct+=f*vt,Vt+=f*kt,Yt+=f*Xt,lr+=f*Ft,fr+=f*Dt,or+=f*Rt,gr+=f*Ct,yr+=f*mt,zr+=f*gt,_r+=f*Kt,br+=f*Qt,fn+=f*Gt,Jn+=f*Jt,f=k[14],pt+=f*Ot,at+=f*At,ct+=f*jt,Vt+=f*vt,Yt+=f*kt,lr+=f*Xt,fr+=f*Ft,or+=f*Dt,gr+=f*Rt,yr+=f*Ct,zr+=f*mt,_r+=f*gt,br+=f*Kt,fn+=f*Qt,Jn+=f*Gt,hn+=f*Jt,f=k[15],at+=f*Ot,ct+=f*At,Vt+=f*jt,Yt+=f*vt,lr+=f*kt,fr+=f*Xt,or+=f*Ft,gr+=f*Dt,yr+=f*Rt,zr+=f*Ct,_r+=f*mt,br+=f*gt,fn+=f*Kt,Jn+=f*Qt,hn+=f*Gt,dn+=f*Jt,Ee+=38*ct,Ne+=38*Vt,We+=38*Yt,ut+=38*lr,tt+=38*fr,ot+=38*or,qt+=38*gr,ir+=38*yr,sr+=38*zr,Bt+=38*_r,Ht+=38*br,St+=38*fn,Pt+=38*Jn,it+=38*hn,pt+=38*dn,D=1,f=Ee+D+65535,D=Math.floor(f/65536),Ee=f-65536*D,f=Ne+D+65535,D=Math.floor(f/65536),Ne=f-65536*D,f=We+D+65535,D=Math.floor(f/65536),We=f-65536*D,f=ut+D+65535,D=Math.floor(f/65536),ut=f-65536*D,f=tt+D+65535,D=Math.floor(f/65536),tt=f-65536*D,f=ot+D+65535,D=Math.floor(f/65536),ot=f-65536*D,f=qt+D+65535,D=Math.floor(f/65536),qt=f-65536*D,f=ir+D+65535,D=Math.floor(f/65536),ir=f-65536*D,f=sr+D+65535,D=Math.floor(f/65536),sr=f-65536*D,f=Bt+D+65535,D=Math.floor(f/65536),Bt=f-65536*D,f=Ht+D+65535,D=Math.floor(f/65536),Ht=f-65536*D,f=St+D+65535,D=Math.floor(f/65536),St=f-65536*D,f=Pt+D+65535,D=Math.floor(f/65536),Pt=f-65536*D,f=it+D+65535,D=Math.floor(f/65536),it=f-65536*D,f=pt+D+65535,D=Math.floor(f/65536),pt=f-65536*D,f=at+D+65535,D=Math.floor(f/65536),at=f-65536*D,Ee+=D-1+37*(D-1),D=1,f=Ee+D+65535,D=Math.floor(f/65536),Ee=f-65536*D,f=Ne+D+65535,D=Math.floor(f/65536),Ne=f-65536*D,f=We+D+65535,D=Math.floor(f/65536),We=f-65536*D,f=ut+D+65535,D=Math.floor(f/65536),ut=f-65536*D,f=tt+D+65535,D=Math.floor(f/65536),tt=f-65536*D,f=ot+D+65535,D=Math.floor(f/65536),ot=f-65536*D,f=qt+D+65535,D=Math.floor(f/65536),qt=f-65536*D,f=ir+D+65535,D=Math.floor(f/65536),ir=f-65536*D,f=sr+D+65535,D=Math.floor(f/65536),sr=f-65536*D,f=Bt+D+65535,D=Math.floor(f/65536),Bt=f-65536*D,f=Ht+D+65535,D=Math.floor(f/65536),Ht=f-65536*D,f=St+D+65535,D=Math.floor(f/65536),St=f-65536*D,f=Pt+D+65535,D=Math.floor(f/65536),Pt=f-65536*D,f=it+D+65535,D=Math.floor(f/65536),it=f-65536*D,f=pt+D+65535,D=Math.floor(f/65536),pt=f-65536*D,f=at+D+65535,D=Math.floor(f/65536),at=f-65536*D,Ee+=D-1+37*(D-1),V[0]=Ee,V[1]=Ne,V[2]=We,V[3]=ut,V[4]=tt,V[5]=ot,V[6]=qt,V[7]=ir,V[8]=sr,V[9]=Bt,V[10]=Ht,V[11]=St,V[12]=Pt,V[13]=it,V[14]=pt,V[15]=at}function p(V,k){W(V,k,k)}function S(V,k){const z=X(),f=X(),D=X(),Ee=X(),Ne=X(),We=X(),ut=X(),tt=X(),ot=X();Z(z,V[1],V[0]),Z(ot,k[1],k[0]),W(z,z,ot),fe(f,V[0],V[1]),fe(ot,k[0],k[1]),W(f,f,ot),W(D,V[3],k[3]),W(D,D,le),W(Ee,V[2],k[2]),fe(Ee,Ee,Ee),Z(Ne,f,z),Z(We,Ee,D),fe(ut,Ee,D),fe(tt,f,z),W(V[0],Ne,We),W(V[1],tt,ut),W(V[2],ut,We),W(V[3],Ne,tt)}function v(V,k,z){for(let f=0;f<4;f++)je(V[f],k[f],z)}function d(V,k){const z=X(),f=X(),D=X();(function m(V,k){const z=X();let f;for(f=0;f<16;f++)z[f]=k[f];for(f=253;f>=0;f--)p(z,z),2!==f&&4!==f&&W(z,z,k);for(f=0;f<16;f++)V[f]=z[f]})(D,k[2]),W(z,k[0],D),W(f,k[1],D),He(V,f),V[31]^=ne(z)<<7}function T(V,k){const z=[X(),X(),X(),X()];de(z[0],Pe),de(z[1],me),de(z[2],te),W(z[3],Pe,me),function x(V,k,z){de(V[0],he),de(V[1],te),de(V[2],te),de(V[3],he);for(let f=255;f>=0;--f){const D=z[f/8|0]>>(7&f)&1;v(V,k,D),S(k,V),S(V,V),v(V,k,D)}}(V,z,k)}M._w=function pe(V){if(V.length!==M.aP)throw new Error(`ed25519: seed must be ${M.aP} bytes`);const k=(0,_e.hash)(V);k[0]&=248,k[31]&=127,k[31]|=64;const z=new Uint8Array(32),f=[X(),X(),X(),X()];T(f,k),d(z,f);const D=new Uint8Array(64);return D.set(V),D.set(z,32),{publicKey:z,secretKey:D}};const re=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function $(V,k){let z,f,D,Ee;for(f=63;f>=32;--f){for(z=0,D=f-32,Ee=f-12;D<Ee;++D)k[D]+=z-16*k[f]*re[D-(f-32)],z=Math.floor((k[D]+128)/256),k[D]-=256*z;k[D]+=z,k[f]=0}for(z=0,D=0;D<32;D++)k[D]+=z-(k[31]>>4)*re[D],z=k[D]>>8,k[D]&=255;for(D=0;D<32;D++)k[D]-=z*re[D];for(f=0;f<32;f++)k[f+1]+=k[f]>>8,V[f]=255&k[f]}function Se(V){const k=new Float64Array(64);for(let z=0;z<64;z++)k[z]=V[z];for(let z=0;z<64;z++)V[z]=0;$(V,k)}M.Xx=function $e(V,k){const z=new Float64Array(64),f=[X(),X(),X(),X()],D=(0,_e.hash)(V.subarray(0,32));D[0]&=248,D[31]&=127,D[31]|=64;const Ee=new Uint8Array(64);Ee.set(D.subarray(32),32);const Ne=new _e.SHA512;Ne.update(Ee.subarray(32)),Ne.update(k);const We=Ne.digest();Ne.clean(),Se(We),T(f,We),d(Ee,f),Ne.reset(),Ne.update(Ee.subarray(0,32)),Ne.update(V.subarray(32)),Ne.update(k);const ut=Ne.digest();Se(ut);for(let tt=0;tt<32;tt++)z[tt]=We[tt];for(let tt=0;tt<32;tt++)for(let ot=0;ot<32;ot++)z[tt+ot]+=ut[tt]*D[ot];return $(Ee.subarray(32),z),Ee}},6375:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=G(4502),ae=G(9815);M.DIGEST_LENGTH=64,M.BLOCK_SIZE=128;var _e=function(){function he(){this.digestLength=M.DIGEST_LENGTH,this.blockSize=M.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return he.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},he.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},he.prototype.clean=function(){ae.wipe(this._buffer),ae.wipe(this._tempHi),ae.wipe(this._tempLo),this.reset()},he.prototype.update=function(te,ce){if(void 0===ce&&(ce=te.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var le=0;if(this._bytesHashed+=ce,this._bufferLength>0){for(;this._bufferLength<M.BLOCK_SIZE&&ce>0;)this._buffer[this._bufferLength++]=te[le++],ce--;this._bufferLength===this.blockSize&&(X(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ce>=this.blockSize&&(le=X(this._tempHi,this._tempLo,this._stateHi,this._stateLo,te,le,ce),ce%=this.blockSize);ce>0;)this._buffer[this._bufferLength++]=te[le++],ce--;return this},he.prototype.finish=function(te){if(!this._finished){var ce=this._bytesHashed,le=this._bufferLength,Pe=ce/536870912|0,me=ce<<3,Ie=ce%128<112?128:256;this._buffer[le]=128;for(var de=le+1;de<Ie-8;de++)this._buffer[de]=0;b.writeUint32BE(Pe,this._buffer,Ie-8),b.writeUint32BE(me,this._buffer,Ie-4),X(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,Ie),this._finished=!0}for(de=0;de<this.digestLength/8;de++)b.writeUint32BE(this._stateHi[de],te,8*de),b.writeUint32BE(this._stateLo[de],te,8*de+4);return this},he.prototype.digest=function(){var te=new Uint8Array(this.digestLength);return this.finish(te),te},he.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},he.prototype.restoreState=function(te){return this._stateHi.set(te.stateHi),this._stateLo.set(te.stateLo),this._bufferLength=te.bufferLength,te.buffer&&this._buffer.set(te.buffer),this._bytesHashed=te.bytesHashed,this._finished=!1,this},he.prototype.cleanSavedState=function(te){ae.wipe(te.stateHi),ae.wipe(te.stateLo),te.buffer&&ae.wipe(te.buffer),te.bufferLength=0,te.bytesHashed=0},he}();M.SHA512=_e;var E=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function X(he,te,ce,le,Pe,me,Ie){for(var d,x,T,pe,A,H,re,$,de=ce[0],ke=ce[1],je=ce[2],He=ce[3],Ge=ce[4],se=ce[5],ne=ce[6],ue=ce[7],fe=le[0],Z=le[1],W=le[2],p=le[3],m=le[4],_=le[5],S=le[6],v=le[7];Ie>=128;){for(var Se=0;Se<16;Se++)he[Se]=b.readUint32BE(Pe,$e=8*Se+me),te[Se]=b.readUint32BE(Pe,$e+4);for(Se=0;Se<80;Se++){var f,qt,Xr=ke,Qr=je,dt=He,V=Ge,k=se,z=ne,Ee=Z,Ne=W,We=p,ut=m,tt=_,ot=S;if(A=65535&(x=v),H=x>>>16,re=65535&(d=ue),$=d>>>16,A+=65535&(x=(m>>>14|Ge<<18)^(m>>>18|Ge<<14)^(Ge>>>9|m<<23)),H+=x>>>16,re+=65535&(d=(Ge>>>14|m<<18)^(Ge>>>18|m<<14)^(m>>>9|Ge<<23)),$+=d>>>16,A+=65535&(x=m&_^~m&S),H+=x>>>16,re+=65535&(d=Ge&se^~Ge&ne),$+=d>>>16,A+=65535&(x=E[2*Se+1]),H+=x>>>16,re+=65535&(d=E[2*Se]),$+=d>>>16,H+=(x=te[Se%16])>>>16,re+=65535&(d=he[Se%16]),$+=d>>>16,re+=(H+=(A+=65535&x)>>>16)>>>16,A=65535&(x=pe=65535&A|H<<16),H=x>>>16,re=65535&(d=T=65535&re|($+=re>>>16)<<16),$=d>>>16,A+=65535&(x=(fe>>>28|de<<4)^(de>>>2|fe<<30)^(de>>>7|fe<<25)),H+=x>>>16,re+=65535&(d=(de>>>28|fe<<4)^(fe>>>2|de<<30)^(fe>>>7|de<<25)),$+=d>>>16,H+=(x=fe&Z^fe&W^Z&W)>>>16,re+=65535&(d=de&ke^de&je^ke&je),$+=d>>>16,f=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,qt=65535&A|H<<16,A=65535&(x=We),H=x>>>16,re=65535&(d=dt),$=d>>>16,H+=(x=pe)>>>16,re+=65535&(d=T),$+=d>>>16,ke=de,je=Xr,He=Qr,Ge=dt=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,se=V,ne=k,ue=z,de=f,Z=fe,W=Ee,p=Ne,m=We=65535&A|H<<16,_=ut,S=tt,v=ot,fe=qt,Se%16==15)for(var $e=0;$e<16;$e++)A=65535&(x=te[$e]),H=x>>>16,re=65535&(d=he[$e]),$=d>>>16,A+=65535&(x=te[($e+9)%16]),H+=x>>>16,re+=65535&(d=he[($e+9)%16]),$+=d>>>16,A+=65535&(x=((pe=te[($e+1)%16])>>>1|(T=he[($e+1)%16])<<31)^(pe>>>8|T<<24)^(pe>>>7|T<<25)),H+=x>>>16,re+=65535&(d=(T>>>1|pe<<31)^(T>>>8|pe<<24)^T>>>7),$+=d>>>16,H+=(x=((pe=te[($e+14)%16])>>>19|(T=he[($e+14)%16])<<13)^(T>>>29|pe<<3)^(pe>>>6|T<<26))>>>16,re+=65535&(d=(T>>>19|pe<<13)^(pe>>>29|T<<3)^T>>>6),$+=d>>>16,he[$e]=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,te[$e]=65535&A|H<<16}A=65535&(x=fe),H=x>>>16,re=65535&(d=de),$=d>>>16,H+=(x=le[0])>>>16,re+=65535&(d=ce[0]),$+=d>>>16,ce[0]=de=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[0]=fe=65535&A|H<<16,A=65535&(x=Z),H=x>>>16,re=65535&(d=ke),$=d>>>16,H+=(x=le[1])>>>16,re+=65535&(d=ce[1]),$+=d>>>16,ce[1]=ke=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[1]=Z=65535&A|H<<16,A=65535&(x=W),H=x>>>16,re=65535&(d=je),$=d>>>16,H+=(x=le[2])>>>16,re+=65535&(d=ce[2]),$+=d>>>16,ce[2]=je=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[2]=W=65535&A|H<<16,A=65535&(x=p),H=x>>>16,re=65535&(d=He),$=d>>>16,H+=(x=le[3])>>>16,re+=65535&(d=ce[3]),$+=d>>>16,ce[3]=He=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[3]=p=65535&A|H<<16,A=65535&(x=m),H=x>>>16,re=65535&(d=Ge),$=d>>>16,H+=(x=le[4])>>>16,re+=65535&(d=ce[4]),$+=d>>>16,ce[4]=Ge=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[4]=m=65535&A|H<<16,A=65535&(x=_),H=x>>>16,re=65535&(d=se),$=d>>>16,H+=(x=le[5])>>>16,re+=65535&(d=ce[5]),$+=d>>>16,ce[5]=se=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[5]=_=65535&A|H<<16,A=65535&(x=S),H=x>>>16,re=65535&(d=ne),$=d>>>16,H+=(x=le[6])>>>16,re+=65535&(d=ce[6]),$+=d>>>16,ce[6]=ne=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[6]=S=65535&A|H<<16,A=65535&(x=v),H=x>>>16,re=65535&(d=ue),$=d>>>16,H+=(x=le[7])>>>16,re+=65535&(d=ce[7]),$+=d>>>16,ce[7]=ue=65535&(re+=(H+=(A+=65535&x)>>>16)>>>16)|($+=re>>>16)<<16,le[7]=v=65535&A|H<<16,me+=128,Ie-=128}return me}M.hash=function we(he){var te=new _e;te.update(he);var ce=te.digest();return te.clean(),ce}},1688:(De,M)=>{"use strict";function G(){return(null==global?void 0:global.crypto)||(null==global?void 0:global.msCrypto)||{}}function b(){const _e=G();return _e.subtle||_e.webkitSubtle}Object.defineProperty(M,"__esModule",{value:!0}),M.isBrowserCryptoAvailable=M.getSubtleCrypto=M.getBrowerCrypto=void 0,M.getBrowerCrypto=G,M.getSubtleCrypto=b,M.isBrowserCryptoAvailable=function ae(){return!!G()&&!!b()}},2220:(De,M)=>{"use strict";function G(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function b(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Object.defineProperty(M,"__esModule",{value:!0}),M.isBrowser=M.isNode=M.isReactNative=void 0,M.isReactNative=G,M.isNode=b,M.isBrowser=function ae(){return!G()&&!b()}},1948:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});const b=G(4308);b.__exportStar(G(1688),M),b.__exportStar(G(2220),M)},5684:(De,M,G)=>{"use strict";G.r(M),G.d(M,{EthereumProvider:()=>Bp,OPTIONAL_EVENTS:()=>Lu,OPTIONAL_METHODS:()=>Nu,REQUIRED_EVENTS:()=>Rs,REQUIRED_METHODS:()=>As,default:()=>Ts});var b=G(5861),ae=G(9069),_e=G.n(ae),E=G(1761),X=G(9274),we=G(2062),he=G(8767),te=G(232);class ce extends te.q{constructor(n){super(),this.opts=n,this.protocol="wc",this.version=2}}class Pe extends te.q{constructor(n,r){super(),this.core=n,this.logger=r,this.records=new Map}}class me{constructor(n,r){this.logger=n,this.core=r}}class Ie extends te.q{constructor(n,r){super(),this.relayer=n,this.logger=r}}class de extends te.q{constructor(n){super()}}class ke{constructor(n,r,o,a){this.core=n,this.logger=r,this.name=o}}class He extends te.q{constructor(n,r){super(),this.relayer=n,this.logger=r}}class se extends te.q{constructor(n,r){super(),this.core=n,this.logger=r}}class ue{constructor(n,r){this.projectId=n,this.logger=r}}class Z{constructor(n){this.opts=n,this.protocol="wc",this.version=2}}class p{constructor(n){this.client=n}}const m=y=>JSON.stringify(y,(n,r)=>"bigint"==typeof r?r.toString()+"n":r);function S(y){if("string"!=typeof y)throw new Error("Cannot safe json parse value of type "+typeof y);try{return(y=>{const r=y.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(r,(o,a)=>"string"==typeof a&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)})(y)}catch{return y}}function v(y){return"string"==typeof y?y:m(y)||""}var d=G(5553),x=G(5784),T=G(3961);const re="base64url",$="utf8",$e=":",Le="did",Xr="key",Qr="base58btc",dt="z",V="K36";var f=G(682),D=G(1892),Ee=G(5676);function We(y){return(0,D.B)((0,Ee.m)(v(y),$),re)}function ut(y){const n=(0,Ee.m)(V,Qr),r=dt+(0,D.B)((0,f.z)([n,y]),Qr);return[Le,Xr,r].join($e)}function ot(y){return(0,D.B)(y,re)}function St(y=(0,x.randomBytes)(32)){return d._w(y)}function it(){return(it=(0,b.Z)(function*(y,n,r,o,a=(0,T.fromMiliseconds)(Date.now())){const u={alg:"EdDSA",typ:"JWT"},N={iss:ut(o.publicKey),sub:y,aud:n,iat:a,exp:a+r},q=function ir(y){return(0,Ee.m)([We(y.header),We(y.payload)].join("."),"utf8")}({header:u,payload:N});return function Bt(y){return[We(y.header),We(y.payload),ot(y.signature)].join(".")}({header:u,payload:N,signature:d.Xx(o.secretKey,q)})})).apply(this,arguments)}G(2088);var Vt=G(4577);const gr="INTERNAL_ERROR",yr="SERVER_ERROR",zr=[-32700,-32600,-32601,-32602,-32603],br={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[gr]:{code:-32603,message:"Internal error"},[yr]:{code:-32e3,message:"Server error"}},fn=yr;function Ot(y){return Object.keys(br).includes(y)?br[y]:br[fn]}function vt(y,n,r){return y.message.includes("getaddrinfo ENOTFOUND")||y.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${n}`):y}var kt=G(1948);function Ft(y=3){return Date.now()*Math.pow(10,y)+Math.floor(Math.random()*Math.pow(10,y))}function Dt(y=6){return BigInt(Ft(y))}function Rt(y,n,r){return{id:r||Ft(),jsonrpc:"2.0",method:y,params:n}}function Ct(y,n){return{id:y,jsonrpc:"2.0",result:n}}function mt(y,n,r){return{id:y,jsonrpc:"2.0",error:gt(n,r)}}function gt(y,n){return typeof y>"u"?Ot(gr):("string"==typeof y&&(y=Object.assign(Object.assign({},Ot(yr)),{message:y})),typeof n<"u"&&(y.data=n),function hn(y){return zr.includes(y)}(y.code)&&(y=function At(y){return Object.values(br).find(r=>r.code===y)||br[fn]}(y.code)),y)}class Kt{}class Gt extends Kt{constructor(){super()}}class Jt extends Gt{constructor(n){super()}}function us(y,n){const r=function Oo(y){const n=y.match(new RegExp(/^\w+:/,"gi"));if(n&&n.length)return n[0]}(y);return!(typeof r>"u")&&new RegExp(n).test(r)}function ls(y){return us(y,"^https?:")}function fs(y){return us(y,"^wss?:")}function pn(y){return"object"==typeof y&&"id"in y&&"jsonrpc"in y&&"2.0"===y.jsonrpc}function Di(y){return pn(y)&&"method"in y}function ui(y){return pn(y)&&(tn(y)||Tr(y))}function tn(y){return"result"in y}function Tr(y){return"error"in y}class Dr extends Jt{constructor(n){super(n),this.events=new ae.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(n),this.connection.connected&&this.registerEventListeners()}connect(n=this.connection){var r=this;return(0,b.Z)(function*(){yield r.open(n)})()}disconnect(){var n=this;return(0,b.Z)(function*(){yield n.close()})()}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}request(n,r){var o=this;return(0,b.Z)(function*(){return o.requestStrict(Rt(n.method,n.params||[],n.id||Dt().toString()),r)})()}requestStrict(n,r){var o=this;return(0,b.Z)(function*(){return new Promise(function(){var a=(0,b.Z)(function*(u,h){if(!o.connection.connected)try{yield o.open()}catch(P){h(P)}o.events.on(`${n.id}`,P=>{Tr(P)?h(P.error):u(P.result)});try{yield o.connection.send(n,r)}catch(P){h(P)}});return function(u,h){return a.apply(this,arguments)}}())})()}setConnection(n=this.connection){return n}onPayload(n){this.events.emit("payload",n),ui(n)?this.events.emit(`${n.id}`,n):this.events.emit("message",{type:n.method,data:n.params})}onClose(n){n&&3e3===n.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${n.code} ${n.reason?`(${n.reason})`:""}`)),this.events.emit("disconnect")}open(n=this.connection){var r=this;return(0,b.Z)(function*(){r.connection===n&&r.connection.connected||(r.connection.connected&&r.close(),"string"==typeof n&&(yield r.connection.open(n),n=r.connection),r.connection=r.setConnection(n),yield r.connection.open(),r.registerEventListeners(),r.events.emit("connect"))})()}close(){var n=this;return(0,b.Z)(function*(){yield n.connection.close()})()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",n=>this.onPayload(n)),this.connection.on("close",n=>this.onClose(n)),this.connection.on("error",n=>this.events.emit("error",n)),this.connection.on("register_error",n=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const hs=y=>y.split("?")[0],Co=typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:G(5504);var Do=G(8222),Wn=G.n(Do),No=function ps(y,n){if(y.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),o=0;o<r.length;o++)r[o]=255;for(var a=0;a<y.length;a++){var u=y.charAt(a),h=u.charCodeAt(0);if(255!==r[h])throw new TypeError(u+" is ambiguous");r[h]=a}var P=y.length,N=y.charAt(0),q=Math.log(P)/Math.log(256),Q=Math.log(256)/Math.log(P);function Te(Ae){if("string"!=typeof Ae)throw new TypeError("Expected String");if(0===Ae.length)return new Uint8Array;var rt=0;if(" "!==Ae[rt]){for(var Ye=0,wt=0;Ae[rt]===N;)Ye++,rt++;for(var hr=(Ae.length-rt)*q+1>>>0,yt=new Uint8Array(hr);Ae[rt];){var Zt=r[Ae.charCodeAt(rt)];if(255===Zt)return;for(var ft=0,Ut=hr-1;(0!==Zt||ft<wt)&&-1!==Ut;Ut--,ft++)yt[Ut]=(Zt+=P*yt[Ut]>>>0)%256>>>0,Zt=Zt/256>>>0;if(0!==Zt)throw new Error("Non-zero carry");wt=ft,rt++}if(" "!==Ae[rt]){for(var Qe=hr-wt;Qe!==hr&&0===yt[Qe];)Qe++;for(var cr=new Uint8Array(Ye+(hr-Qe)),Zn=Ye;Qe!==hr;)cr[Zn++]=yt[Qe++];return cr}}}return{encode:function ge(Ae){if(Ae instanceof Uint8Array||(ArrayBuffer.isView(Ae)?Ae=new Uint8Array(Ae.buffer,Ae.byteOffset,Ae.byteLength):Array.isArray(Ae)&&(Ae=Uint8Array.from(Ae))),!(Ae instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ae.length)return"";for(var rt=0,Ye=0,wt=0,hr=Ae.length;wt!==hr&&0===Ae[wt];)wt++,rt++;for(var yt=(hr-wt)*Q+1>>>0,Zt=new Uint8Array(yt);wt!==hr;){for(var ft=Ae[wt],Ut=0,Qe=yt-1;(0!==ft||Ut<Ye)&&-1!==Qe;Qe--,Ut++)Zt[Qe]=(ft+=256*Zt[Qe]>>>0)%P>>>0,ft=ft/P>>>0;if(0!==ft)throw new Error("Non-zero carry");Ye=Ut,wt++}for(var cr=yt-Ye;cr!==yt&&0===Zt[cr];)cr++;for(var Zn=N.repeat(rt);cr<yt;++cr)Zn+=y.charAt(Zt[cr]);return Zn},decodeUnsafe:Te,decode:function Xe(Ae){var rt=Te(Ae);if(rt)return rt;throw new Error(`Non-${n} character`)}}};const ys=y=>{if(y instanceof Uint8Array&&"Uint8Array"===y.constructor.name)return y;if(y instanceof ArrayBuffer)return new Uint8Array(y);if(ArrayBuffer.isView(y))return new Uint8Array(y.buffer,y.byteOffset,y.byteLength);throw new Error("Unknown type, must be binary type")};class _s{constructor(n,r,o){this.name=n,this.prefix=r,this.baseEncode=o}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class Fo{constructor(n,r,o){if(this.name=n,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=o}decode(n){if("string"==typeof n){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(n){return Ni(this,n)}}class Mo{constructor(n){this.decoders=n}or(n){return Ni(this,n)}decode(n){const o=this.decoders[n[0]];if(o)return o.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ni=(y,n)=>new Mo({...y.decoders||{[y.prefix]:y},...n.decoders||{[n.prefix]:n}});class fi{constructor(n,r,o,a){this.name=n,this.prefix=r,this.baseEncode=o,this.baseDecode=a,this.encoder=new _s(n,r,o),this.decoder=new Fo(n,r,a)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}const rn=({name:y,prefix:n,encode:r,decode:o})=>new fi(y,n,r,o),Yn=({prefix:y,name:n,alphabet:r})=>{const{encode:o,decode:a}=No(r,n);return rn({prefix:y,name:n,encode:o,decode:u=>ys(a(u))})},er=({name:y,prefix:n,bitsPerChar:r,alphabet:o})=>rn({prefix:n,name:y,encode:a=>((y,n,r)=>{const o="="===n[n.length-1],a=(1<<r)-1;let u="",h=0,P=0;for(let N=0;N<y.length;++N)for(P=P<<8|y[N],h+=8;h>r;)h-=r,u+=n[a&P>>h];if(h&&(u+=n[a&P<<r-h]),o)for(;u.length*r&7;)u+="=";return u})(a,o,r),decode:a=>((y,n,r,o)=>{const a={};for(let Q=0;Q<n.length;++Q)a[n[Q]]=Q;let u=y.length;for(;"="===y[u-1];)--u;const h=new Uint8Array(u*r/8|0);let P=0,N=0,q=0;for(let Q=0;Q<u;++Q){const ge=a[y[Q]];if(void 0===ge)throw new SyntaxError(`Non-${o} character`);N=N<<r|ge,P+=r,P>=8&&(P-=8,h[q++]=255&N>>P)}if(P>=r||255&N<<8-P)throw new SyntaxError("Unexpected end of data");return h})(a,o,r,y)}),Uo=rn({prefix:"\0",name:"identity",encode:y=>(y=>(new TextDecoder).decode(y))(y),decode:y=>(y=>(new TextEncoder).encode(y))(y)});var zo=Object.freeze({__proto__:null,identity:Uo});const $o=er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qo=Object.freeze({__proto__:null,base2:$o});const In=er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vs=Object.freeze({__proto__:null,base8:In});const Bo=Yn({prefix:"9",name:"base10",alphabet:"0123456789"});var hi=Object.freeze({__proto__:null,base10:Bo});const Ho=er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Li=er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Vo=Object.freeze({__proto__:null,base16:Ho,base16upper:Li});const ms=er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bs=er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ws=er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xn=er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xs=er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ko=er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ko=er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Go=er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),O=er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var L=Object.freeze({__proto__:null,base32:ms,base32upper:bs,base32pad:ws,base32padupper:Xn,base32hex:xs,base32hexupper:ko,base32hexpad:Ko,base32hexpadupper:Go,base32z:O});const ie=Yn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ve=Yn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lt=Object.freeze({__proto__:null,base36:ie,base36upper:ve});const Me=Yn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Et=Yn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Wt=Object.freeze({__proto__:null,base58btc:Me,base58flickr:Et});const tr=er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bt=er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),wr=er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Nr=er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ar=Object.freeze({__proto__:null,base64:tr,base64pad:bt,base64url:wr,base64urlpad:Nr});const xr=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Pr=xr.reduce((y,n,r)=>(y[r]=n,y),[]),_n=xr.reduce((y,n,r)=>(y[n.codePointAt(0)]=r,y),[]),Es=rn({prefix:"\u{1f680}",name:"base256emoji",encode:function nn(y){return y.reduce((n,r)=>n+Pr[r],"")},decode:function Sn(y){const n=[];for(const r of y){const o=_n[r.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${r}`);n.push(o)}return new Uint8Array(n)}});var di=Object.freeze({__proto__:null,base256emoji:Es}),Zc=128,vh=-128,mh=Math.pow(2,31),wh=128,zc=127,xh=Math.pow(2,7),Eh=Math.pow(2,14),Ih=Math.pow(2,21),Sh=Math.pow(2,28),Ph=Math.pow(2,35),Oh=Math.pow(2,42),Ah=Math.pow(2,49),Rh=Math.pow(2,56),Ch=Math.pow(2,63),Dh={encode:function Uc(y,n,r){n=n||[];for(var o=r=r||0;y>=mh;)n[r++]=255&y|Zc,y/=128;for(;y&vh;)n[r++]=255&y|Zc,y>>>=7;return n[r]=0|y,Uc.bytes=r-o+1,n},decode:function Jo(y,o){var h,r=0,a=0,u=o=o||0,P=y.length;do{if(u>=P)throw Jo.bytes=0,new RangeError("Could not decode varint");h=y[u++],r+=a<28?(h&zc)<<a:(h&zc)*Math.pow(2,a),a+=7}while(h>=wh);return Jo.bytes=u-o,r},encodingLength:function(y){return y<xh?1:y<Eh?2:y<Ih?3:y<Sh?4:y<Ph?5:y<Oh?6:y<Ah?7:y<Rh?8:y<Ch?9:10}},$c=Dh;const qc=(y,n,r=0)=>($c.encode(y,n,r),n),Bc=y=>$c.encodingLength(y),Wo=(y,n)=>{const r=n.byteLength,o=Bc(y),a=o+Bc(r),u=new Uint8Array(a+r);return qc(y,u,0),qc(r,u,o),u.set(n,a),new Nh(y,r,n,u)};class Nh{constructor(n,r,o,a){this.code=n,this.size=r,this.digest=o,this.bytes=a}}const Hc=({name:y,code:n,encode:r})=>new Lh(y,n,r);class Lh{constructor(n,r,o){this.name=n,this.code=r,this.encode=o}digest(n){if(n instanceof Uint8Array){const r=this.encode(n);return r instanceof Uint8Array?Wo(this.code,r):r.then(o=>Wo(this.code,o))}throw Error("Unknown type, must be binary type")}}const Vc=y=>function(){var n=(0,b.Z)(function*(r){return new Uint8Array(yield crypto.subtle.digest(y,r))});return function(r){return n.apply(this,arguments)}}(),jh=Hc({name:"sha2-256",code:18,encode:Vc("SHA-256")}),Fh=Hc({name:"sha2-512",code:19,encode:Vc("SHA-512")});Object.freeze({__proto__:null,sha256:jh,sha512:Fh});const Kc=ys;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Kc,digest:y=>Wo(0,Kc(y))}}),new TextEncoder,new TextDecoder;const Gc={...zo,...qo,...vs,...hi,...Vo,...L,...lt,...Wt,...ar,...di};function Jc(y){return null!=globalThis.Buffer?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):y}function Wc(y,n,r,o){return{name:y,prefix:n,encoder:{name:y,prefix:n,encode:r},decoder:{decode:o}}}const Yc=Wc("utf8","u",y=>"u"+new TextDecoder("utf8").decode(y),y=>(new TextEncoder).encode(y.substring(1))),Yo=Wc("ascii","a",y=>{let n="a";for(let r=0;r<y.length;r++)n+=String.fromCharCode(y[r]);return n},y=>{const n=function zh(y=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Jc(globalThis.Buffer.allocUnsafe(y)):new Uint8Array(y)}((y=y.substring(1)).length);for(let r=0;r<y.length;r++)n[r]=y.charCodeAt(r);return n}),$h={utf8:Yc,"utf-8":Yc,hex:Gc.base16,latin1:Yo,ascii:Yo,binary:Yo,...Gc},Fn="wc@2:core:",Vh={database:":memory:"},Qc="client_ed25519_seed",Kh=T.ONE_DAY,Xh=T.SIX_HOURS,tu="wss://relay.walletconnect.com",ru="wss://relay.walletconnect.org",nd=T.ONE_SECOND/2,vn_created="subscription_created",vn_deleted="subscription_deleted",ld=1e3*T.FIVE_SECONDS,Fi={wc_pairingDelete:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:T.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:T.ONE_DAY,prompt:!1,tag:0},res:{ttl:T.ONE_DAY,prompt:!1,tag:0}}},$r_expired="expirer_expired",Qo="verify-api",nu="https://verify.walletconnect.com";class _d{constructor(n,r){var o=this;this.core=n,this.logger=r,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Fn,this.init=(0,b.Z)(function*(){if(!o.initialized){const a=yield o.getKeyChain();typeof a<"u"&&(o.keychain=a),o.initialized=!0}}),this.has=a=>(this.isInitialized(),this.keychain.has(a)),this.set=function(){var a=(0,b.Z)(function*(u,h){o.isInitialized(),o.keychain.set(u,h),yield o.persist()});return function(u,h){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();const u=this.keychain.get(a);if(typeof u>"u"){const{message:h}=(0,E.Z7)("NO_MATCHING_KEY",`${this.name}: ${a}`);throw new Error(h)}return u},this.del=function(){var a=(0,b.Z)(function*(u){o.isInitialized(),o.keychain.delete(u),yield o.persist()});return function(u){return a.apply(this,arguments)}}(),this.core=n,this.logger=(0,he.generateChildLogger)(r,this.name)}get context(){return(0,he.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setKeyChain(n){var r=this;return(0,b.Z)(function*(){yield r.core.storage.setItem(r.storageKey,(0,E.KC)(n))})()}getKeyChain(){var n=this;return(0,b.Z)(function*(){const r=yield n.core.storage.getItem(n.storageKey);return typeof r<"u"?(0,E.IP)(r):void 0})()}persist(){var n=this;return(0,b.Z)(function*(){yield n.setKeyChain(n.keychain)})()}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class vd{constructor(n,r,o){var a=this;this.core=n,this.logger=r,this.name="crypto",this.initialized=!1,this.init=(0,b.Z)(function*(){a.initialized||(yield a.keychain.init(),a.initialized=!0)}),this.hasKeys=u=>(this.isInitialized(),this.keychain.has(u)),this.getClientId=(0,b.Z)(function*(){return a.isInitialized(),ut(St(yield a.getClientSeed()).publicKey)}),this.generateKeyPair=()=>{this.isInitialized();const u=(0,E.Au)();return this.setPrivateKey(u.publicKey,u.privateKey)},this.signJWT=function(){var u=(0,b.Z)(function*(h){a.isInitialized();const N=St(yield a.getClientSeed()),q=(0,E.jd)();return yield function Pt(y,n,r,o){return it.apply(this,arguments)}(q,h,Kh,N)});return function(h){return u.apply(this,arguments)}}(),this.generateSharedKey=(u,h,P)=>{this.isInitialized();const N=this.getPrivateKey(u),q=(0,E.m$)(N,h);return this.setSymKey(q,P)},this.setSymKey=function(){var u=(0,b.Z)(function*(h,P){a.isInitialized();const N=P||(0,E.Ym)(h);return yield a.keychain.set(N,h),N});return function(h,P){return u.apply(this,arguments)}}(),this.deleteKeyPair=function(){var u=(0,b.Z)(function*(h){a.isInitialized(),yield a.keychain.del(h)});return function(h){return u.apply(this,arguments)}}(),this.deleteSymKey=function(){var u=(0,b.Z)(function*(h){a.isInitialized(),yield a.keychain.del(h)});return function(h){return u.apply(this,arguments)}}(),this.encode=function(){var u=(0,b.Z)(function*(h,P,N){a.isInitialized();const q=(0,E.EN)(N),Q=v(P);if((0,E.Q8)(q)){const Ae=q.senderPublicKey,rt=q.receiverPublicKey;h=yield a.generateSharedKey(Ae,rt)}const ge=a.getSymKey(h),{type:Te,senderPublicKey:Xe}=q;return(0,E.HI)({type:Te,symKey:ge,message:Q,senderPublicKey:Xe})});return function(h,P,N){return u.apply(this,arguments)}}(),this.decode=function(){var u=(0,b.Z)(function*(h,P,N){a.isInitialized();const q=(0,E.Ll)(P,N);if((0,E.Q8)(q)){const Te=q.receiverPublicKey,Xe=q.senderPublicKey;h=yield a.generateSharedKey(Te,Xe)}const Q=a.getSymKey(h);return S((0,E.pe)({symKey:Q,encoded:P}))});return function(h,P,N){return u.apply(this,arguments)}}(),this.getPayloadType=u=>{const h=(0,E.vB)(u);return(0,E.WG)(h.type)},this.getPayloadSenderPublicKey=u=>{const h=(0,E.vB)(u);return h.senderPublicKey?(0,Vt.BB)(h.senderPublicKey,E.AW):void 0},this.core=n,this.logger=(0,he.generateChildLogger)(r,this.name),this.keychain=o||new _d(this.core,this.logger)}get context(){return(0,he.getLoggerContext)(this.logger)}setPrivateKey(n,r){var o=this;return(0,b.Z)(function*(){return yield o.keychain.set(n,r),n})()}getPrivateKey(n){return this.keychain.get(n)}getClientSeed(){var n=this;return(0,b.Z)(function*(){let r="";try{r=n.keychain.get(Qc)}catch{r=(0,E.jd)(),yield n.keychain.set(Qc,r)}return function qh(y,n="utf8"){const r=$h[n];if(!r)throw new Error(`Unsupported encoding "${n}"`);return"utf8"!==n&&"utf-8"!==n||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${y}`):Jc(globalThis.Buffer.from(y,"utf-8"))}(r,"base16")})()}getSymKey(n){return this.keychain.get(n)}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class md extends me{constructor(n,r){var o;super(n,r),o=this,this.logger=n,this.core=r,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Fn,this.init=(0,b.Z)(function*(){if(!o.initialized){o.logger.trace("Initialized");try{const a=yield o.getRelayerMessages();typeof a<"u"&&(o.messages=a),o.logger.debug(`Successfully Restored records for ${o.name}`),o.logger.trace({type:"method",method:"restore",size:o.messages.size})}catch(a){o.logger.debug(`Failed to Restore records for ${o.name}`),o.logger.error(a)}finally{o.initialized=!0}}}),this.set=function(){var a=(0,b.Z)(function*(u,h){o.isInitialized();const P=(0,E.rj)(h);let N=o.messages.get(u);return typeof N>"u"&&(N={}),typeof N[P]<"u"||(N[P]=h,o.messages.set(u,N),yield o.persist()),P});return function(u,h){return a.apply(this,arguments)}}(),this.get=a=>{this.isInitialized();let u=this.messages.get(a);return typeof u>"u"&&(u={}),u},this.has=(a,u)=>(this.isInitialized(),typeof this.get(a)[(0,E.rj)(u)]<"u"),this.del=function(){var a=(0,b.Z)(function*(u){o.isInitialized(),o.messages.delete(u),yield o.persist()});return function(u){return a.apply(this,arguments)}}(),this.logger=(0,he.generateChildLogger)(n,this.name),this.core=r}get context(){return(0,he.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}setRelayerMessages(n){var r=this;return(0,b.Z)(function*(){yield r.core.storage.setItem(r.storageKey,(0,E.KC)(n))})()}getRelayerMessages(){var n=this;return(0,b.Z)(function*(){const r=yield n.core.storage.getItem(n.storageKey);return typeof r<"u"?(0,E.IP)(r):void 0})()}persist(){var n=this;return(0,b.Z)(function*(){yield n.setRelayerMessages(n.messages)})()}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class bd extends Ie{constructor(n,r){var o;super(n,r),o=this,this.relayer=n,this.logger=r,this.events=new ae.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,T.toMiliseconds)(T.TEN_SECONDS),this.queueTimeout=(0,T.toMiliseconds)(T.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=function(){var a=(0,b.Z)(function*(u,h,P){o.logger.debug("Publishing Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:u,message:h,opts:P}});try{const N=P?.ttl||Xh,q=(0,E._H)(P),Q=P?.prompt||!1,ge=P?.tag||0,Te=P?.id||Dt().toString(),Xe={topic:u,message:h,opts:{ttl:N,relay:q,prompt:Q,tag:ge,id:Te}},Ae=setTimeout(()=>o.queue.set(Te,Xe),o.queueTimeout);try{yield yield(0,E.hF)(o.rpcPublish(u,h,N,q,Q,ge,Te),o.publishTimeout),clearTimeout(Ae),o.relayer.events.emit("relayer_publish",Xe)}catch{return o.logger.debug("Publishing Payload stalled"),void(o.needsTransportRestart=!0)}o.logger.debug("Successfully Published Payload"),o.logger.trace({type:"method",method:"publish",params:{topic:u,message:h,opts:P}})}catch(N){throw o.logger.debug("Failed to Publish Payload"),o.logger.error(N),N}});return function(u,h,P){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.relayer=n,this.logger=(0,he.generateChildLogger)(r,this.name),this.registerEventListeners()}get context(){return(0,he.getLoggerContext)(this.logger)}rpcPublish(n,r,o,a,u,h,P){var N,q,Q,ge;const Te={method:(0,E.cO)(a.protocol).publish,params:{topic:n,message:r,ttl:o,prompt:u,tag:h},id:P};return(0,E.o8)(null==(N=Te.params)?void 0:N.prompt)&&(null==(q=Te.params)||delete q.prompt),(0,E.o8)(null==(Q=Te.params)?void 0:Q.tag)&&(null==(ge=Te.params)||delete ge.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:Te}),this.relayer.request(Te)}onPublish(n){this.queue.delete(n)}checkQueue(){var n=this;this.queue.forEach(function(){var r=(0,b.Z)(function*(o){const{topic:a,message:u,opts:h}=o;yield n.publish(a,u,h)});return function(o){return r.apply(this,arguments)}}())}registerEventListeners(){this.relayer.core.heartbeat.on(we.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit("relayer_connection_stalled");this.checkQueue()}),this.relayer.on("relayer_message_ack",n=>{this.onPublish(n.id.toString())})}}class wd{constructor(){this.map=new Map,this.set=(n,r)=>{const o=this.get(n);this.exists(n,r)||this.map.set(n,[...o,r])},this.get=n=>this.map.get(n)||[],this.exists=(n,r)=>this.get(n).includes(r),this.delete=(n,r)=>{if(typeof r>"u")return void this.map.delete(n);if(!this.map.has(n))return;const o=this.get(n);if(!this.exists(n,r))return;const a=o.filter(u=>u!==r);a.length?this.map.set(n,a):this.map.delete(n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var xd=Object.defineProperty,Ed=Object.defineProperties,Id=Object.getOwnPropertyDescriptors,iu=Object.getOwnPropertySymbols,Sd=Object.prototype.hasOwnProperty,Pd=Object.prototype.propertyIsEnumerable,su=(y,n,r)=>n in y?xd(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Mi=(y,n)=>{for(var r in n||(n={}))Sd.call(n,r)&&su(y,r,n[r]);if(iu)for(var r of iu(n))Pd.call(n,r)&&su(y,r,n[r]);return y},ea=(y,n)=>Ed(y,Id(n));class Od extends He{constructor(n,r){var o;super(n,r),o=this,this.relayer=n,this.logger=r,this.subscriptions=new Map,this.topicMap=new wd,this.events=new ae.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Fn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=(0,b.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restart(),o.registerEventListeners(),o.onEnable(),o.clientId=yield o.relayer.core.crypto.getClientId())}),this.subscribe=function(){var a=(0,b.Z)(function*(u,h){yield o.restartToComplete(),o.isInitialized(),o.logger.debug("Subscribing Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:u,opts:h}});try{const P=(0,E._H)(h),N={topic:u,relay:P};o.pending.set(u,N);const q=yield o.rpcSubscribe(u,P);return o.onSubscribe(q,N),o.logger.debug("Successfully Subscribed Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:u,opts:h}}),q}catch(P){throw o.logger.debug("Failed to Subscribe Topic"),o.logger.error(P),P}});return function(u,h){return a.apply(this,arguments)}}(),this.unsubscribe=function(){var a=(0,b.Z)(function*(u,h){yield o.restartToComplete(),o.isInitialized(),typeof h?.id<"u"?yield o.unsubscribeById(u,h.id,h):yield o.unsubscribeByTopic(u,h)});return function(u,h){return a.apply(this,arguments)}}(),this.isSubscribed=function(){var a=(0,b.Z)(function*(u){return!!o.topics.includes(u)||(yield new Promise((h,P)=>{const N=new T.Watch;N.start(o.pendingSubscriptionWatchLabel);const q=setInterval(()=>{!o.pending.has(u)&&o.topics.includes(u)&&(clearInterval(q),N.stop(o.pendingSubscriptionWatchLabel),h(!0)),N.elapsed(o.pendingSubscriptionWatchLabel)>=ld&&(clearInterval(q),N.stop(o.pendingSubscriptionWatchLabel),P(new Error("Subscription resolution timeout")))},o.pollingInterval)}).catch(()=>!1))});return function(u){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.restart=(0,b.Z)(function*(){o.restartInProgress=!0,yield o.restore(),yield o.reset(),o.restartInProgress=!1}),this.relayer=n,this.logger=(0,he.generateChildLogger)(r,this.name),this.clientId=""}get context(){return(0,he.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(n,r){let o=!1;try{o=this.getSubscription(n).topic===r}catch{}return o}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}unsubscribeByTopic(n,r){var o=this;return(0,b.Z)(function*(){const a=o.topicMap.get(n);yield Promise.all(a.map(function(){var u=(0,b.Z)(function*(h){return yield o.unsubscribeById(n,h,r)});return function(h){return u.apply(this,arguments)}}()))})()}unsubscribeById(n,r,o){var a=this;return(0,b.Z)(function*(){a.logger.debug("Unsubscribing Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:n,id:r,opts:o}});try{const u=(0,E._H)(o);yield a.rpcUnsubscribe(n,r,u);const h=(0,E.D6)("USER_DISCONNECTED",`${a.name}, ${n}`);yield a.onUnsubscribe(n,r,h),a.logger.debug("Successfully Unsubscribed Topic"),a.logger.trace({type:"method",method:"unsubscribe",params:{topic:n,id:r,opts:o}})}catch(u){throw a.logger.debug("Failed to Unsubscribe Topic"),a.logger.error(u),u}})()}rpcSubscribe(n,r){var o=this;return(0,b.Z)(function*(){const a={method:(0,E.cO)(r.protocol).subscribe,params:{topic:n}};o.logger.debug("Outgoing Relay Payload"),o.logger.trace({type:"payload",direction:"outgoing",request:a});try{yield yield(0,E.hF)(o.relayer.request(a),o.subscribeTimeout)}catch{o.logger.debug("Outgoing Relay Subscribe Payload stalled"),o.relayer.events.emit("relayer_connection_stalled")}return(0,E.rj)(n+o.clientId)})()}rpcBatchSubscribe(n){var r=this;return(0,b.Z)(function*(){if(!n.length)return;const a={method:(0,E.cO)(n[0].relay.protocol).batchSubscribe,params:{topics:n.map(u=>u.topic)}};r.logger.debug("Outgoing Relay Payload"),r.logger.trace({type:"payload",direction:"outgoing",request:a});try{return yield yield(0,E.hF)(r.relayer.request(a),r.subscribeTimeout)}catch{r.logger.debug("Outgoing Relay Payload stalled"),r.relayer.events.emit("relayer_connection_stalled")}})()}rpcUnsubscribe(n,r,o){const a={method:(0,E.cO)(o.protocol).unsubscribe,params:{topic:n,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(n,r){this.setSubscription(n,ea(Mi({},r),{id:n})),this.pending.delete(r.topic)}onBatchSubscribe(n){n.length&&n.forEach(r=>{this.setSubscription(r.id,Mi({},r)),this.pending.delete(r.topic)})}onUnsubscribe(n,r,o){var a=this;return(0,b.Z)(function*(){a.events.removeAllListeners(r),a.hasSubscription(r,n)&&a.deleteSubscription(r,o),yield a.relayer.messages.del(n)})()}setRelayerSubscriptions(n){var r=this;return(0,b.Z)(function*(){yield r.relayer.core.storage.setItem(r.storageKey,n)})()}getRelayerSubscriptions(){var n=this;return(0,b.Z)(function*(){return yield n.relayer.core.storage.getItem(n.storageKey)})()}setSubscription(n,r){this.subscriptions.has(n)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:n,subscription:r}),this.addSubscription(n,r))}addSubscription(n,r){this.subscriptions.set(n,Mi({},r)),this.topicMap.set(r.topic,n),this.events.emit(vn_created,r)}getSubscription(n){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:n});const r=this.subscriptions.get(n);if(!r){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return r}deleteSubscription(n,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:n,reason:r});const o=this.getSubscription(n);this.subscriptions.delete(n),this.topicMap.delete(o.topic,n),this.events.emit(vn_deleted,ea(Mi({},o),{reason:r}))}persist(){var n=this;return(0,b.Z)(function*(){yield n.setRelayerSubscriptions(n.values),n.events.emit("subscription_sync")})()}reset(){var n=this;return(0,b.Z)(function*(){if(n.cached.length){const r=Math.ceil(n.cached.length/n.batchSubscribeTopicsLimit);for(let o=0;o<r;o++){const a=n.cached.splice(0,n.batchSubscribeTopicsLimit);yield n.batchSubscribe(a)}}n.events.emit("subscription_resubscribed")})()}restore(){var n=this;return(0,b.Z)(function*(){try{const r=yield n.getRelayerSubscriptions();if(typeof r>"u"||!r.length)return;if(n.subscriptions.size){const{message:o}=(0,E.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),n.logger.error(`${n.name}: ${JSON.stringify(n.values)}`),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored subscriptions for ${n.name}`),n.logger.trace({type:"method",method:"restore",subscriptions:n.values})}catch(r){n.logger.debug(`Failed to Restore subscriptions for ${n.name}`),n.logger.error(r)}})()}batchSubscribe(n){var r=this;return(0,b.Z)(function*(){if(!n.length)return;const o=yield r.rpcBatchSubscribe(n);(0,E.qt)(o)&&r.onBatchSubscribe(o.map((a,u)=>ea(Mi({},n[u]),{id:a})))})()}onConnect(){var n=this;return(0,b.Z)(function*(){n.restartInProgress||(yield n.restart(),n.onEnable())})()}onDisconnect(){this.onDisable()}checkPending(){var n=this;return(0,b.Z)(function*(){if(n.relayer.transportExplicitlyClosed)return;const r=[];n.pending.forEach(o=>{r.push(o)}),yield n.batchSubscribe(r)})()}registerEventListeners(){var n=this;this.relayer.core.heartbeat.on(we.HEARTBEAT_EVENTS.pulse,(0,b.Z)(function*(){yield n.checkPending()})),this.relayer.on("relayer_connect",(0,b.Z)(function*(){yield n.onConnect()})),this.relayer.on("relayer_disconnect",()=>{this.onDisconnect()}),this.events.on(vn_created,function(){var r=(0,b.Z)(function*(o){const a=vn_created;n.logger.info(`Emitting ${a}`),n.logger.debug({type:"event",event:a,data:o}),yield n.persist()});return function(o){return r.apply(this,arguments)}}()),this.events.on(vn_deleted,function(){var r=(0,b.Z)(function*(o){const a=vn_deleted;n.logger.info(`Emitting ${a}`),n.logger.debug({type:"event",event:a,data:o}),yield n.persist()});return function(o){return r.apply(this,arguments)}}())}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}restartToComplete(){var n=this;return(0,b.Z)(function*(){n.restartInProgress&&(yield new Promise(r=>{const o=setInterval(()=>{n.restartInProgress||(clearInterval(o),r())},n.pollingInterval)}))})()}}var Ad=Object.defineProperty,ou=Object.getOwnPropertySymbols,Rd=Object.prototype.hasOwnProperty,Cd=Object.prototype.propertyIsEnumerable,au=(y,n,r)=>n in y?Ad(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r;class Dd extends de{constructor(n){var r;super(n),r=this,this.protocol="wc",this.version=2,this.events=new ae.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=function(){var o=(0,b.Z)(function*(a){r.logger.debug("Publishing Request Payload");try{return yield r.toEstablishConnection(),yield r.provider.request(a)}catch(u){throw r.logger.debug("Failed to Publish Request"),r.logger.error(u),u}});return function(a){return o.apply(this,arguments)}}(),this.core=n.core,this.logger=typeof n.logger<"u"&&"string"!=typeof n.logger?(0,he.generateChildLogger)(n.logger,this.name):(0,he.pino)((0,he.getDefaultLoggerOptions)({level:n.logger||"error"})),this.messages=new md(this.logger,n.core),this.subscriber=new Od(this,this.logger),this.publisher=new bd(this,this.logger),this.relayUrl=n?.relayUrl||tu,this.projectId=n.projectId,this.provider={}}init(){var n=this;return(0,b.Z)(function*(){n.logger.trace("Initialized"),yield n.createProvider(),yield Promise.all([n.messages.init(),n.subscriber.init()]);try{yield n.transportOpen()}catch{n.logger.warn(`Connection via ${n.relayUrl} failed, attempting to connect via failover domain ${ru}...`),yield n.restartTransport(ru)}n.registerEventListeners(),n.initialized=!0,setTimeout((0,b.Z)(function*(){0===n.subscriber.topics.length&&(n.logger.info("No topics subscribed to after init, closing transport"),yield n.transportClose(),n.transportExplicitlyClosed=!1)}),1e4)})()}get context(){return(0,he.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}publish(n,r,o){var a=this;return(0,b.Z)(function*(){a.isInitialized(),yield a.publisher.publish(n,r,o),yield a.recordMessageEvent({topic:n,message:r,publishedAt:Date.now()})})()}subscribe(n,r){var o=this;return(0,b.Z)(function*(){var a;o.isInitialized();let u=(null==(a=o.subscriber.topicMap.get(n))?void 0:a[0])||"";return u||(yield Promise.all([new Promise(h=>{o.subscriber.once(vn_created,P=>{P.topic===n&&h()})}),new Promise(function(){var h=(0,b.Z)(function*(P){u=yield o.subscriber.subscribe(n,r),P()});return function(P){return h.apply(this,arguments)}}())]),u)})()}unsubscribe(n,r){var o=this;return(0,b.Z)(function*(){o.isInitialized(),yield o.subscriber.unsubscribe(n,r)})()}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}transportClose(){var n=this;return(0,b.Z)(function*(){n.transportExplicitlyClosed=!0,n.connected&&(yield n.provider.disconnect(),n.events.emit("relayer_transport_closed"))})()}transportOpen(n){var r=this;return(0,b.Z)(function*(){if(r.transportExplicitlyClosed=!1,!r.reconnecting){r.relayUrl=n||r.relayUrl,r.reconnecting=!0;try{yield Promise.all([new Promise(o=>{r.initialized||o(),r.subscriber.once("subscription_resubscribed",()=>{o()})}),yield Promise.race([new Promise(function(){var o=(0,b.Z)(function*(a,u){yield(0,E.hF)(r.provider.connect(),5e3,`Socket stalled when trying to connect to ${r.relayUrl}`).catch(h=>u(h)).then(()=>a()).finally(()=>r.removeListener("relayer_transport_closed",r.rejectTransportOpen))});return function(a,u){return o.apply(this,arguments)}}()),new Promise(o=>r.once("relayer_transport_closed",r.rejectTransportOpen))])])}catch(o){if(r.logger.error(o),!r.isConnectionStalled(o.message))throw o;r.events.emit("relayer_transport_closed")}finally{r.reconnecting=!1}}})()}restartTransport(n){var r=this;return(0,b.Z)(function*(){r.transportExplicitlyClosed||r.reconnecting||(r.relayUrl=n||r.relayUrl,r.connected&&(yield Promise.all([new Promise(o=>{r.provider.once("disconnect",()=>{o()})}),r.transportClose()])),yield r.createProvider(),yield r.transportOpen())})()}isConnectionStalled(n){return this.staleConnectionErrors.some(r=>n.includes(r))}rejectTransportOpen(){throw new Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}createProvider(){var n=this;return(0,b.Z)(function*(){const r=yield n.core.crypto.signJWT(n.relayUrl);n.provider=new Dr(new class To{constructor(n){if(this.url=n,this.events=new ae.EventEmitter,this.registering=!1,!fs(n))throw new Error(`Provided URL is not compatible with WebSocket connection: ${n}`);this.url=n}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}open(n=this.url){var r=this;return(0,b.Z)(function*(){yield r.register(n)})()}close(){var n=this;return(0,b.Z)(function*(){return new Promise((r,o)=>{typeof n.socket>"u"?o(new Error("Connection already closed")):(n.socket.onclose=a=>{n.onClose(a),r()},n.socket.close())})})()}send(n,r){var o=this;return(0,b.Z)(function*(){typeof o.socket>"u"&&(o.socket=yield o.register());try{o.socket.send(v(n))}catch(a){o.onError(n.id,a)}})()}register(n=this.url){if(!fs(n))throw new Error(`Provided URL is not compatible with WebSocket connection: ${n}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((o,a)=>{this.events.once("register_error",u=>{this.resetMaxListeners(),a(u)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));o(this.socket)})})}return this.url=n,this.registering=!0,new Promise((r,o)=>{const a=(0,kt.isReactNative)()?void 0:{rejectUnauthorized:(y=n,!new RegExp("wss?://localhost(:d{2,5})?").test(y))},u=new Co(n,[],a);var y;typeof window<"u"?u.onerror=h=>{o(this.emitError(h.error))}:u.on("error",h=>{o(this.emitError(h))}),u.onopen=()=>{this.onOpen(u),r(u)}})}onOpen(n){n.onmessage=r=>this.onPayload(r),n.onclose=r=>this.onClose(r),this.socket=n,this.registering=!1,this.events.emit("open")}onClose(n){this.socket=void 0,this.registering=!1,this.events.emit("close",n)}onPayload(n){if(typeof n.data>"u")return;const r="string"==typeof n.data?S(n.data):n.data;this.events.emit("payload",r)}onError(n,r){const o=this.parseError(r),u=mt(n,o.message||o.toString());this.events.emit("payload",u)}parseError(n,r=this.url){return vt(n,hs(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(n){const r=this.parseError(new Error(n?.message||`WebSocket connection failed for host: ${hs(this.url)}`));return this.events.emit("register_error",r),r}}((0,E.$0)({sdkVersion:"2.9.0",protocol:n.protocol,version:n.version,relayUrl:n.relayUrl,projectId:n.projectId,auth:r,useOnCloseEvent:!0}))),n.registerProviderListeners()})()}recordMessageEvent(n){var r=this;return(0,b.Z)(function*(){const{topic:o,message:a}=n;yield r.messages.set(o,a)})()}shouldIgnoreMessageEvent(n){var r=this;return(0,b.Z)(function*(){const{topic:o,message:a}=n;return!(yield r.subscriber.isSubscribed(o))||r.messages.has(o,a)})()}onProviderPayload(n){var r=this;return(0,b.Z)(function*(){if(r.logger.debug("Incoming Relay Payload"),r.logger.trace({type:"payload",direction:"incoming",payload:n}),Di(n)){if(!n.method.endsWith("_subscription"))return;const o=n.params,{topic:a,message:u,publishedAt:h}=o.data,P={topic:a,message:u,publishedAt:h};r.logger.debug("Emitting Relayer Payload"),r.logger.trace(((y,n)=>{for(var r in n||(n={}))Rd.call(n,r)&&au(y,r,n[r]);if(ou)for(var r of ou(n))Cd.call(n,r)&&au(y,r,n[r]);return y})({type:"event",event:o.id},P)),r.events.emit(o.id,P),yield r.acknowledgePayload(n),yield r.onMessageEvent(P)}else ui(n)&&r.events.emit("relayer_message_ack",n)})()}onMessageEvent(n){var r=this;return(0,b.Z)(function*(){(yield r.shouldIgnoreMessageEvent(n))||(r.events.emit("relayer_message",n),yield r.recordMessageEvent(n))})()}acknowledgePayload(n){var r=this;return(0,b.Z)(function*(){const o=Ct(n.id,!0);yield r.provider.connection.send(o)})()}registerProviderListeners(){this.provider.on("payload",n=>this.onProviderPayload(n)),this.provider.on("connect",()=>{this.events.emit("relayer_connect")}),this.provider.on("disconnect",()=>{this.onProviderDisconnect()}),this.provider.on("error",n=>{this.logger.error(n),this.events.emit("relayer_error",n)})}registerEventListeners(){var n=this;this.events.on("relayer_connection_stalled",(0,b.Z)(function*(){yield n.restartTransport()}))}onProviderDisconnect(){this.events.emit("relayer_disconnect"),this.attemptToReconnect()}attemptToReconnect(){var n=this;this.transportExplicitlyClosed||setTimeout((0,b.Z)(function*(){yield n.restartTransport()}),(0,T.toMiliseconds)(nd))}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}toEstablishConnection(){var n=this;return(0,b.Z)(function*(){if(!n.connected){if(n.connecting)return yield new Promise(r=>{const o=setInterval(()=>{n.connected&&(clearInterval(o),r())},n.connectionStatusPollingInterval)});yield n.restartTransport()}})()}}var Nd=Object.defineProperty,cu=Object.getOwnPropertySymbols,Ld=Object.prototype.hasOwnProperty,jd=Object.prototype.propertyIsEnumerable,uu=(y,n,r)=>n in y?Nd(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,lu=(y,n)=>{for(var r in n||(n={}))Ld.call(n,r)&&uu(y,r,n[r]);if(cu)for(var r of cu(n))jd.call(n,r)&&uu(y,r,n[r]);return y};class Is extends ke{constructor(n,r,o,a=Fn,u=void 0){var h;super(n,r,o,a),h=this,this.core=n,this.logger=r,this.name=o,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Fn,this.init=(0,b.Z)(function*(){h.initialized||(h.logger.trace("Initialized"),yield h.restore(),h.cached.forEach(P=>{h.getKey&&null!==P&&!(0,E.o8)(P)?h.map.set(h.getKey(P),P):(0,E.xW)(P)?h.map.set(P.id,P):(0,E.h1)(P)&&h.map.set(P.topic,P)}),h.cached=[],h.initialized=!0)}),this.set=function(){var P=(0,b.Z)(function*(N,q){h.isInitialized(),h.map.has(N)?yield h.update(N,q):(h.logger.debug("Setting value"),h.logger.trace({type:"method",method:"set",key:N,value:q}),h.map.set(N,q),yield h.persist())});return function(N,q){return P.apply(this,arguments)}}(),this.get=P=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:P}),this.getData(P)),this.getAll=P=>(this.isInitialized(),P?this.values.filter(N=>Object.keys(P).every(q=>Wn()(N[q],P[q]))):this.values),this.update=function(){var P=(0,b.Z)(function*(N,q){h.isInitialized(),h.logger.debug("Updating value"),h.logger.trace({type:"method",method:"update",key:N,update:q});const Q=lu(lu({},h.getData(N)),q);h.map.set(N,Q),yield h.persist()});return function(N,q){return P.apply(this,arguments)}}(),this.delete=function(){var P=(0,b.Z)(function*(N,q){h.isInitialized(),h.map.has(N)&&(h.logger.debug("Deleting value"),h.logger.trace({type:"method",method:"delete",key:N,reason:q}),h.map.delete(N),yield h.persist())});return function(N,q){return P.apply(this,arguments)}}(),this.logger=(0,he.generateChildLogger)(r,this.name),this.storagePrefix=a,this.getKey=u}get context(){return(0,he.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}setDataStore(n){var r=this;return(0,b.Z)(function*(){yield r.core.storage.setItem(r.storageKey,n)})()}getDataStore(){var n=this;return(0,b.Z)(function*(){return yield n.core.storage.getItem(n.storageKey)})()}getData(n){const r=this.map.get(n);if(!r){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw this.logger.error(o),new Error(o)}return r}persist(){var n=this;return(0,b.Z)(function*(){yield n.setDataStore(n.values)})()}restore(){var n=this;return(0,b.Z)(function*(){try{const r=yield n.getDataStore();if(typeof r>"u"||!r.length)return;if(n.map.size){const{message:o}=(0,E.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored value for ${n.name}`),n.logger.trace({type:"method",method:"restore",value:n.values})}catch(r){n.logger.debug(`Failed to Restore value for ${n.name}`),n.logger.error(r)}})()}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Fd{constructor(n,r){var o=this;this.core=n,this.logger=r,this.name="pairing",this.version="0.3",this.events=new(_e()),this.initialized=!1,this.storagePrefix=Fn,this.ignoredPayloadTypes=[E.rV],this.registeredMethods=[],this.init=(0,b.Z)(function*(){o.initialized||(yield o.pairings.init(),yield o.cleanup(),o.registerRelayerEvents(),o.registerExpirerEvents(),o.initialized=!0,o.logger.trace("Initialized"))}),this.register=({methods:a})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...a])]},this.create=(0,b.Z)(function*(){o.isInitialized();const a=(0,E.jd)(),u=yield o.core.crypto.setSymKey(a),h=(0,E.gn)(T.FIVE_MINUTES),P={protocol:"irn"},N={topic:u,expiry:h,relay:P,active:!1},q=(0,E.Bv)({protocol:o.core.protocol,version:o.core.version,topic:u,symKey:a,relay:P});return yield o.pairings.set(u,N),yield o.core.relayer.subscribe(u),o.core.expirer.set(u,h),{topic:u,uri:q}}),this.pair=function(){var a=(0,b.Z)(function*(u){o.isInitialized(),o.isValidPair(u);const{topic:h,symKey:P,relay:N}=(0,E.he)(u.uri);if(o.pairings.keys.includes(h))throw new Error(`Pairing already exists: ${h}`);if(o.core.crypto.hasKeys(h))throw new Error(`Keychain already exists: ${h}`);const q=(0,E.gn)(T.FIVE_MINUTES),Q={topic:h,relay:N,expiry:q,active:!1};return yield o.pairings.set(h,Q),yield o.core.crypto.setSymKey(P,h),yield o.core.relayer.subscribe(h,{relay:N}),o.core.expirer.set(h,q),u.activatePairing&&(yield o.activate({topic:h})),Q});return function(u){return a.apply(this,arguments)}}(),this.activate=function(){var a=(0,b.Z)(function*({topic:u}){o.isInitialized();const h=(0,E.gn)(T.THIRTY_DAYS);yield o.pairings.update(u,{active:!0,expiry:h}),o.core.expirer.set(u,h)});return function(u){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,b.Z)(function*(u){o.isInitialized(),yield o.isValidPing(u);const{topic:h}=u;if(o.pairings.keys.includes(h)){const P=yield o.sendRequest(h,"wc_pairingPing",{}),{done:N,resolve:q,reject:Q}=(0,E.H1)();o.events.once((0,E.E0)("pairing_ping",P),({error:ge})=>{ge?Q(ge):q()}),yield N()}});return function(u){return a.apply(this,arguments)}}(),this.updateExpiry=function(){var a=(0,b.Z)(function*({topic:u,expiry:h}){o.isInitialized(),yield o.pairings.update(u,{expiry:h})});return function(u){return a.apply(this,arguments)}}(),this.updateMetadata=function(){var a=(0,b.Z)(function*({topic:u,metadata:h}){o.isInitialized(),yield o.pairings.update(u,{peerMetadata:h})});return function(u){return a.apply(this,arguments)}}(),this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=function(){var a=(0,b.Z)(function*(u){o.isInitialized(),yield o.isValidDisconnect(u);const{topic:h}=u;o.pairings.keys.includes(h)&&(yield o.sendRequest(h,"wc_pairingDelete",(0,E.D6)("USER_DISCONNECTED")),yield o.deletePairing(h))});return function(u){return a.apply(this,arguments)}}(),this.sendRequest=function(){var a=(0,b.Z)(function*(u,h,P){const N=Rt(h,P),q=yield o.core.crypto.encode(u,N),Q=Fi[h].req;return o.core.history.set(u,N),o.core.relayer.publish(u,q,Q),N.id});return function(u,h,P){return a.apply(this,arguments)}}(),this.sendResult=function(){var a=(0,b.Z)(function*(u,h,P){const N=Ct(u,P),q=yield o.core.crypto.encode(h,N),Q=yield o.core.history.get(h,u),ge=Fi[Q.request.method].res;yield o.core.relayer.publish(h,q,ge),yield o.core.history.resolve(N)});return function(u,h,P){return a.apply(this,arguments)}}(),this.sendError=function(){var a=(0,b.Z)(function*(u,h,P){const N=mt(u,P),q=yield o.core.crypto.encode(h,N),Q=yield o.core.history.get(h,u),ge=Fi[Q.request.method]?Fi[Q.request.method].res:Fi.unregistered_method.res;yield o.core.relayer.publish(h,q,ge),yield o.core.history.resolve(N)});return function(u,h,P){return a.apply(this,arguments)}}(),this.deletePairing=function(){var a=(0,b.Z)(function*(u,h){yield o.core.relayer.unsubscribe(u),yield Promise.all([o.pairings.delete(u,(0,E.D6)("USER_DISCONNECTED")),o.core.crypto.deleteSymKey(u),h?Promise.resolve():o.core.expirer.del(u)])});return function(u,h){return a.apply(this,arguments)}}(),this.cleanup=(0,b.Z)(function*(){const a=o.pairings.getAll().filter(u=>(0,E.Bw)(u.expiry));yield Promise.all(a.map(u=>o.deletePairing(u.topic)))}),this.onRelayEventRequest=a=>{const{topic:u,payload:h}=a,P=h.method;if(this.pairings.keys.includes(u))switch(P){case"wc_pairingPing":return this.onPairingPingRequest(u,h);case"wc_pairingDelete":return this.onPairingDeleteRequest(u,h);default:return this.onUnknownRpcMethodRequest(u,h)}},this.onRelayEventResponse=function(){var a=(0,b.Z)(function*(u){const{topic:h,payload:P}=u,N=(yield o.core.history.get(h,P.id)).request.method;if(o.pairings.keys.includes(h))return"wc_pairingPing"===N?o.onPairingPingResponse(h,P):o.onUnknownRpcMethodResponse(N)});return function(u){return a.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var a=(0,b.Z)(function*(u,h){const{id:P}=h;try{o.isValidPing({topic:u}),yield o.sendResult(P,u,!0),o.events.emit("pairing_ping",{id:P,topic:u})}catch(N){yield o.sendError(P,u,N),o.logger.error(N)}});return function(u,h){return a.apply(this,arguments)}}(),this.onPairingPingResponse=(a,u)=>{const{id:h}=u;setTimeout(()=>{tn(u)?this.events.emit((0,E.E0)("pairing_ping",h),{}):Tr(u)&&this.events.emit((0,E.E0)("pairing_ping",h),{error:u.error})},500)},this.onPairingDeleteRequest=function(){var a=(0,b.Z)(function*(u,h){const{id:P}=h;try{o.isValidDisconnect({topic:u}),yield o.deletePairing(u),o.events.emit("pairing_delete",{id:P,topic:u})}catch(N){yield o.sendError(P,u,N),o.logger.error(N)}});return function(u,h){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var a=(0,b.Z)(function*(u,h){const{id:P,method:N}=h;try{if(o.registeredMethods.includes(N))return;const q=(0,E.D6)("WC_METHOD_UNSUPPORTED",N);yield o.sendError(P,u,q),o.logger.error(q)}catch(q){yield o.sendError(P,u,q),o.logger.error(q)}});return function(u,h){return a.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=a=>{this.registeredMethods.includes(a)||this.logger.error((0,E.D6)("WC_METHOD_UNSUPPORTED",a))},this.isValidPair=a=>{if(!(0,E.EJ)(a)){const{message:u}=(0,E.Z7)("MISSING_OR_INVALID",`pair() params: ${a}`);throw new Error(u)}if(!(0,E.jv)(a.uri)){const{message:u}=(0,E.Z7)("MISSING_OR_INVALID",`pair() uri: ${a.uri}`);throw new Error(u)}},this.isValidPing=function(){var a=(0,b.Z)(function*(u){if(!(0,E.EJ)(u)){const{message:P}=(0,E.Z7)("MISSING_OR_INVALID",`ping() params: ${u}`);throw new Error(P)}const{topic:h}=u;yield o.isValidPairingTopic(h)});return function(u){return a.apply(this,arguments)}}(),this.isValidDisconnect=function(){var a=(0,b.Z)(function*(u){if(!(0,E.EJ)(u)){const{message:P}=(0,E.Z7)("MISSING_OR_INVALID",`disconnect() params: ${u}`);throw new Error(P)}const{topic:h}=u;yield o.isValidPairingTopic(h)});return function(u){return a.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var a=(0,b.Z)(function*(u){if(!(0,E.M_)(u,!1)){const{message:h}=(0,E.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${u}`);throw new Error(h)}if(!o.pairings.keys.includes(u)){const{message:h}=(0,E.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${u}`);throw new Error(h)}if((0,E.Bw)(o.pairings.get(u).expiry)){yield o.deletePairing(u);const{message:h}=(0,E.Z7)("EXPIRED",`pairing topic: ${u}`);throw new Error(h)}});return function(u){return a.apply(this,arguments)}}(),this.core=n,this.logger=(0,he.generateChildLogger)(r,this.name),this.pairings=new Is(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,he.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}registerRelayerEvents(){var n=this;this.core.relayer.on("relayer_message",function(){var r=(0,b.Z)(function*(o){const{topic:a,message:u}=o;if(n.ignoredPayloadTypes.includes(n.core.crypto.getPayloadType(u)))return;const h=yield n.core.crypto.decode(a,u);Di(h)?(n.core.history.set(a,h),n.onRelayEventRequest({topic:a,payload:h})):ui(h)&&(yield n.core.history.resolve(h),yield n.onRelayEventResponse({topic:a,payload:h}),n.core.history.delete(a,h.id))});return function(o){return r.apply(this,arguments)}}())}registerExpirerEvents(){var n=this;this.core.expirer.on($r_expired,function(){var r=(0,b.Z)(function*(o){const{topic:a}=(0,E.iP)(o.target);a&&n.pairings.keys.includes(a)&&(yield n.deletePairing(a,!0),n.events.emit("pairing_expire",{topic:a}))});return function(o){return r.apply(this,arguments)}}())}}class Md extends Pe{constructor(n,r){var o;super(n,r),o=this,this.core=n,this.logger=r,this.records=new Map,this.events=new ae.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Fn,this.init=(0,b.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(a=>o.records.set(a.id,a)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.set=(a,u,h)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:a,request:u,chainId:h}),this.records.has(u.id))return;const P={id:u.id,topic:a,request:{method:u.method,params:u.params||null},chainId:h,expiry:(0,E.gn)(T.THIRTY_DAYS)};this.records.set(P.id,P),this.events.emit("history_created",P)},this.resolve=function(){var a=(0,b.Z)(function*(u){if(o.isInitialized(),o.logger.debug("Updating JSON-RPC response history record"),o.logger.trace({type:"method",method:"update",response:u}),!o.records.has(u.id))return;const h=yield o.getRecord(u.id);typeof h.response>"u"&&(h.response=Tr(u)?{error:u.error}:{result:u.result},o.records.set(h.id,h),o.events.emit("history_updated",h))});return function(u){return a.apply(this,arguments)}}(),this.get=function(){var a=(0,b.Z)(function*(u,h){return o.isInitialized(),o.logger.debug("Getting record"),o.logger.trace({type:"method",method:"get",topic:u,id:h}),yield o.getRecord(h)});return function(u,h){return a.apply(this,arguments)}}(),this.delete=(a,u)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:u}),this.values.forEach(h=>{if(h.topic===a){if(typeof u<"u"&&h.id!==u)return;this.records.delete(h.id),this.events.emit("history_deleted",h)}})},this.exists=function(){var a=(0,b.Z)(function*(u,h){return o.isInitialized(),!!o.records.has(h)&&(yield o.getRecord(h)).topic===u});return function(u,h){return a.apply(this,arguments)}}(),this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.logger=(0,he.generateChildLogger)(r,this.name)}get context(){return(0,he.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const n=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const o={topic:r.topic,request:Rt(r.request.method,r.request.params,r.id),chainId:r.chainId};return n.push(o)}),n}setJsonRpcRecords(n){var r=this;return(0,b.Z)(function*(){yield r.core.storage.setItem(r.storageKey,n)})()}getJsonRpcRecords(){var n=this;return(0,b.Z)(function*(){return yield n.core.storage.getItem(n.storageKey)})()}getRecord(n){this.isInitialized();const r=this.records.get(n);if(!r){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return r}persist(){var n=this;return(0,b.Z)(function*(){yield n.setJsonRpcRecords(n.values),n.events.emit("history_sync")})()}restore(){var n=this;return(0,b.Z)(function*(){try{const r=yield n.getJsonRpcRecords();if(typeof r>"u"||!r.length)return;if(n.records.size){const{message:o}=(0,E.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored records for ${n.name}`),n.logger.trace({type:"method",method:"restore",records:n.values})}catch(r){n.logger.debug(`Failed to Restore records for ${n.name}`),n.logger.error(r)}})()}registerEventListeners(){this.events.on("history_created",n=>{const r="history_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:n}),this.persist()}),this.events.on("history_updated",n=>{const r="history_updated";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:n}),this.persist()}),this.events.on("history_deleted",n=>{const r="history_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:n}),this.persist()}),this.core.heartbeat.on(we.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(n=>{(0,T.toMiliseconds)(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.delete(n.topic,n.id))})}catch(n){this.logger.warn(n)}}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Zd extends se{constructor(n,r){var o;super(n,r),o=this,this.core=n,this.logger=r,this.expirations=new Map,this.events=new ae.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Fn,this.init=(0,b.Z)(function*(){o.initialized||(o.logger.trace("Initialized"),yield o.restore(),o.cached.forEach(a=>o.expirations.set(a.target,a)),o.cached=[],o.registerEventListeners(),o.initialized=!0)}),this.has=a=>{try{const u=this.formatTarget(a);return typeof this.getExpiration(u)<"u"}catch{return!1}},this.set=(a,u)=>{this.isInitialized();const h=this.formatTarget(a),P={target:h,expiry:u};this.expirations.set(h,P),this.checkExpiry(h,P),this.events.emit("expirer_created",{target:h,expiration:P})},this.get=a=>{this.isInitialized();const u=this.formatTarget(a);return this.getExpiration(u)},this.del=a=>{if(this.isInitialized(),this.has(a)){const u=this.formatTarget(a),h=this.getExpiration(u);this.expirations.delete(u),this.events.emit("expirer_deleted",{target:u,expiration:h})}},this.on=(a,u)=>{this.events.on(a,u)},this.once=(a,u)=>{this.events.once(a,u)},this.off=(a,u)=>{this.events.off(a,u)},this.removeListener=(a,u)=>{this.events.removeListener(a,u)},this.logger=(0,he.generateChildLogger)(r,this.name)}get context(){return(0,he.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(n){if("string"==typeof n)return(0,E.Z4)(n);if("number"==typeof n)return(0,E.Gq)(n);const{message:r}=(0,E.Z7)("UNKNOWN_TYPE","Target type: "+typeof n);throw new Error(r)}setExpirations(n){var r=this;return(0,b.Z)(function*(){yield r.core.storage.setItem(r.storageKey,n)})()}getExpirations(){var n=this;return(0,b.Z)(function*(){return yield n.core.storage.getItem(n.storageKey)})()}persist(){var n=this;return(0,b.Z)(function*(){yield n.setExpirations(n.values),n.events.emit("expirer_sync")})()}restore(){var n=this;return(0,b.Z)(function*(){try{const r=yield n.getExpirations();if(typeof r>"u"||!r.length)return;if(n.expirations.size){const{message:o}=(0,E.Z7)("RESTORE_WILL_OVERRIDE",n.name);throw n.logger.error(o),new Error(o)}n.cached=r,n.logger.debug(`Successfully Restored expirations for ${n.name}`),n.logger.trace({type:"method",method:"restore",expirations:n.values})}catch(r){n.logger.debug(`Failed to Restore expirations for ${n.name}`),n.logger.error(r)}})()}getExpiration(n){const r=this.expirations.get(n);if(!r){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`${this.name}: ${n}`);throw this.logger.error(o),new Error(o)}return r}checkExpiry(n,r){const{expiry:o}=r;(0,T.toMiliseconds)(o)-Date.now()<=0&&this.expire(n,r)}expire(n,r){this.expirations.delete(n),this.events.emit($r_expired,{target:n,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((n,r)=>this.checkExpiry(r,n))}registerEventListeners(){this.core.heartbeat.on(we.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on("expirer_created",n=>{const r="expirer_created";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:n}),this.persist()}),this.events.on($r_expired,n=>{const r=$r_expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:n}),this.persist()}),this.events.on("expirer_deleted",n=>{const r="expirer_deleted";this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:n}),this.persist()})}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}}class Ud extends ue{constructor(n,r){var o;super(n,r),o=this,this.projectId=n,this.logger=r,this.name=Qo,this.initialized=!1,this.init=function(){var a=(0,b.Z)(function*(u){(0,E.b$)()||!(0,E.jU)()||(o.verifyUrl=u?.verifyUrl||nu,yield o.createIframe())});return function(u){return a.apply(this,arguments)}}(),this.register=function(){var a=(0,b.Z)(function*(u){var h;if(o.initialized||(yield o.init()),o.iframe)try{null==(h=o.iframe.contentWindow)||h.postMessage(u.attestationId,o.verifyUrl),o.logger.info(`postMessage sent: ${u.attestationId} ${o.verifyUrl}`)}catch{}});return function(u){return a.apply(this,arguments)}}(),this.resolve=function(){var a=(0,b.Z)(function*(u){var h;if(o.isDevEnv)return"";o.logger.info(`resolving attestation: ${u.attestationId}`);const P=o.startAbortTimer(T.FIVE_SECONDS),N=yield fetch(`${o.verifyUrl}/attestation/${u.attestationId}`,{signal:o.abortController.signal});return clearTimeout(P),200===N.status?null==(h=yield N.json())?void 0:h.origin:""});return function(u){return a.apply(this,arguments)}}(),this.createIframe=(0,b.Z)(function*(){try{yield Promise.race([new Promise((a,u)=>{if(document.getElementById(Qo))return a();const h=document.createElement("iframe");h.setAttribute("id",Qo),h.setAttribute("src",`${o.verifyUrl}/${o.projectId}`),h.style.display="none",h.addEventListener("load",()=>{o.initialized=!0,a()}),h.addEventListener("error",P=>{u(P)}),document.body.append(h),o.iframe=h}),new Promise(a=>{setTimeout(()=>a("iframe load timeout"),(0,T.toMiliseconds)(T.ONE_SECOND/2))})])}catch(a){o.logger.error(`Verify iframe failed to load: ${o.verifyUrl}`),o.logger.error(a)}}),this.logger=(0,he.generateChildLogger)(r,this.name),this.verifyUrl=nu,this.abortController=new AbortController,this.isDevEnv=(0,E.UG)()&&process.env.IS_VITEST}get context(){return(0,he.getLoggerContext)(this.logger)}startAbortTimer(n){return setTimeout(()=>this.abortController.abort(),(0,T.toMiliseconds)(n))}}var zd=Object.defineProperty,fu=Object.getOwnPropertySymbols,$d=Object.prototype.hasOwnProperty,qd=Object.prototype.propertyIsEnumerable,hu=(y,n,r)=>n in y?zd(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,du=(y,n)=>{for(var r in n||(n={}))$d.call(n,r)&&hu(y,r,n[r]);if(fu)for(var r of fu(n))qd.call(n,r)&&hu(y,r,n[r]);return y};class ta extends ce{constructor(n){super(n),this.protocol="wc",this.version=2,this.name="core",this.events=new ae.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.projectId=n?.projectId,this.relayUrl=n?.relayUrl||tu;const r=typeof n?.logger<"u"&&"string"!=typeof n?.logger?n.logger:(0,he.pino)((0,he.getDefaultLoggerOptions)({level:n?.logger||"error"}));this.logger=(0,he.generateChildLogger)(r,this.name),this.heartbeat=new we.HeartBeat,this.crypto=new vd(this,this.logger,n?.keychain),this.history=new Md(this,this.logger),this.expirer=new Zd(this,this.logger),this.storage=null!=n&&n.storage?n.storage:new X.ZP(du(du({},Vh),n?.storageOptions)),this.relayer=new Dd({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Fd(this,this.logger),this.verify=new Ud(this.projectId||"",this.logger)}static init(n){return(0,b.Z)(function*(){const r=new ta(n);yield r.initialize();const o=yield r.crypto.getClientId();return yield r.storage.setItem("WALLETCONNECT_CLIENT_ID",o),r})()}get context(){return(0,he.getLoggerContext)(this.logger)}start(){var n=this;return(0,b.Z)(function*(){n.initialized||(yield n.initialize())})()}initialize(){var n=this;return(0,b.Z)(function*(){n.logger.trace("Initialized");try{yield n.crypto.init(),yield n.history.init(),yield n.expirer.init(),yield n.relayer.init(),yield n.heartbeat.init(),yield n.pairing.init(),n.initialized=!0,n.logger.info("Core Initialization Success")}catch(r){throw n.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,r),n.logger.error(r.message),r}})()}}const Bd=ta,ra="wc@2:client:",_u="Proposal expired",Ss=T.SEVEN_DAYS,Zi={wc_sessionPropose:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1104},res:{ttl:T.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1106},res:{ttl:T.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1112},res:{ttl:T.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1115}}},ia={min:T.FIVE_MINUTES,max:T.SEVEN_DAYS},Jd=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var Wd=Object.defineProperty,Yd=Object.defineProperties,Xd=Object.getOwnPropertyDescriptors,vu=Object.getOwnPropertySymbols,Qd=Object.prototype.hasOwnProperty,ep=Object.prototype.propertyIsEnumerable,mu=(y,n,r)=>n in y?Wd(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,qr=(y,n)=>{for(var r in n||(n={}))Qd.call(n,r)&&mu(y,r,n[r]);if(vu)for(var r of vu(n))ep.call(n,r)&&mu(y,r,n[r]);return y},sa=(y,n)=>Yd(y,Xd(n));class tp extends p{constructor(n){var r;super(n),r=this,this.name="engine",this.events=new(_e()),this.initialized=!1,this.ignoredPayloadTypes=[E.rV],this.init=(0,b.Z)(function*(){r.initialized||(yield r.cleanup(),r.registerRelayerEvents(),r.registerExpirerEvents(),r.client.core.pairing.register({methods:Object.keys(Zi)}),r.initialized=!0)}),this.connect=function(){var o=(0,b.Z)(function*(a){r.isInitialized();const u=sa(qr({},a),{requiredNamespaces:a.requiredNamespaces||{},optionalNamespaces:a.optionalNamespaces||{}});yield r.isValidConnect(u);const{pairingTopic:h,requiredNamespaces:P,optionalNamespaces:N,sessionProperties:q,relays:Q}=u;let Te,ge=h,Xe=!1;if(ge&&(Xe=r.client.core.pairing.pairings.get(ge).active),!ge||!Xe){const{topic:ft,uri:Ut}=yield r.client.core.pairing.create();ge=ft,Te=Ut}const Ae=yield r.client.core.crypto.generateKeyPair(),rt=qr({requiredNamespaces:P,optionalNamespaces:N,relays:Q??[{protocol:"irn"}],proposer:{publicKey:Ae,metadata:r.client.metadata}},q&&{sessionProperties:q}),{reject:Ye,resolve:wt,done:hr}=(0,E.H1)(T.FIVE_MINUTES,_u);if(r.events.once((0,E.E0)("session_connect"),function(){var ft=(0,b.Z)(function*({error:Ut,session:Qe}){if(Ut)Ye(Ut);else if(Qe){Qe.self.publicKey=Ae;const cr=sa(qr({},Qe),{requiredNamespaces:Qe.requiredNamespaces,optionalNamespaces:Qe.optionalNamespaces});yield r.client.session.set(Qe.topic,cr),yield r.setExpiry(Qe.topic,Qe.expiry),ge&&(yield r.client.core.pairing.updateMetadata({topic:ge,metadata:Qe.peer.metadata})),wt(cr)}});return function(Ut){return ft.apply(this,arguments)}}()),!ge){const{message:ft}=(0,E.Z7)("NO_MATCHING_KEY",`connect() pairing topic: ${ge}`);throw new Error(ft)}const yt=yield r.sendRequest(ge,"wc_sessionPropose",rt),Zt=(0,E.gn)(T.FIVE_MINUTES);return yield r.setProposal(yt,qr({id:yt,expiry:Zt},rt)),{uri:Te,approval:hr}});return function(a){return o.apply(this,arguments)}}(),this.pair=function(){var o=(0,b.Z)(function*(a){return r.isInitialized(),yield r.client.core.pairing.pair(a)});return function(a){return o.apply(this,arguments)}}(),this.approve=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidApprove(a);const{id:u,relayProtocol:h,namespaces:P,sessionProperties:N}=a,q=r.client.proposal.get(u);let{pairingTopic:Q,proposer:ge,requiredNamespaces:Te,optionalNamespaces:Xe}=q;Q=Q||"",(0,E.L5)(Te)||(Te=(0,E.fc)(P,"approve()"));const Ae=yield r.client.core.crypto.generateKeyPair(),rt=ge.publicKey,Ye=yield r.client.core.crypto.generateSharedKey(Ae,rt);Q&&u&&(yield r.client.core.pairing.updateMetadata({topic:Q,metadata:ge.metadata}),yield r.sendResult(u,Q,{relay:{protocol:h??"irn"},responderPublicKey:Ae}),yield r.client.proposal.delete(u,(0,E.D6)("USER_DISCONNECTED")),yield r.client.core.pairing.activate({topic:Q}));const wt=qr({relay:{protocol:h??"irn"},namespaces:P,requiredNamespaces:Te,optionalNamespaces:Xe,pairingTopic:Q,controller:{publicKey:Ae,metadata:r.client.metadata},expiry:(0,E.gn)(Ss)},N&&{sessionProperties:N});yield r.client.core.relayer.subscribe(Ye),yield r.sendRequest(Ye,"wc_sessionSettle",wt);const hr=sa(qr({},wt),{topic:Ye,pairingTopic:Q,acknowledged:!1,self:wt.controller,peer:{publicKey:ge.publicKey,metadata:ge.metadata},controller:Ae});return yield r.client.session.set(Ye,hr),yield r.setExpiry(Ye,(0,E.gn)(Ss)),{topic:Ye,acknowledged:()=>new Promise(yt=>setTimeout(()=>yt(r.client.session.get(Ye)),500))}});return function(a){return o.apply(this,arguments)}}(),this.reject=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidReject(a);const{id:u,reason:h}=a,{pairingTopic:P}=r.client.proposal.get(u);P&&(yield r.sendError(u,P,h),yield r.client.proposal.delete(u,(0,E.D6)("USER_DISCONNECTED")))});return function(a){return o.apply(this,arguments)}}(),this.update=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidUpdate(a);const{topic:u,namespaces:h}=a,P=yield r.sendRequest(u,"wc_sessionUpdate",{namespaces:h}),{done:N,resolve:q,reject:Q}=(0,E.H1)();return r.events.once((0,E.E0)("session_update",P),({error:ge})=>{ge?Q(ge):q()}),yield r.client.session.update(u,{namespaces:h}),{acknowledged:N}});return function(a){return o.apply(this,arguments)}}(),this.extend=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidExtend(a);const{topic:u}=a,h=yield r.sendRequest(u,"wc_sessionExtend",{}),{done:P,resolve:N,reject:q}=(0,E.H1)();return r.events.once((0,E.E0)("session_extend",h),({error:Q})=>{Q?q(Q):N()}),yield r.setExpiry(u,(0,E.gn)(Ss)),{acknowledged:P}});return function(a){return o.apply(this,arguments)}}(),this.request=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidRequest(a);const{chainId:u,request:h,topic:P,expiry:N}=a,q=yield r.sendRequest(P,"wc_sessionRequest",{request:h,chainId:u},N),{done:Q,resolve:ge,reject:Te}=(0,E.H1)(N);r.events.once((0,E.E0)("session_request",q),({error:Ae,result:rt})=>{Ae?Te(Ae):ge(rt)}),r.client.events.emit("session_request_sent",{topic:P,request:h,chainId:u,id:q});const Xe=yield r.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");return(0,E.Hh)({id:q,topic:P,wcDeepLink:Xe}),yield Q()});return function(a){return o.apply(this,arguments)}}(),this.respond=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidRespond(a);const{topic:u,response:h}=a,{id:P}=h;tn(h)?yield r.sendResult(P,u,h.result):Tr(h)&&(yield r.sendError(P,u,h.error)),r.deletePendingSessionRequest(a.response.id,{message:"fulfilled",code:0})});return function(a){return o.apply(this,arguments)}}(),this.ping=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidPing(a);const{topic:u}=a;if(r.client.session.keys.includes(u)){const h=yield r.sendRequest(u,"wc_sessionPing",{}),{done:P,resolve:N,reject:q}=(0,E.H1)();r.events.once((0,E.E0)("session_ping",h),({error:Q})=>{Q?q(Q):N()}),yield P()}else r.client.core.pairing.pairings.keys.includes(u)&&(yield r.client.core.pairing.ping({topic:u}))});return function(a){return o.apply(this,arguments)}}(),this.emit=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidEmit(a);const{topic:u,event:h,chainId:P}=a;yield r.sendRequest(u,"wc_sessionEvent",{event:h,chainId:P})});return function(a){return o.apply(this,arguments)}}(),this.disconnect=function(){var o=(0,b.Z)(function*(a){r.isInitialized(),yield r.isValidDisconnect(a);const{topic:u}=a;if(r.client.session.keys.includes(u)){const h=Dt().toString();let P;const N=q=>{q?.id.toString()===h&&(r.client.core.relayer.events.removeListener("relayer_message_ack",N),P())};yield Promise.all([new Promise(q=>{P=q,r.client.core.relayer.on("relayer_message_ack",N)}),r.sendRequest(u,"wc_sessionDelete",(0,E.D6)("USER_DISCONNECTED"),void 0,h)]),yield r.deleteSession(u)}else yield r.client.core.pairing.disconnect({topic:u})});return function(a){return o.apply(this,arguments)}}(),this.find=o=>(this.isInitialized(),this.client.session.getAll().filter(a=>(0,E.Ih)(a,o))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=function(){var o=(0,b.Z)(function*(a){if(a.pairingTopic)try{const u=r.client.core.pairing.pairings.get(a.pairingTopic),h=r.client.core.pairing.pairings.getAll().filter(P=>{var N,q;return(null==(N=P.peerMetadata)?void 0:N.url)&&(null==(q=P.peerMetadata)?void 0:q.url)===a.peer.metadata.url&&P.topic&&P.topic!==u.topic});if(0===h.length)return;r.client.logger.info(`Cleaning up ${h.length} duplicate pairing(s)`),yield Promise.all(h.map(P=>r.client.core.pairing.disconnect({topic:P.topic}))),r.client.logger.info("Duplicate pairings clean up finished")}catch(u){r.client.logger.error(u)}});return function(a){return o.apply(this,arguments)}}(),this.deleteSession=function(){var o=(0,b.Z)(function*(a,u){const{self:h}=r.client.session.get(a);yield r.client.core.relayer.unsubscribe(a),r.client.session.delete(a,(0,E.D6)("USER_DISCONNECTED")),r.client.core.crypto.keychain.has(h.publicKey)&&(yield r.client.core.crypto.deleteKeyPair(h.publicKey)),r.client.core.crypto.keychain.has(a)&&(yield r.client.core.crypto.deleteSymKey(a)),u||r.client.core.expirer.del(a)});return function(a,u){return o.apply(this,arguments)}}(),this.deleteProposal=function(){var o=(0,b.Z)(function*(a,u){yield Promise.all([r.client.proposal.delete(a,(0,E.D6)("USER_DISCONNECTED")),u?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,u){return o.apply(this,arguments)}}(),this.deletePendingSessionRequest=function(){var o=(0,b.Z)(function*(a,u,h=!1){yield Promise.all([r.client.pendingRequest.delete(a,u),h?Promise.resolve():r.client.core.expirer.del(a)])});return function(a,u){return o.apply(this,arguments)}}(),this.setExpiry=function(){var o=(0,b.Z)(function*(a,u){r.client.session.keys.includes(a)&&(yield r.client.session.update(a,{expiry:u})),r.client.core.expirer.set(a,u)});return function(a,u){return o.apply(this,arguments)}}(),this.setProposal=function(){var o=(0,b.Z)(function*(a,u){yield r.client.proposal.set(a,u),r.client.core.expirer.set(a,u.expiry)});return function(a,u){return o.apply(this,arguments)}}(),this.setPendingSessionRequest=function(){var o=(0,b.Z)(function*(a){const u=Zi.wc_sessionRequest.req.ttl,{id:h,topic:P,params:N}=a;yield r.client.pendingRequest.set(h,{id:h,topic:P,params:N}),u&&r.client.core.expirer.set(h,(0,E.gn)(u))});return function(a){return o.apply(this,arguments)}}(),this.sendRequest=function(){var o=(0,b.Z)(function*(a,u,h,P,N){const q=Rt(u,h);if((0,E.jU)()&&Jd.includes(u)){const Te=(0,E.rj)(JSON.stringify(q));yield r.client.core.verify.register({attestationId:Te})}const Q=yield r.client.core.crypto.encode(a,q),ge=Zi[u].req;return P&&(ge.ttl=P),N&&(ge.id=N),r.client.core.history.set(a,q),r.client.core.relayer.publish(a,Q,ge),q.id});return function(a,u,h,P,N){return o.apply(this,arguments)}}(),this.sendResult=function(){var o=(0,b.Z)(function*(a,u,h){const P=Ct(a,h),N=yield r.client.core.crypto.encode(u,P),q=yield r.client.core.history.get(u,a);r.client.core.relayer.publish(u,N,Zi[q.request.method].res),yield r.client.core.history.resolve(P)});return function(a,u,h){return o.apply(this,arguments)}}(),this.sendError=function(){var o=(0,b.Z)(function*(a,u,h){const P=mt(a,h),N=yield r.client.core.crypto.encode(u,P),q=yield r.client.core.history.get(u,a);r.client.core.relayer.publish(u,N,Zi[q.request.method].res),yield r.client.core.history.resolve(P)});return function(a,u,h){return o.apply(this,arguments)}}(),this.cleanup=(0,b.Z)(function*(){const o=[],a=[];r.client.session.getAll().forEach(u=>{(0,E.Bw)(u.expiry)&&o.push(u.topic)}),r.client.proposal.getAll().forEach(u=>{(0,E.Bw)(u.expiry)&&a.push(u.id)}),yield Promise.all([...o.map(u=>r.deleteSession(u)),...a.map(u=>r.deleteProposal(u))])}),this.onRelayEventRequest=o=>{const{topic:a,payload:u}=o,h=u.method;switch(h){case"wc_sessionPropose":return this.onSessionProposeRequest(a,u);case"wc_sessionSettle":return this.onSessionSettleRequest(a,u);case"wc_sessionUpdate":return this.onSessionUpdateRequest(a,u);case"wc_sessionExtend":return this.onSessionExtendRequest(a,u);case"wc_sessionPing":return this.onSessionPingRequest(a,u);case"wc_sessionDelete":return this.onSessionDeleteRequest(a,u);case"wc_sessionRequest":return this.onSessionRequest(a,u);case"wc_sessionEvent":return this.onSessionEventRequest(a,u);default:return this.client.logger.info(`Unsupported request method ${h}`)}},this.onRelayEventResponse=function(){var o=(0,b.Z)(function*(a){const{topic:u,payload:h}=a,P=(yield r.client.core.history.get(u,h.id)).request.method;switch(P){case"wc_sessionPropose":return r.onSessionProposeResponse(u,h);case"wc_sessionSettle":return r.onSessionSettleResponse(u,h);case"wc_sessionUpdate":return r.onSessionUpdateResponse(u,h);case"wc_sessionExtend":return r.onSessionExtendResponse(u,h);case"wc_sessionPing":return r.onSessionPingResponse(u,h);case"wc_sessionRequest":return r.onSessionRequestResponse(u,h);default:return r.client.logger.info(`Unsupported response method ${P}`)}});return function(a){return o.apply(this,arguments)}}(),this.onRelayEventUnknownPayload=o=>{const{topic:a}=o,{message:u}=(0,E.Z7)("MISSING_OR_INVALID",`Decoded payload on topic ${a} is not identifiable as a JSON-RPC request or a response.`);throw new Error(u)},this.onSessionProposeRequest=function(){var o=(0,b.Z)(function*(a,u){const{params:h,id:P}=u;try{r.isValidConnect(qr({},u.params));const N=(0,E.gn)(T.FIVE_MINUTES),q=qr({id:P,pairingTopic:a,expiry:N},h);yield r.setProposal(P,q);const Q=(0,E.rj)(JSON.stringify(u)),ge=yield r.getVerifyContext(Q,q.proposer.metadata);r.client.events.emit("session_proposal",{id:P,params:q,verifyContext:ge})}catch(N){yield r.sendError(P,a,N),r.client.logger.error(N)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionProposeResponse=function(){var o=(0,b.Z)(function*(a,u){const{id:h}=u;if(tn(u)){const{result:P}=u;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:P});const N=r.client.proposal.get(h);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:N});const q=N.proposer.publicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:q});const Q=P.responderPublicKey;r.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Q});const ge=yield r.client.core.crypto.generateSharedKey(q,Q);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:ge});const Te=yield r.client.core.relayer.subscribe(ge);r.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Te}),yield r.client.core.pairing.activate({topic:a})}else Tr(u)&&(yield r.client.proposal.delete(h,(0,E.D6)("USER_DISCONNECTED")),r.events.emit((0,E.E0)("session_connect"),{error:u.error}))});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionSettleRequest=function(){var o=(0,b.Z)(function*(a,u){const{id:h,params:P}=u;try{r.isValidSessionSettleRequest(P);const{relay:N,controller:q,expiry:Q,namespaces:ge,requiredNamespaces:Te,optionalNamespaces:Xe,sessionProperties:Ae,pairingTopic:rt}=u.params,Ye=qr({topic:a,relay:N,expiry:Q,namespaces:ge,acknowledged:!0,pairingTopic:rt,requiredNamespaces:Te,optionalNamespaces:Xe,controller:q.publicKey,self:{publicKey:"",metadata:r.client.metadata},peer:{publicKey:q.publicKey,metadata:q.metadata}},Ae&&{sessionProperties:Ae});yield r.sendResult(u.id,a,!0),r.events.emit((0,E.E0)("session_connect"),{session:Ye}),r.cleanupDuplicatePairings(Ye)}catch(N){yield r.sendError(h,a,N),r.client.logger.error(N)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionSettleResponse=function(){var o=(0,b.Z)(function*(a,u){const{id:h}=u;tn(u)?(yield r.client.session.update(a,{acknowledged:!0}),r.events.emit((0,E.E0)("session_approve",h),{})):Tr(u)&&(yield r.client.session.delete(a,(0,E.D6)("USER_DISCONNECTED")),r.events.emit((0,E.E0)("session_approve",h),{error:u.error}))});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionUpdateRequest=function(){var o=(0,b.Z)(function*(a,u){const{params:h,id:P}=u;try{r.isValidUpdate(qr({topic:a},h)),yield r.client.session.update(a,{namespaces:h.namespaces}),yield r.sendResult(P,a,!0),r.client.events.emit("session_update",{id:P,topic:a,params:h})}catch(N){yield r.sendError(P,a,N),r.client.logger.error(N)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionUpdateResponse=(o,a)=>{const{id:u}=a;tn(a)?this.events.emit((0,E.E0)("session_update",u),{}):Tr(a)&&this.events.emit((0,E.E0)("session_update",u),{error:a.error})},this.onSessionExtendRequest=function(){var o=(0,b.Z)(function*(a,u){const{id:h}=u;try{r.isValidExtend({topic:a}),yield r.setExpiry(a,(0,E.gn)(Ss)),yield r.sendResult(h,a,!0),r.client.events.emit("session_extend",{id:h,topic:a})}catch(P){yield r.sendError(h,a,P),r.client.logger.error(P)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionExtendResponse=(o,a)=>{const{id:u}=a;tn(a)?this.events.emit((0,E.E0)("session_extend",u),{}):Tr(a)&&this.events.emit((0,E.E0)("session_extend",u),{error:a.error})},this.onSessionPingRequest=function(){var o=(0,b.Z)(function*(a,u){const{id:h}=u;try{r.isValidPing({topic:a}),yield r.sendResult(h,a,!0),r.client.events.emit("session_ping",{id:h,topic:a})}catch(P){yield r.sendError(h,a,P),r.client.logger.error(P)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionPingResponse=(o,a)=>{const{id:u}=a;setTimeout(()=>{tn(a)?this.events.emit((0,E.E0)("session_ping",u),{}):Tr(a)&&this.events.emit((0,E.E0)("session_ping",u),{error:a.error})},500)},this.onSessionDeleteRequest=function(){var o=(0,b.Z)(function*(a,u){const{id:h}=u;try{r.isValidDisconnect({topic:a,reason:u.params}),yield Promise.all([new Promise(P=>{r.client.core.relayer.once("relayer_publish",(0,b.Z)(function*(){P(yield r.deleteSession(a))}))}),r.sendResult(h,a,!0)]),r.client.events.emit("session_delete",{id:h,topic:a})}catch(P){r.client.logger.error(P)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionRequest=function(){var o=(0,b.Z)(function*(a,u){const{id:h,params:P}=u;try{r.isValidRequest(qr({topic:a},P)),yield r.setPendingSessionRequest({id:h,topic:a,params:P});const N=(0,E.rj)(JSON.stringify(u)),q=r.client.session.get(a),Q=yield r.getVerifyContext(N,q.peer.metadata);r.client.events.emit("session_request",{id:h,topic:a,params:P,verifyContext:Q})}catch(N){yield r.sendError(h,a,N),r.client.logger.error(N)}});return function(a,u){return o.apply(this,arguments)}}(),this.onSessionRequestResponse=(o,a)=>{const{id:u}=a;tn(a)?this.events.emit((0,E.E0)("session_request",u),{result:a.result}):Tr(a)&&this.events.emit((0,E.E0)("session_request",u),{error:a.error})},this.onSessionEventRequest=function(){var o=(0,b.Z)(function*(a,u){const{id:h,params:P}=u;try{r.isValidEmit(qr({topic:a},P)),r.client.events.emit("session_event",{id:h,topic:a,params:P})}catch(N){yield r.sendError(h,a,N),r.client.logger.error(N)}});return function(a,u){return o.apply(this,arguments)}}(),this.isValidConnect=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(a)}`);throw new Error(Q)}const{pairingTopic:u,requiredNamespaces:h,optionalNamespaces:P,sessionProperties:N,relays:q}=a;if((0,E.o8)(u)||(yield r.isValidPairingTopic(u)),!(0,E.PM)(q,!0)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`connect() relays: ${q}`);throw new Error(Q)}!(0,E.o8)(h)&&0!==(0,E.L5)(h)&&r.validateNamespaces(h,"requiredNamespaces"),!(0,E.o8)(P)&&0!==(0,E.L5)(P)&&r.validateNamespaces(P,"optionalNamespaces"),(0,E.o8)(N)||r.validateSessionProps(N,"sessionProperties")});return function(a){return o.apply(this,arguments)}}(),this.validateNamespaces=(o,a)=>{const u=(0,E.n)(o,"connect()",a);if(u)throw new Error(u.message)},this.isValidApprove=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a))throw new Error((0,E.Z7)("MISSING_OR_INVALID",`approve() params: ${a}`).message);const{id:u,namespaces:h,relayProtocol:P,sessionProperties:N}=a;yield r.isValidProposalId(u);const q=r.client.proposal.get(u),Q=(0,E.in)(h,"approve()");if(Q)throw new Error(Q.message);const ge=(0,E.rF)(q.requiredNamespaces,h,"approve()");if(ge)throw new Error(ge.message);if(!(0,E.M_)(P,!0)){const{message:Te}=(0,E.Z7)("MISSING_OR_INVALID",`approve() relayProtocol: ${P}`);throw new Error(Te)}(0,E.o8)(N)||r.validateSessionProps(N,"sessionProperties")});return function(a){return o.apply(this,arguments)}}(),this.isValidReject=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:P}=(0,E.Z7)("MISSING_OR_INVALID",`reject() params: ${a}`);throw new Error(P)}const{id:u,reason:h}=a;if(yield r.isValidProposalId(u),!(0,E.$t)(h)){const{message:P}=(0,E.Z7)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(h)}`);throw new Error(P)}});return function(a){return o.apply(this,arguments)}}(),this.isValidSessionSettleRequest=o=>{if(!(0,E.EJ)(o)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${o}`);throw new Error(Q)}const{relay:a,controller:u,namespaces:h,expiry:P}=o;if(!(0,E.Z2)(a)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(Q)}const N=(0,E.Dd)(u,"onSessionSettleRequest()");if(N)throw new Error(N.message);const q=(0,E.in)(h,"onSessionSettleRequest()");if(q)throw new Error(q.message);if((0,E.Bw)(P)){const{message:Q}=(0,E.Z7)("EXPIRED","onSessionSettleRequest()");throw new Error(Q)}},this.isValidUpdate=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`update() params: ${a}`);throw new Error(Q)}const{topic:u,namespaces:h}=a;yield r.isValidSessionTopic(u);const P=r.client.session.get(u),N=(0,E.in)(h,"update()");if(N)throw new Error(N.message);const q=(0,E.rF)(P.requiredNamespaces,h,"update()");if(q)throw new Error(q.message)});return function(a){return o.apply(this,arguments)}}(),this.isValidExtend=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:h}=(0,E.Z7)("MISSING_OR_INVALID",`extend() params: ${a}`);throw new Error(h)}const{topic:u}=a;yield r.isValidSessionTopic(u)});return function(a){return o.apply(this,arguments)}}(),this.isValidRequest=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`request() params: ${a}`);throw new Error(Q)}const{topic:u,request:h,chainId:P,expiry:N}=a;yield r.isValidSessionTopic(u);const{namespaces:q}=r.client.session.get(u);if(!(0,E.p8)(q,P)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`request() chainId: ${P}`);throw new Error(Q)}if(!(0,E.hH)(h)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`request() ${JSON.stringify(h)}`);throw new Error(Q)}if(!(0,E.al)(q,P,h.method)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`request() method: ${h.method}`);throw new Error(Q)}if(N&&!(0,E.ON)(N,ia)){const{message:Q}=(0,E.Z7)("MISSING_OR_INVALID",`request() expiry: ${N}. Expiry must be a number (in seconds) between ${ia.min} and ${ia.max}`);throw new Error(Q)}});return function(a){return o.apply(this,arguments)}}(),this.isValidRespond=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:P}=(0,E.Z7)("MISSING_OR_INVALID",`respond() params: ${a}`);throw new Error(P)}const{topic:u,response:h}=a;if(yield r.isValidSessionTopic(u),!(0,E.JT)(h)){const{message:P}=(0,E.Z7)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(h)}`);throw new Error(P)}});return function(a){return o.apply(this,arguments)}}(),this.isValidPing=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:h}=(0,E.Z7)("MISSING_OR_INVALID",`ping() params: ${a}`);throw new Error(h)}const{topic:u}=a;yield r.isValidSessionOrPairingTopic(u)});return function(a){return o.apply(this,arguments)}}(),this.isValidEmit=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:q}=(0,E.Z7)("MISSING_OR_INVALID",`emit() params: ${a}`);throw new Error(q)}const{topic:u,event:h,chainId:P}=a;yield r.isValidSessionTopic(u);const{namespaces:N}=r.client.session.get(u);if(!(0,E.p8)(N,P)){const{message:q}=(0,E.Z7)("MISSING_OR_INVALID",`emit() chainId: ${P}`);throw new Error(q)}if(!(0,E.nf)(h)){const{message:q}=(0,E.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw new Error(q)}if(!(0,E.sI)(N,P,h.name)){const{message:q}=(0,E.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(h)}`);throw new Error(q)}});return function(a){return o.apply(this,arguments)}}(),this.isValidDisconnect=function(){var o=(0,b.Z)(function*(a){if(!(0,E.EJ)(a)){const{message:h}=(0,E.Z7)("MISSING_OR_INVALID",`disconnect() params: ${a}`);throw new Error(h)}const{topic:u}=a;yield r.isValidSessionOrPairingTopic(u)});return function(a){return o.apply(this,arguments)}}(),this.getVerifyContext=function(){var o=(0,b.Z)(function*(a,u){const h={verified:{verifyUrl:u.verifyUrl||"",validation:"UNKNOWN",origin:u.url||""}};try{const P=yield r.client.core.verify.resolve({attestationId:a,verifyUrl:u.verifyUrl});P&&(h.verified.origin=P,h.verified.validation=P===u.url?"VALID":"INVALID")}catch(P){r.client.logger.error(P)}return r.client.logger.info(`Verify context: ${JSON.stringify(h)}`),h});return function(a,u){return o.apply(this,arguments)}}(),this.validateSessionProps=(o,a)=>{Object.values(o).forEach(u=>{if(!(0,E.M_)(u,!1)){const{message:h}=(0,E.Z7)("MISSING_OR_INVALID",`${a} must be in Record<string, string> format. Received: ${JSON.stringify(u)}`);throw new Error(h)}})}}isInitialized(){if(!this.initialized){const{message:n}=(0,E.Z7)("NOT_INITIALIZED",this.name);throw new Error(n)}}registerRelayerEvents(){var n=this;this.client.core.relayer.on("relayer_message",function(){var r=(0,b.Z)(function*(o){const{topic:a,message:u}=o;if(n.ignoredPayloadTypes.includes(n.client.core.crypto.getPayloadType(u)))return;const h=yield n.client.core.crypto.decode(a,u);Di(h)?(n.client.core.history.set(a,h),n.onRelayEventRequest({topic:a,payload:h})):ui(h)?(yield n.client.core.history.resolve(h),yield n.onRelayEventResponse({topic:a,payload:h}),n.client.core.history.delete(a,h.id)):n.onRelayEventUnknownPayload({topic:a,payload:h})});return function(o){return r.apply(this,arguments)}}())}registerExpirerEvents(){var n=this;this.client.core.expirer.on($r_expired,function(){var r=(0,b.Z)(function*(o){const{topic:a,id:u}=(0,E.iP)(o.target);if(u&&n.client.pendingRequest.keys.includes(u))return yield n.deletePendingSessionRequest(u,(0,E.Z7)("EXPIRED"),!0);a?n.client.session.keys.includes(a)&&(yield n.deleteSession(a,!0),n.client.events.emit("session_expire",{topic:a})):u&&(yield n.deleteProposal(u,!0),n.client.events.emit("proposal_expire",{id:u}))});return function(o){return r.apply(this,arguments)}}())}isValidPairingTopic(n){if(!(0,E.M_)(n,!1)){const{message:r}=(0,E.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(n)){const{message:r}=(0,E.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(r)}if((0,E.Bw)(this.client.core.pairing.pairings.get(n).expiry)){const{message:r}=(0,E.Z7)("EXPIRED",`pairing topic: ${n}`);throw new Error(r)}}isValidSessionTopic(n){var r=this;return(0,b.Z)(function*(){if(!(0,E.M_)(n,!1)){const{message:o}=(0,E.Z7)("MISSING_OR_INVALID",`session topic should be a string: ${n}`);throw new Error(o)}if(!r.client.session.keys.includes(n)){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`session topic doesn't exist: ${n}`);throw new Error(o)}if((0,E.Bw)(r.client.session.get(n).expiry)){yield r.deleteSession(n);const{message:o}=(0,E.Z7)("EXPIRED",`session topic: ${n}`);throw new Error(o)}})()}isValidSessionOrPairingTopic(n){var r=this;return(0,b.Z)(function*(){if(r.client.session.keys.includes(n))yield r.isValidSessionTopic(n);else{if(!r.client.core.pairing.pairings.keys.includes(n)){if((0,E.M_)(n,!1)){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${n}`);throw new Error(o)}{const{message:o}=(0,E.Z7)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${n}`);throw new Error(o)}}r.isValidPairingTopic(n)}})()}isValidProposalId(n){var r=this;return(0,b.Z)(function*(){if(!(0,E.Q0)(n)){const{message:o}=(0,E.Z7)("MISSING_OR_INVALID",`proposal id should be a number: ${n}`);throw new Error(o)}if(!r.client.proposal.keys.includes(n)){const{message:o}=(0,E.Z7)("NO_MATCHING_KEY",`proposal id doesn't exist: ${n}`);throw new Error(o)}if((0,E.Bw)(r.client.proposal.get(n).expiry)){yield r.deleteProposal(n);const{message:o}=(0,E.Z7)("EXPIRED",`proposal id: ${n}`);throw new Error(o)}})()}}class rp extends Is{constructor(n,r){super(n,r,"proposal",ra),this.core=n,this.logger=r}}class np extends Is{constructor(n,r){super(n,r,"session",ra),this.core=n,this.logger=r}}class ip extends Is{constructor(n,r){super(n,r,"request",ra,o=>o.id),this.core=n,this.logger=r}}class oa extends Z{constructor(n){var r;super(n),r=this,this.protocol="wc",this.version=2,this.name="client",this.events=new ae.EventEmitter,this.on=(a,u)=>this.events.on(a,u),this.once=(a,u)=>this.events.once(a,u),this.off=(a,u)=>this.events.off(a,u),this.removeListener=(a,u)=>this.events.removeListener(a,u),this.removeAllListeners=a=>this.events.removeAllListeners(a),this.connect=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.connect(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.pair=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.pair(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.approve=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.approve(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.reject=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.reject(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.update=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.update(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.extend=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.extend(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.request=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.request(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.respond=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.respond(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.ping=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.ping(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.emit=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.emit(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.disconnect=function(){var a=(0,b.Z)(function*(u){try{return yield r.engine.disconnect(u)}catch(h){throw r.logger.error(h.message),h}});return function(u){return a.apply(this,arguments)}}(),this.find=a=>{try{return this.engine.find(a)}catch(u){throw this.logger.error(u.message),u}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(a){throw this.logger.error(a.message),a}},this.name=n?.name||"client",this.metadata=n?.metadata||(0,E.D)();const o=typeof n?.logger<"u"&&"string"!=typeof n?.logger?n.logger:(0,he.pino)((0,he.getDefaultLoggerOptions)({level:n?.logger||"error"}));this.core=n?.core||new Bd(n),this.logger=(0,he.generateChildLogger)(o,this.name),this.session=new np(this.core,this.logger),this.proposal=new rp(this.core,this.logger),this.pendingRequest=new ip(this.core,this.logger),this.engine=new tp(this)}static init(n){return(0,b.Z)(function*(){const r=new oa(n);return yield r.initialize(),r})()}get context(){return(0,he.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}initialize(){var n=this;return(0,b.Z)(function*(){n.logger.trace("Initialized");try{yield n.core.start(),yield n.session.init(),yield n.proposal.init(),yield n.pendingRequest.init(),yield n.engine.init(),n.core.verify.init({verifyUrl:n.metadata.verifyUrl}),n.logger.info("SignClient Initialization Success")}catch(r){throw n.logger.info("SignClient Initialization Failure"),n.logger.error(r.message),r}})()}}var sp=G(8472),bu=G.n(sp);const wu={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Eu{constructor(n,r=!1){if(this.url=n,this.disableProviderPing=r,this.events=new ae.EventEmitter,this.isAvailable=!1,this.registering=!1,!ls(n))throw new Error(`Provided URL is not compatible with HTTP connection: ${n}`);this.url=n,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}off(n,r){this.events.off(n,r)}removeListener(n,r){this.events.removeListener(n,r)}open(n=this.url){var r=this;return(0,b.Z)(function*(){yield r.register(n)})()}close(){var n=this;return(0,b.Z)(function*(){if(!n.isAvailable)throw new Error("Connection already closed");n.onClose()})()}send(n,r){var o=this;return(0,b.Z)(function*(){o.isAvailable||(yield o.register());try{const a=v(n),h=yield(yield bu()(o.url,Object.assign(Object.assign({},wu),{body:a}))).json();o.onPayload({data:h})}catch(a){o.onError(n.id,a)}})()}register(n=this.url){var r=this;return(0,b.Z)(function*(){if(!ls(n))throw new Error(`Provided URL is not compatible with HTTP connection: ${n}`);if(r.registering){const o=r.events.getMaxListeners();return(r.events.listenerCount("register_error")>=o||r.events.listenerCount("open")>=o)&&r.events.setMaxListeners(o+1),new Promise((a,u)=>{r.events.once("register_error",h=>{r.resetMaxListeners(),u(h)}),r.events.once("open",()=>{if(r.resetMaxListeners(),typeof r.isAvailable>"u")return u(new Error("HTTP connection is missing or invalid"));a()})})}r.url=n,r.registering=!0;try{if(!r.disableProviderPing){const o=v({id:1,jsonrpc:"2.0",method:"test",params:[]});yield bu()(n,Object.assign(Object.assign({},wu),{body:o}))}r.onOpen()}catch(o){const a=r.parseError(o);throw r.events.emit("register_error",a),r.onClose(),a}})()}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(n){if(typeof n.data>"u")return;const r="string"==typeof n.data?S(n.data):n.data;this.events.emit("payload",r)}onError(n,r){const o=this.parseError(r),u=mt(n,o.message||o.toString());this.events.emit("payload",u)}parseError(n,r=this.url){return vt(n,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const gi=Eu,Su="wc@2:universal_provider:";var y,n,Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aa={exports:{}};y=aa,n=aa.exports,function(){var r,h="Expected a function",N="__lodash_hash_undefined__",Q="__lodash_placeholder__",Qn=1/0,Un=9007199254740991,bn=4294967295,Qp=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],yi="[object Arguments]",Ns="[object Array]",$i="[object Boolean]",qi="[object Date]",Ls="[object Error]",js="[object Function]",Uu="[object GeneratorFunction]",sn="[object Map]",Bi="[object Number]",Pn="[object Object]",zu="[object Promise]",Hi="[object RegExp]",on="[object Set]",Vi="[object String]",Fs="[object Symbol]",ki="[object WeakMap]",Ki="[object ArrayBuffer]",_i="[object DataView]",da="[object Float32Array]",pa="[object Float64Array]",ga="[object Int8Array]",ya="[object Int16Array]",_a="[object Int32Array]",va="[object Uint8Array]",ma="[object Uint8ClampedArray]",ba="[object Uint16Array]",wa="[object Uint32Array]",og=/\b__p \+= '';/g,ag=/\b(__p \+=) '' \+/g,cg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$u=/&(?:amp|lt|gt|quot|#39);/g,qu=/[&<>"']/g,ug=RegExp($u.source),lg=RegExp(qu.source),fg=/<%-([\s\S]+?)%>/g,hg=/<%([\s\S]+?)%>/g,Bu=/<%=([\s\S]+?)%>/g,dg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pg=/^\w*$/,gg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xa=/[\\^$.*+?()[\]{}|]/g,yg=RegExp(xa.source),Ea=/^\s+/,_g=/\s/,vg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mg=/\{\n\/\* \[wrapped with (.+)\] \*/,bg=/,? & /,wg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xg=/[()=,{}\[\]\/\s]/,Eg=/\\(\\)?/g,Ig=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hu=/\w*$/,Sg=/^[-+]0x[0-9a-f]+$/i,Pg=/^0b[01]+$/i,Og=/^\[object .+?Constructor\]$/,Ag=/^0o[0-7]+$/i,Rg=/^(?:0|[1-9]\d*)$/,Cg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ms=/($^)/,Tg=/['\n\r\u2028\u2029\\]/g,Zs="\\ud800-\\udfff",Vu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ku="\\u2700-\\u27bf",Ku="a-z\\xdf-\\xf6\\xf8-\\xff",Gu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ju="\\ufe0e\\ufe0f",Wu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ug="["+Zs+"]",Yu="["+Wu+"]",Us="["+Vu+"]",Xu="\\d+",zg="["+ku+"]",Qu="["+Ku+"]",el="[^"+Zs+Wu+Xu+ku+Ku+Gu+"]",Sa="\\ud83c[\\udffb-\\udfff]",tl="[^"+Zs+"]",Pa="(?:\\ud83c[\\udde6-\\uddff]){2}",Oa="[\\ud800-\\udbff][\\udc00-\\udfff]",vi="["+Gu+"]",nl="(?:"+Qu+"|"+el+")",qg="(?:"+vi+"|"+el+")",il="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",sl="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ol="(?:"+Us+"|"+Sa+")?",al="["+Ju+"]?",cl=al+ol+"(?:\\u200d(?:"+[tl,Pa,Oa].join("|")+")"+al+ol+")*",kg="(?:"+[zg,Pa,Oa].join("|")+")"+cl,Kg="(?:"+[tl+Us+"?",Us,Pa,Oa,Ug].join("|")+")",Gg=RegExp("['\u2019]","g"),Jg=RegExp(Us,"g"),Aa=RegExp(Sa+"(?="+Sa+")|"+Kg+cl,"g"),Wg=RegExp([vi+"?"+Qu+"+"+il+"(?="+[Yu,vi,"$"].join("|")+")",qg+"+"+sl+"(?="+[Yu,vi+nl,"$"].join("|")+")",vi+"?"+nl+"+"+il,vi+"+"+sl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xu,kg].join("|"),"g"),Yg=RegExp("[\\u200d"+Zs+Vu+Ju+"]"),Xg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ey=-1,xt={};xt[da]=xt[pa]=xt[ga]=xt[ya]=xt[_a]=xt[va]=xt[ma]=xt[ba]=xt[wa]=!0,xt[yi]=xt[Ns]=xt[Ki]=xt[$i]=xt[_i]=xt[qi]=xt[Ls]=xt[js]=xt[sn]=xt[Bi]=xt[Pn]=xt[Hi]=xt[on]=xt[Vi]=xt[ki]=!1;var _t={};_t[yi]=_t[Ns]=_t[Ki]=_t[_i]=_t[$i]=_t[qi]=_t[da]=_t[pa]=_t[ga]=_t[ya]=_t[_a]=_t[sn]=_t[Bi]=_t[Pn]=_t[Hi]=_t[on]=_t[Vi]=_t[Fs]=_t[va]=_t[ma]=_t[ba]=_t[wa]=!0,_t[Ls]=_t[js]=_t[ki]=!1;var iy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sy=parseFloat,oy=parseInt,ul="object"==typeof Ui&&Ui&&Ui.Object===Object&&Ui,ay="object"==typeof self&&self&&self.Object===Object&&self,dr=ul||ay||Function("return this")(),Ra=n&&!n.nodeType&&n,ei=Ra&&y&&!y.nodeType&&y,ll=ei&&ei.exports===Ra,Ca=ll&&ul.process,Hr=function(){try{return ei&&ei.require&&ei.require("util").types||Ca&&Ca.binding&&Ca.binding("util")}catch{}}(),fl=Hr&&Hr.isArrayBuffer,hl=Hr&&Hr.isDate,dl=Hr&&Hr.isMap,pl=Hr&&Hr.isRegExp,gl=Hr&&Hr.isSet,yl=Hr&&Hr.isTypedArray;function Lr(j,K,B){switch(B.length){case 0:return j.call(K);case 1:return j.call(K,B[0]);case 2:return j.call(K,B[0],B[1]);case 3:return j.call(K,B[0],B[1],B[2])}return j.apply(K,B)}function cy(j,K,B,be){for(var Fe=-1,et=null==j?0:j.length;++Fe<et;){var rr=j[Fe];K(be,rr,B(rr),j)}return be}function Vr(j,K){for(var B=-1,be=null==j?0:j.length;++B<be&&!1!==K(j[B],B,j););return j}function uy(j,K){for(var B=null==j?0:j.length;B--&&!1!==K(j[B],B,j););return j}function _l(j,K){for(var B=-1,be=null==j?0:j.length;++B<be;)if(!K(j[B],B,j))return!1;return!0}function zn(j,K){for(var B=-1,be=null==j?0:j.length,Fe=0,et=[];++B<be;){var rr=j[B];K(rr,B,j)&&(et[Fe++]=rr)}return et}function zs(j,K){return!(null==j||!j.length)&&mi(j,K,0)>-1}function Ta(j,K,B){for(var be=-1,Fe=null==j?0:j.length;++be<Fe;)if(B(K,j[be]))return!0;return!1}function It(j,K){for(var B=-1,be=null==j?0:j.length,Fe=Array(be);++B<be;)Fe[B]=K(j[B],B,j);return Fe}function $n(j,K){for(var B=-1,be=K.length,Fe=j.length;++B<be;)j[Fe+B]=K[B];return j}function Da(j,K,B,be){var Fe=-1,et=null==j?0:j.length;for(be&&et&&(B=j[++Fe]);++Fe<et;)B=K(B,j[Fe],Fe,j);return B}function ly(j,K,B,be){var Fe=null==j?0:j.length;for(be&&Fe&&(B=j[--Fe]);Fe--;)B=K(B,j[Fe],Fe,j);return B}function Na(j,K){for(var B=-1,be=null==j?0:j.length;++B<be;)if(K(j[B],B,j))return!0;return!1}var fy=La("length");function vl(j,K,B){var be;return B(j,function(Fe,et,rr){if(K(Fe,et,rr))return be=et,!1}),be}function $s(j,K,B,be){for(var Fe=j.length,et=B+(be?1:-1);be?et--:++et<Fe;)if(K(j[et],et,j))return et;return-1}function mi(j,K,B){return K==K?function Sy(j,K,B){for(var be=B-1,Fe=j.length;++be<Fe;)if(j[be]===K)return be;return-1}(j,K,B):$s(j,ml,B)}function py(j,K,B,be){for(var Fe=B-1,et=j.length;++Fe<et;)if(be(j[Fe],K))return Fe;return-1}function ml(j){return j!=j}function bl(j,K){var B=null==j?0:j.length;return B?Fa(j,K)/B:NaN}function La(j){return function(K){return null==K?r:K[j]}}function ja(j){return function(K){return null==j?r:j[K]}}function wl(j,K,B,be,Fe){return Fe(j,function(et,rr,ht){B=be?(be=!1,et):K(B,et,rr,ht)}),B}function Fa(j,K){for(var B,be=-1,Fe=j.length;++be<Fe;){var et=K(j[be]);et!==r&&(B=B===r?et:B+et)}return B}function Ma(j,K){for(var B=-1,be=Array(j);++B<j;)be[B]=K(B);return be}function xl(j){return j&&j.slice(0,Pl(j)+1).replace(Ea,"")}function jr(j){return function(K){return j(K)}}function Za(j,K){return It(K,function(B){return j[B]})}function Gi(j,K){return j.has(K)}function El(j,K){for(var B=-1,be=j.length;++B<be&&mi(K,j[B],0)>-1;);return B}function Il(j,K){for(var B=j.length;B--&&mi(K,j[B],0)>-1;);return B}var vy=ja({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),my=ja({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function by(j){return"\\"+iy[j]}function bi(j){return Yg.test(j)}function Ua(j){var K=-1,B=Array(j.size);return j.forEach(function(be,Fe){B[++K]=[Fe,be]}),B}function Sl(j,K){return function(B){return j(K(B))}}function qn(j,K){for(var B=-1,be=j.length,Fe=0,et=[];++B<be;){var rr=j[B];(rr===K||rr===Q)&&(j[B]=Q,et[Fe++]=B)}return et}function qs(j){var K=-1,B=Array(j.size);return j.forEach(function(be){B[++K]=be}),B}function wi(j){return bi(j)?function Ay(j){for(var K=Aa.lastIndex=0;Aa.test(j);)++K;return K}(j):fy(j)}function an(j){return bi(j)?function Ry(j){return j.match(Aa)||[]}(j):function hy(j){return j.split("")}(j)}function Pl(j){for(var K=j.length;K--&&_g.test(j.charAt(K)););return K}var Oy=ja({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xi=function j(K){var e,B=(K=null==K?dr:xi.defaults(dr.Object(),K,xi.pick(dr,Qg))).Array,be=K.Date,Fe=K.Error,et=K.Function,rr=K.Math,ht=K.Object,za=K.RegExp,Dy=K.String,kr=K.TypeError,Bs=B.prototype,Ei=ht.prototype,Hs=K["__core-js_shared__"],Vs=et.prototype.toString,st=Ei.hasOwnProperty,Ly=0,Ol=(e=/[^.]+$/.exec(Hs&&Hs.keys&&Hs.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",ks=Ei.toString,jy=Vs.call(ht),Fy=dr._,My=za("^"+Vs.call(st).replace(xa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ks=ll?K.Buffer:r,Bn=K.Symbol,Gs=K.Uint8Array,Al=Ks?Ks.allocUnsafe:r,Js=Sl(ht.getPrototypeOf,ht),Rl=ht.create,Cl=Ei.propertyIsEnumerable,Ws=Bs.splice,Tl=Bn?Bn.isConcatSpreadable:r,Ji=Bn?Bn.iterator:r,ti=Bn?Bn.toStringTag:r,Ys=function(){try{var e=oi(ht,"defineProperty");return e({},"",{}),e}catch{}}(),Zy=K.clearTimeout!==dr.clearTimeout&&K.clearTimeout,Uy=be&&be.now!==dr.Date.now&&be.now,zy=K.setTimeout!==dr.setTimeout&&K.setTimeout,Xs=rr.ceil,Qs=rr.floor,$a=ht.getOwnPropertySymbols,$y=Ks?Ks.isBuffer:r,Dl=K.isFinite,qy=Bs.join,By=Sl(ht.keys,ht),nr=rr.max,vr=rr.min,Hy=be.now,Vy=K.parseInt,Nl=rr.random,ky=Bs.reverse,qa=oi(K,"DataView"),Wi=oi(K,"Map"),Ba=oi(K,"Promise"),Ii=oi(K,"Set"),Yi=oi(K,"WeakMap"),Xi=oi(ht,"create"),eo=Yi&&new Yi,Si={},Ky=ai(qa),Gy=ai(Wi),Jy=ai(Ba),Wy=ai(Ii),Yy=ai(Yi),to=Bn?Bn.prototype:r,Qi=to?to.valueOf:r,Ll=to?to.toString:r;function w(e){if(Lt(e)&&!Ze(e)&&!(e instanceof Ke)){if(e instanceof Kr)return e;if(st.call(e,"__wrapped__"))return Ff(e)}return new Kr(e)}var Pi=function(){function e(){}return function(t){if(!Tt(t))return{};if(Rl)return Rl(t);e.prototype=t;var s=new e;return e.prototype=r,s}}();function ro(){}function Kr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Ke(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bn,this.__views__=[]}function ri(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function On(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function An(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var l=e[t];this.set(l[0],l[1])}}function ni(e){var t=-1,s=null==e?0:e.length;for(this.__data__=new An;++t<s;)this.add(e[t])}function cn(e){var t=this.__data__=new On(e);this.size=t.size}function jl(e,t){var s=Ze(e),l=!s&&ci(e),g=!s&&!l&&Gn(e),I=!s&&!l&&!g&&Ci(e),R=s||l||g||I,C=R?Ma(e.length,Dy):[],F=C.length;for(var Y in e)(t||st.call(e,Y))&&(!R||!("length"==Y||g&&("offset"==Y||"parent"==Y)||I&&("buffer"==Y||"byteLength"==Y||"byteOffset"==Y)||Dn(Y,F)))&&C.push(Y);return C}function Fl(e){var t=e.length;return t?e[ec(0,t-1)]:r}function E0(e,t){return _o(Or(e),ii(t,0,e.length))}function I0(e){return _o(Or(e))}function Ha(e,t,s){(s!==r&&!un(e[t],s)||s===r&&!(t in e))&&Rn(e,t,s)}function es(e,t,s){var l=e[t];(!st.call(e,t)||!un(l,s)||s===r&&!(t in e))&&Rn(e,t,s)}function no(e,t){for(var s=e.length;s--;)if(un(e[s][0],t))return s;return-1}function S0(e,t,s,l){return Hn(e,function(g,I,R){t(l,g,s(g),R)}),l}function Ml(e,t){return e&&xn(t,ur(t),e)}function Rn(e,t,s){"__proto__"==t&&Ys?Ys(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Va(e,t){for(var s=-1,l=t.length,g=B(l),I=null==e;++s<l;)g[s]=I?r:Sc(e,t[s]);return g}function ii(e,t,s){return e==e&&(s!==r&&(e=e<=s?e:s),t!==r&&(e=e>=t?e:t)),e}function Gr(e,t,s,l,g,I){var R,C=1&t,F=2&t,Y=4&t;if(s&&(R=g?s(e,l,g,I):s(e)),R!==r)return R;if(!Tt(e))return e;var ee=Ze(e);if(ee){if(R=function p_(e){var t=e.length,s=new e.constructor(t);return t&&"string"==typeof e[0]&&st.call(e,"index")&&(s.index=e.index,s.input=e.input),s}(e),!C)return Or(e,R)}else{var oe=mr(e),ye=oe==js||oe==Uu;if(Gn(e))return cf(e,C);if(oe==Pn||oe==yi||ye&&!g){if(R=F||ye?{}:Of(e),!C)return F?function n_(e,t){return xn(e,Sf(e),t)}(e,function P0(e,t){return e&&xn(t,Rr(t),e)}(R,e)):function r_(e,t){return xn(e,pc(e),t)}(e,Ml(R,e))}else{if(!_t[oe])return g?e:{};R=function g_(e,t,s){var l=e.constructor;switch(t){case Ki:return ac(e);case $i:case qi:return new l(+e);case _i:return function X0(e,t){var s=t?ac(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}(e,s);case da:case pa:case ga:case ya:case _a:case va:case ma:case ba:case wa:return uf(e,s);case sn:return new l;case Bi:case Vi:return new l(e);case Hi:return function Q0(e){var t=new e.constructor(e.source,Hu.exec(e));return t.lastIndex=e.lastIndex,t}(e);case on:return new l;case Fs:return function e_(e){return Qi?ht(Qi.call(e)):{}}(e)}}(e,oe,C)}}I||(I=new cn);var xe=I.get(e);if(xe)return xe;I.set(e,R),rh(e)?e.forEach(function(Ce){R.add(Gr(Ce,t,s,Ce,e,I))}):eh(e)&&e.forEach(function(Ce,Ve){R.set(Ve,Gr(Ce,t,s,Ve,e,I))});var qe=ee?r:(Y?F?fc:lc:F?Rr:ur)(e);return Vr(qe||e,function(Ce,Ve){qe&&(Ce=e[Ve=Ce]),es(R,Ve,Gr(Ce,t,s,Ve,e,I))}),R}function Zl(e,t,s){var l=s.length;if(null==e)return!l;for(e=ht(e);l--;){var g=s[l],R=e[g];if(R===r&&!(g in e)||!(0,t[g])(R))return!1}return!0}function Ul(e,t,s){if("function"!=typeof e)throw new kr(h);return as(function(){e.apply(r,s)},t)}function ts(e,t,s,l){var g=-1,I=zs,R=!0,C=e.length,F=[],Y=t.length;if(!C)return F;s&&(t=It(t,jr(s))),l?(I=Ta,R=!1):t.length>=200&&(I=Gi,R=!1,t=new ni(t));e:for(;++g<C;){var ee=e[g],oe=null==s?ee:s(ee);if(ee=l||0!==ee?ee:0,R&&oe==oe){for(var ye=Y;ye--;)if(t[ye]===oe)continue e;F.push(ee)}else I(t,oe,l)||F.push(ee)}return F}w.templateSettings={escape:fg,evaluate:hg,interpolate:Bu,variable:"",imports:{_:w}},(w.prototype=ro.prototype).constructor=w,(Kr.prototype=Pi(ro.prototype)).constructor=Kr,(Ke.prototype=Pi(ro.prototype)).constructor=Ke,ri.prototype.clear=function t0(){this.__data__=Xi?Xi(null):{},this.size=0},ri.prototype.delete=function r0(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ri.prototype.get=function n0(e){var t=this.__data__;if(Xi){var s=t[e];return s===N?r:s}return st.call(t,e)?t[e]:r},ri.prototype.has=function i0(e){var t=this.__data__;return Xi?t[e]!==r:st.call(t,e)},ri.prototype.set=function s0(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Xi&&t===r?N:t,this},On.prototype.clear=function o0(){this.__data__=[],this.size=0},On.prototype.delete=function a0(e){var t=this.__data__,s=no(t,e);return!(s<0||(s==t.length-1?t.pop():Ws.call(t,s,1),--this.size,0))},On.prototype.get=function c0(e){var t=this.__data__,s=no(t,e);return s<0?r:t[s][1]},On.prototype.has=function u0(e){return no(this.__data__,e)>-1},On.prototype.set=function l0(e,t){var s=this.__data__,l=no(s,e);return l<0?(++this.size,s.push([e,t])):s[l][1]=t,this},An.prototype.clear=function f0(){this.size=0,this.__data__={hash:new ri,map:new(Wi||On),string:new ri}},An.prototype.delete=function h0(e){var t=yo(this,e).delete(e);return this.size-=t?1:0,t},An.prototype.get=function d0(e){return yo(this,e).get(e)},An.prototype.has=function p0(e){return yo(this,e).has(e)},An.prototype.set=function g0(e,t){var s=yo(this,e),l=s.size;return s.set(e,t),this.size+=s.size==l?0:1,this},ni.prototype.add=ni.prototype.push=function y0(e){return this.__data__.set(e,N),this},ni.prototype.has=function _0(e){return this.__data__.has(e)},cn.prototype.clear=function v0(){this.__data__=new On,this.size=0},cn.prototype.delete=function m0(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s},cn.prototype.get=function b0(e){return this.__data__.get(e)},cn.prototype.has=function w0(e){return this.__data__.has(e)},cn.prototype.set=function x0(e,t){var s=this.__data__;if(s instanceof On){var l=s.__data__;if(!Wi||l.length<199)return l.push([e,t]),this.size=++s.size,this;s=this.__data__=new An(l)}return s.set(e,t),this.size=s.size,this};var Hn=df(wn),zl=df(Ka,!0);function A0(e,t){var s=!0;return Hn(e,function(l,g,I){return s=!!t(l,g,I)}),s}function io(e,t,s){for(var l=-1,g=e.length;++l<g;){var I=e[l],R=t(I);if(null!=R&&(C===r?R==R&&!Mr(R):s(R,C)))var C=R,F=I}return F}function $l(e,t){var s=[];return Hn(e,function(l,g,I){t(l,g,I)&&s.push(l)}),s}function pr(e,t,s,l,g){var I=-1,R=e.length;for(s||(s=__),g||(g=[]);++I<R;){var C=e[I];t>0&&s(C)?t>1?pr(C,t-1,s,l,g):$n(g,C):l||(g[g.length]=C)}return g}var ka=pf(),ql=pf(!0);function wn(e,t){return e&&ka(e,t,ur)}function Ka(e,t){return e&&ql(e,t,ur)}function so(e,t){return zn(t,function(s){return Nn(e[s])})}function si(e,t){for(var s=0,l=(t=kn(t,e)).length;null!=e&&s<l;)e=e[En(t[s++])];return s&&s==l?e:r}function Bl(e,t,s){var l=t(e);return Ze(e)?l:$n(l,s(e))}function Er(e){return null==e?e===r?"[object Undefined]":"[object Null]":ti&&ti in ht(e)?function f_(e){var t=st.call(e,ti),s=e[ti];try{e[ti]=r;var l=!0}catch{}var g=ks.call(e);return l&&(t?e[ti]=s:delete e[ti]),g}(e):function I_(e){return ks.call(e)}(e)}function Ga(e,t){return e>t}function C0(e,t){return null!=e&&st.call(e,t)}function T0(e,t){return null!=e&&t in ht(e)}function Ja(e,t,s){for(var l=s?Ta:zs,g=e[0].length,I=e.length,R=I,C=B(I),F=1/0,Y=[];R--;){var ee=e[R];R&&t&&(ee=It(ee,jr(t))),F=vr(ee.length,F),C[R]=!s&&(t||g>=120&&ee.length>=120)?new ni(R&&ee):r}ee=e[0];var oe=-1,ye=C[0];e:for(;++oe<g&&Y.length<F;){var xe=ee[oe],Re=t?t(xe):xe;if(xe=s||0!==xe?xe:0,!(ye?Gi(ye,Re):l(Y,Re,s))){for(R=I;--R;){var qe=C[R];if(!(qe?Gi(qe,Re):l(e[R],Re,s)))continue e}ye&&ye.push(Re),Y.push(xe)}}return Y}function rs(e,t,s){var l=null==(e=Tf(e,t=kn(t,e)))?e:e[En(Wr(t))];return null==l?r:Lr(l,e,s)}function Hl(e){return Lt(e)&&Er(e)==yi}function ns(e,t,s,l,g){return e===t||(null==e||null==t||!Lt(e)&&!Lt(t)?e!=e&&t!=t:function F0(e,t,s,l,g,I){var R=Ze(e),C=Ze(t),F=R?Ns:mr(e),Y=C?Ns:mr(t),ee=(F=F==yi?Pn:F)==Pn,oe=(Y=Y==yi?Pn:Y)==Pn,ye=F==Y;if(ye&&Gn(e)){if(!Gn(t))return!1;R=!0,ee=!1}if(ye&&!ee)return I||(I=new cn),R||Ci(e)?If(e,t,s,l,g,I):function u_(e,t,s,l,g,I,R){switch(s){case _i:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ki:return!(e.byteLength!=t.byteLength||!I(new Gs(e),new Gs(t)));case $i:case qi:case Bi:return un(+e,+t);case Ls:return e.name==t.name&&e.message==t.message;case Hi:case Vi:return e==t+"";case sn:var C=Ua;case on:if(C||(C=qs),e.size!=t.size&&!(1&l))return!1;var Y=R.get(e);if(Y)return Y==t;l|=2,R.set(e,t);var ee=If(C(e),C(t),l,g,I,R);return R.delete(e),ee;case Fs:if(Qi)return Qi.call(e)==Qi.call(t)}return!1}(e,t,F,s,l,g,I);if(!(1&s)){var xe=ee&&st.call(e,"__wrapped__"),Re=oe&&st.call(t,"__wrapped__");if(xe||Re){var qe=xe?e.value():e,Ce=Re?t.value():t;return I||(I=new cn),g(qe,Ce,s,l,I)}}return!!ye&&(I||(I=new cn),function l_(e,t,s,l,g,I){var R=1&s,C=lc(e),F=C.length;if(F!=lc(t).length&&!R)return!1;for(var oe=F;oe--;){var ye=C[oe];if(!(R?ye in t:st.call(t,ye)))return!1}var xe=I.get(e),Re=I.get(t);if(xe&&Re)return xe==t&&Re==e;var qe=!0;I.set(e,t),I.set(t,e);for(var Ce=R;++oe<F;){var Ve=e[ye=C[oe]],Je=t[ye];if(l)var Zr=R?l(Je,Ve,ye,t,e,I):l(Ve,Je,ye,e,t,I);if(!(Zr===r?Ve===Je||g(Ve,Je,s,l,I):Zr)){qe=!1;break}Ce||(Ce="constructor"==ye)}if(qe&&!Ce){var Sr=e.constructor,Ur=t.constructor;Sr!=Ur&&"constructor"in e&&"constructor"in t&&!("function"==typeof Sr&&Sr instanceof Sr&&"function"==typeof Ur&&Ur instanceof Ur)&&(qe=!1)}return I.delete(e),I.delete(t),qe}(e,t,s,l,g,I))}(e,t,s,l,ns,g))}function Wa(e,t,s,l){var g=s.length,I=g,R=!l;if(null==e)return!I;for(e=ht(e);g--;){var C=s[g];if(R&&C[2]?C[1]!==e[C[0]]:!(C[0]in e))return!1}for(;++g<I;){var F=(C=s[g])[0],Y=e[F],ee=C[1];if(R&&C[2]){if(Y===r&&!(F in e))return!1}else{var oe=new cn;if(l)var ye=l(Y,ee,F,e,t,oe);if(!(ye===r?ns(ee,Y,3,l,oe):ye))return!1}}return!0}function Vl(e){return!(!Tt(e)||function m_(e){return!!Ol&&Ol in e}(e))&&(Nn(e)?My:Og).test(ai(e))}function kl(e){return"function"==typeof e?e:null==e?Cr:"object"==typeof e?Ze(e)?Jl(e[0],e[1]):Gl(e):gh(e)}function Ya(e){if(!os(e))return By(e);var t=[];for(var s in ht(e))st.call(e,s)&&"constructor"!=s&&t.push(s);return t}function Xa(e,t){return e<t}function Kl(e,t){var s=-1,l=Ar(e)?B(e.length):[];return Hn(e,function(g,I,R){l[++s]=t(g,I,R)}),l}function Gl(e){var t=dc(e);return 1==t.length&&t[0][2]?Rf(t[0][0],t[0][1]):function(s){return s===e||Wa(s,e,t)}}function Jl(e,t){return gc(e)&&Af(t)?Rf(En(e),t):function(s){var l=Sc(s,e);return l===r&&l===t?Pc(s,e):ns(t,l,3)}}function oo(e,t,s,l,g){e!==t&&ka(t,function(I,R){if(g||(g=new cn),Tt(I))!function q0(e,t,s,l,g,I,R){var C=_c(e,s),F=_c(t,s),Y=R.get(F);if(Y)Ha(e,s,Y);else{var ee=I?I(C,F,s+"",e,t,R):r,oe=ee===r;if(oe){var ye=Ze(F),xe=!ye&&Gn(F),Re=!ye&&!xe&&Ci(F);ee=F,ye||xe||Re?Ze(C)?ee=C:zt(C)?ee=Or(C):xe?(oe=!1,ee=cf(F,!0)):Re?(oe=!1,ee=uf(F,!0)):ee=[]:cs(F)||ci(F)?(ee=C,ci(C)?ee=sh(C):(!Tt(C)||Nn(C))&&(ee=Of(F))):oe=!1}oe&&(R.set(F,ee),g(ee,F,l,I,R),R.delete(F)),Ha(e,s,ee)}}(e,t,R,s,oo,l,g);else{var C=l?l(_c(e,R),I,R+"",e,t,g):r;C===r&&(C=I),Ha(e,R,C)}},Rr)}function Wl(e,t){var s=e.length;if(s)return Dn(t+=t<0?s:0,s)?e[t]:r}function Yl(e,t,s){t=t.length?It(t,function(I){return Ze(I)?function(R){return si(R,1===I.length?I[0]:I)}:I}):[Cr];var l=-1;return t=It(t,jr(Oe())),function gy(j,K){var B=j.length;for(j.sort(K);B--;)j[B]=j[B].value;return j}(Kl(e,function(I,R,C){return{criteria:It(t,function(Y){return Y(I)}),index:++l,value:I}}),function(I,R){return function t_(e,t,s){for(var l=-1,g=e.criteria,I=t.criteria,R=g.length,C=s.length;++l<R;){var F=lf(g[l],I[l]);if(F)return l>=C?F:F*("desc"==s[l]?-1:1)}return e.index-t.index}(I,R,s)})}function Xl(e,t,s){for(var l=-1,g=t.length,I={};++l<g;){var R=t[l],C=si(e,R);s(C,R)&&is(I,kn(R,e),C)}return I}function Qa(e,t,s,l){var g=l?py:mi,I=-1,R=t.length,C=e;for(e===t&&(t=Or(t)),s&&(C=It(e,jr(s)));++I<R;)for(var F=0,Y=t[I],ee=s?s(Y):Y;(F=g(C,ee,F,l))>-1;)C!==e&&Ws.call(C,F,1),Ws.call(e,F,1);return e}function Ql(e,t){for(var s=e?t.length:0,l=s-1;s--;){var g=t[s];if(s==l||g!==I){var I=g;Dn(g)?Ws.call(e,g,1):nc(e,g)}}return e}function ec(e,t){return e+Qs(Nl()*(t-e+1))}function tc(e,t){var s="";if(!e||t<1||t>Un)return s;do{t%2&&(s+=e),(t=Qs(t/2))&&(e+=e)}while(t);return s}function Be(e,t){return vc(Cf(e,t,Cr),e+"")}function k0(e){return Fl(Ti(e))}function K0(e,t){var s=Ti(e);return _o(s,ii(t,0,s.length))}function is(e,t,s,l){if(!Tt(e))return e;for(var g=-1,I=(t=kn(t,e)).length,R=I-1,C=e;null!=C&&++g<I;){var F=En(t[g]),Y=s;if("__proto__"===F||"constructor"===F||"prototype"===F)return e;if(g!=R){var ee=C[F];(Y=l?l(ee,F,C):r)===r&&(Y=Tt(ee)?ee:Dn(t[g+1])?[]:{})}es(C,F,Y),C=C[F]}return e}var ef=eo?function(e,t){return eo.set(e,t),e}:Cr,G0=Ys?function(e,t){return Ys(e,"toString",{configurable:!0,enumerable:!1,value:Ac(t),writable:!0})}:Cr;function J0(e){return _o(Ti(e))}function Jr(e,t,s){var l=-1,g=e.length;t<0&&(t=-t>g?0:g+t),(s=s>g?g:s)<0&&(s+=g),g=t>s?0:s-t>>>0,t>>>=0;for(var I=B(g);++l<g;)I[l]=e[l+t];return I}function W0(e,t){var s;return Hn(e,function(l,g,I){return!(s=t(l,g,I))}),!!s}function ao(e,t,s){var l=0,g=null==e?l:e.length;if("number"==typeof t&&t==t&&g<=2147483647){for(;l<g;){var I=l+g>>>1,R=e[I];null!==R&&!Mr(R)&&(s?R<=t:R<t)?l=I+1:g=I}return g}return rc(e,t,Cr,s)}function rc(e,t,s,l){var g=0,I=null==e?0:e.length;if(0===I)return 0;for(var R=(t=s(t))!=t,C=null===t,F=Mr(t),Y=t===r;g<I;){var ee=Qs((g+I)/2),oe=s(e[ee]),ye=oe!==r,xe=null===oe,Re=oe==oe,qe=Mr(oe);if(R)var Ce=l||Re;else Ce=Y?Re&&(l||ye):C?Re&&ye&&(l||!xe):F?Re&&ye&&!xe&&(l||!qe):!xe&&!qe&&(l?oe<=t:oe<t);Ce?g=ee+1:I=ee}return vr(I,4294967294)}function tf(e,t){for(var s=-1,l=e.length,g=0,I=[];++s<l;){var R=e[s],C=t?t(R):R;if(!s||!un(C,F)){var F=C;I[g++]=0===R?0:R}}return I}function rf(e){return"number"==typeof e?e:Mr(e)?NaN:+e}function Fr(e){if("string"==typeof e)return e;if(Ze(e))return It(e,Fr)+"";if(Mr(e))return Ll?Ll.call(e):"";var t=e+"";return"0"==t&&1/e==-Qn?"-0":t}function Vn(e,t,s){var l=-1,g=zs,I=e.length,R=!0,C=[],F=C;if(s)R=!1,g=Ta;else if(I>=200){var Y=t?null:a_(e);if(Y)return qs(Y);R=!1,g=Gi,F=new ni}else F=t?[]:C;e:for(;++l<I;){var ee=e[l],oe=t?t(ee):ee;if(ee=s||0!==ee?ee:0,R&&oe==oe){for(var ye=F.length;ye--;)if(F[ye]===oe)continue e;t&&F.push(oe),C.push(ee)}else g(F,oe,s)||(F!==C&&F.push(oe),C.push(ee))}return C}function nc(e,t){return null==(e=Tf(e,t=kn(t,e)))||delete e[En(Wr(t))]}function nf(e,t,s,l){return is(e,t,s(si(e,t)),l)}function co(e,t,s,l){for(var g=e.length,I=l?g:-1;(l?I--:++I<g)&&t(e[I],I,e););return s?Jr(e,l?0:I,l?I+1:g):Jr(e,l?I+1:0,l?g:I)}function sf(e,t){var s=e;return s instanceof Ke&&(s=s.value()),Da(t,function(l,g){return g.func.apply(g.thisArg,$n([l],g.args))},s)}function ic(e,t,s){var l=e.length;if(l<2)return l?Vn(e[0]):[];for(var g=-1,I=B(l);++g<l;)for(var R=e[g],C=-1;++C<l;)C!=g&&(I[g]=ts(I[g]||R,e[C],t,s));return Vn(pr(I,1),t,s)}function of(e,t,s){for(var l=-1,g=e.length,I=t.length,R={};++l<g;)s(R,e[l],l<I?t[l]:r);return R}function sc(e){return zt(e)?e:[]}function oc(e){return"function"==typeof e?e:Cr}function kn(e,t){return Ze(e)?e:gc(e,t)?[e]:jf(nt(e))}var Y0=Be;function Kn(e,t,s){var l=e.length;return s=s===r?l:s,!t&&s>=l?e:Jr(e,t,s)}var af=Zy||function(e){return dr.clearTimeout(e)};function cf(e,t){if(t)return e.slice();var s=e.length,l=Al?Al(s):new e.constructor(s);return e.copy(l),l}function ac(e){var t=new e.constructor(e.byteLength);return new Gs(t).set(new Gs(e)),t}function uf(e,t){var s=t?ac(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function lf(e,t){if(e!==t){var s=e!==r,l=null===e,g=e==e,I=Mr(e),R=t!==r,C=null===t,F=t==t,Y=Mr(t);if(!C&&!Y&&!I&&e>t||I&&R&&F&&!C&&!Y||l&&R&&F||!s&&F||!g)return 1;if(!l&&!I&&!Y&&e<t||Y&&s&&g&&!l&&!I||C&&s&&g||!R&&g||!F)return-1}return 0}function ff(e,t,s,l){for(var g=-1,I=e.length,R=s.length,C=-1,F=t.length,Y=nr(I-R,0),ee=B(F+Y),oe=!l;++C<F;)ee[C]=t[C];for(;++g<R;)(oe||g<I)&&(ee[s[g]]=e[g]);for(;Y--;)ee[C++]=e[g++];return ee}function hf(e,t,s,l){for(var g=-1,I=e.length,R=-1,C=s.length,F=-1,Y=t.length,ee=nr(I-C,0),oe=B(ee+Y),ye=!l;++g<ee;)oe[g]=e[g];for(var xe=g;++F<Y;)oe[xe+F]=t[F];for(;++R<C;)(ye||g<I)&&(oe[xe+s[R]]=e[g++]);return oe}function Or(e,t){var s=-1,l=e.length;for(t||(t=B(l));++s<l;)t[s]=e[s];return t}function xn(e,t,s,l){var g=!s;s||(s={});for(var I=-1,R=t.length;++I<R;){var C=t[I],F=l?l(s[C],e[C],C,s,e):r;F===r&&(F=e[C]),g?Rn(s,C,F):es(s,C,F)}return s}function uo(e,t){return function(s,l){var g=Ze(s)?cy:S0,I=t?t():{};return g(s,e,Oe(l,2),I)}}function Oi(e){return Be(function(t,s){var l=-1,g=s.length,I=g>1?s[g-1]:r,R=g>2?s[2]:r;for(I=e.length>3&&"function"==typeof I?(g--,I):r,R&&Ir(s[0],s[1],R)&&(I=g<3?r:I,g=1),t=ht(t);++l<g;){var C=s[l];C&&e(t,C,l,I)}return t})}function df(e,t){return function(s,l){if(null==s)return s;if(!Ar(s))return e(s,l);for(var g=s.length,I=t?g:-1,R=ht(s);(t?I--:++I<g)&&!1!==l(R[I],I,R););return s}}function pf(e){return function(t,s,l){for(var g=-1,I=ht(t),R=l(t),C=R.length;C--;){var F=R[e?C:++g];if(!1===s(I[F],F,I))break}return t}}function gf(e){return function(t){var s=bi(t=nt(t))?an(t):r,l=s?s[0]:t.charAt(0),g=s?Kn(s,1).join(""):t.slice(1);return l[e]()+g}}function Ai(e){return function(t){return Da(dh(hh(t).replace(Gg,"")),e,"")}}function ss(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=Pi(e.prototype),l=e.apply(s,t);return Tt(l)?l:s}}function yf(e){return function(t,s,l){var g=ht(t);if(!Ar(t)){var I=Oe(s,3);t=ur(t),s=function(C){return I(g[C],C,g)}}var R=e(t,s,l);return R>-1?g[I?t[R]:R]:r}}function _f(e){return Tn(function(t){var s=t.length,l=s,g=Kr.prototype.thru;for(e&&t.reverse();l--;){var I=t[l];if("function"!=typeof I)throw new kr(h);if(g&&!R&&"wrapper"==go(I))var R=new Kr([],!0)}for(l=R?l:s;++l<s;){var C=go(I=t[l]),F="wrapper"==C?hc(I):r;R=F&&yc(F[0])&&424==F[1]&&!F[4].length&&1==F[9]?R[go(F[0])].apply(R,F[3]):1==I.length&&yc(I)?R[C]():R.thru(I)}return function(){var Y=arguments,ee=Y[0];if(R&&1==Y.length&&Ze(ee))return R.plant(ee).value();for(var oe=0,ye=s?t[oe].apply(this,Y):ee;++oe<s;)ye=t[oe].call(this,ye);return ye}})}function lo(e,t,s,l,g,I,R,C,F,Y){var ee=128&t,oe=1&t,ye=2&t,xe=24&t,Re=512&t,qe=ye?r:ss(e);return function Ce(){for(var Ve=arguments.length,Je=B(Ve),Zr=Ve;Zr--;)Je[Zr]=arguments[Zr];if(xe)var Sr=Ri(Ce),Ur=function _y(j,K){for(var B=j.length,be=0;B--;)j[B]===K&&++be;return be}(Je,Sr);if(l&&(Je=ff(Je,l,g,xe)),I&&(Je=hf(Je,I,R,xe)),Ve-=Ur,xe&&Ve<Y){var $t=qn(Je,Sr);return bf(e,t,lo,Ce.placeholder,s,Je,$t,C,F,Y-Ve)}var ln=oe?s:this,jn=ye?ln[e]:e;return Ve=Je.length,C?Je=function S_(e,t){for(var s=e.length,l=vr(t.length,s),g=Or(e);l--;){var I=t[l];e[l]=Dn(I,s)?g[I]:r}return e}(Je,C):Re&&Ve>1&&Je.reverse(),ee&&F<Ve&&(Je.length=F),this&&this!==dr&&this instanceof Ce&&(jn=qe||ss(jn)),jn.apply(ln,Je)}}function vf(e,t){return function(s,l){return function N0(e,t,s,l){return wn(e,function(g,I,R){t(l,s(g),I,R)}),l}(s,e,t(l),{})}}function fo(e,t){return function(s,l){var g;if(s===r&&l===r)return t;if(s!==r&&(g=s),l!==r){if(g===r)return l;"string"==typeof s||"string"==typeof l?(s=Fr(s),l=Fr(l)):(s=rf(s),l=rf(l)),g=e(s,l)}return g}}function cc(e){return Tn(function(t){return t=It(t,jr(Oe())),Be(function(s){var l=this;return e(t,function(g){return Lr(g,l,s)})})})}function ho(e,t){var s=(t=t===r?" ":Fr(t)).length;if(s<2)return s?tc(t,e):t;var l=tc(t,Xs(e/wi(t)));return bi(t)?Kn(an(l),0,e).join(""):l.slice(0,e)}function mf(e){return function(t,s,l){return l&&"number"!=typeof l&&Ir(t,s,l)&&(s=l=r),t=Ln(t),s===r?(s=t,t=0):s=Ln(s),function V0(e,t,s,l){for(var g=-1,I=nr(Xs((t-e)/(s||1)),0),R=B(I);I--;)R[l?I:++g]=e,e+=s;return R}(t,s,l=l===r?t<s?1:-1:Ln(l),e)}}function po(e){return function(t,s){return"string"==typeof t&&"string"==typeof s||(t=Yr(t),s=Yr(s)),e(t,s)}}function bf(e,t,s,l,g,I,R,C,F,Y){var ee=8&t;t|=ee?32:64,4&(t&=~(ee?64:32))||(t&=-4);var qe=[e,t,g,ee?I:r,ee?R:r,ee?r:I,ee?r:R,C,F,Y],Ce=s.apply(r,qe);return yc(e)&&Df(Ce,qe),Ce.placeholder=l,Nf(Ce,e,t)}function uc(e){var t=rr[e];return function(s,l){if(s=Yr(s),(l=null==l?0:vr(ze(l),292))&&Dl(s)){var g=(nt(s)+"e").split("e");return+((g=(nt(t(g[0]+"e"+(+g[1]+l)))+"e").split("e"))[0]+"e"+(+g[1]-l))}return t(s)}}var a_=Ii&&1/qs(new Ii([,-0]))[1]==Qn?function(e){return new Ii(e)}:Tc;function wf(e){return function(t){var s=mr(t);return s==sn?Ua(t):s==on?function Iy(j){var K=-1,B=Array(j.size);return j.forEach(function(be){B[++K]=[be,be]}),B}(t):function yy(j,K){return It(K,function(B){return[B,j[B]]})}(t,e(t))}}function Cn(e,t,s,l,g,I,R,C){var F=2&t;if(!F&&"function"!=typeof e)throw new kr(h);var Y=l?l.length:0;if(Y||(t&=-97,l=g=r),R=R===r?R:nr(ze(R),0),C=C===r?C:ze(C),Y-=g?g.length:0,64&t){var ee=l,oe=g;l=g=r}var ye=F?r:hc(e),xe=[e,t,s,l,g,ee,oe,I,R,C];if(ye&&function x_(e,t){var s=e[1],l=t[1],g=s|l;if(!(g<131)&&!(128==l&&8==s||128==l&&256==s&&e[7].length<=t[8]||384==l&&t[7].length<=t[8]&&8==s))return e;1&l&&(e[2]=t[2],g|=1&s?0:4);var C=t[3];if(C){var F=e[3];e[3]=F?ff(F,C,t[4]):C,e[4]=F?qn(e[3],Q):t[4]}(C=t[5])&&(e[5]=(F=e[5])?hf(F,C,t[6]):C,e[6]=F?qn(e[5],Q):t[6]),(C=t[7])&&(e[7]=C),128&l&&(e[8]=null==e[8]?t[8]:vr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=g}(xe,ye),e=xe[0],t=xe[1],s=xe[2],l=xe[3],g=xe[4],!(C=xe[9]=xe[9]===r?F?0:e.length:nr(xe[9]-Y,0))&&24&t&&(t&=-25),t&&1!=t)Re=8==t||16==t?function s_(e,t,s){var l=ss(e);return function g(){for(var I=arguments.length,R=B(I),C=I,F=Ri(g);C--;)R[C]=arguments[C];var Y=I<3&&R[0]!==F&&R[I-1]!==F?[]:qn(R,F);return(I-=Y.length)<s?bf(e,t,lo,g.placeholder,r,R,Y,r,r,s-I):Lr(this&&this!==dr&&this instanceof g?l:e,this,R)}}(e,t,C):32!=t&&33!=t||g.length?lo.apply(r,xe):function o_(e,t,s,l){var g=1&t,I=ss(e);return function R(){for(var C=-1,F=arguments.length,Y=-1,ee=l.length,oe=B(ee+F),ye=this&&this!==dr&&this instanceof R?I:e;++Y<ee;)oe[Y]=l[Y];for(;F--;)oe[Y++]=arguments[++C];return Lr(ye,g?s:this,oe)}}(e,t,s,l);else var Re=function i_(e,t,s){var l=1&t,g=ss(e);return function I(){return(this&&this!==dr&&this instanceof I?g:e).apply(l?s:this,arguments)}}(e,t,s);return Nf((ye?ef:Df)(Re,xe),e,t)}function xf(e,t,s,l){return e===r||un(e,Ei[s])&&!st.call(l,s)?t:e}function Ef(e,t,s,l,g,I){return Tt(e)&&Tt(t)&&(I.set(t,e),oo(e,t,r,Ef,I),I.delete(t)),e}function c_(e){return cs(e)?r:e}function If(e,t,s,l,g,I){var R=1&s,C=e.length,F=t.length;if(C!=F&&!(R&&F>C))return!1;var Y=I.get(e),ee=I.get(t);if(Y&&ee)return Y==t&&ee==e;var oe=-1,ye=!0,xe=2&s?new ni:r;for(I.set(e,t),I.set(t,e);++oe<C;){var Re=e[oe],qe=t[oe];if(l)var Ce=R?l(qe,Re,oe,t,e,I):l(Re,qe,oe,e,t,I);if(Ce!==r){if(Ce)continue;ye=!1;break}if(xe){if(!Na(t,function(Ve,Je){if(!Gi(xe,Je)&&(Re===Ve||g(Re,Ve,s,l,I)))return xe.push(Je)})){ye=!1;break}}else if(Re!==qe&&!g(Re,qe,s,l,I)){ye=!1;break}}return I.delete(e),I.delete(t),ye}function Tn(e){return vc(Cf(e,r,Uf),e+"")}function lc(e){return Bl(e,ur,pc)}function fc(e){return Bl(e,Rr,Sf)}var hc=eo?function(e){return eo.get(e)}:Tc;function go(e){for(var t=e.name+"",s=Si[t],l=st.call(Si,t)?s.length:0;l--;){var g=s[l],I=g.func;if(null==I||I==e)return g.name}return t}function Ri(e){return(st.call(w,"placeholder")?w:e).placeholder}function Oe(){var e=w.iteratee||Rc;return e=e===Rc?kl:e,arguments.length?e(arguments[0],arguments[1]):e}function yo(e,t){var s=e.__data__;return function v_(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?s["string"==typeof t?"string":"hash"]:s.map}function dc(e){for(var t=ur(e),s=t.length;s--;){var l=t[s],g=e[l];t[s]=[l,g,Af(g)]}return t}function oi(e,t){var s=function wy(j,K){return null==j?r:j[K]}(e,t);return Vl(s)?s:r}var pc=$a?function(e){return null==e?[]:(e=ht(e),zn($a(e),function(t){return Cl.call(e,t)}))}:Dc,Sf=$a?function(e){for(var t=[];e;)$n(t,pc(e)),e=Js(e);return t}:Dc,mr=Er;function Pf(e,t,s){for(var l=-1,g=(t=kn(t,e)).length,I=!1;++l<g;){var R=En(t[l]);if(!(I=null!=e&&s(e,R)))break;e=e[R]}return I||++l!=g?I:!!(g=null==e?0:e.length)&&Eo(g)&&Dn(R,g)&&(Ze(e)||ci(e))}function Of(e){return"function"!=typeof e.constructor||os(e)?{}:Pi(Js(e))}function __(e){return Ze(e)||ci(e)||!!(Tl&&e&&e[Tl])}function Dn(e,t){var s=typeof e;return!!(t=t??Un)&&("number"==s||"symbol"!=s&&Rg.test(e))&&e>-1&&e%1==0&&e<t}function Ir(e,t,s){if(!Tt(s))return!1;var l=typeof t;return!!("number"==l?Ar(s)&&Dn(t,s.length):"string"==l&&t in s)&&un(s[t],e)}function gc(e,t){if(Ze(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!Mr(e))||pg.test(e)||!dg.test(e)||null!=t&&e in ht(t)}function yc(e){var t=go(e),s=w[t];if("function"!=typeof s||!(t in Ke.prototype))return!1;if(e===s)return!0;var l=hc(s);return!!l&&e===l[0]}(qa&&mr(new qa(new ArrayBuffer(1)))!=_i||Wi&&mr(new Wi)!=sn||Ba&&mr(Ba.resolve())!=zu||Ii&&mr(new Ii)!=on||Yi&&mr(new Yi)!=ki)&&(mr=function(e){var t=Er(e),s=t==Pn?e.constructor:r,l=s?ai(s):"";if(l)switch(l){case Ky:return _i;case Gy:return sn;case Jy:return zu;case Wy:return on;case Yy:return ki}return t});var b_=Hs?Nn:Nc;function os(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ei)}function Af(e){return e==e&&!Tt(e)}function Rf(e,t){return function(s){return null!=s&&s[e]===t&&(t!==r||e in ht(s))}}function Cf(e,t,s){return t=nr(t===r?e.length-1:t,0),function(){for(var l=arguments,g=-1,I=nr(l.length-t,0),R=B(I);++g<I;)R[g]=l[t+g];g=-1;for(var C=B(t+1);++g<t;)C[g]=l[g];return C[t]=s(R),Lr(e,this,C)}}function Tf(e,t){return t.length<2?e:si(e,Jr(t,0,-1))}function _c(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Df=Lf(ef),as=zy||function(e,t){return dr.setTimeout(e,t)},vc=Lf(G0);function Nf(e,t,s){var l=t+"";return vc(e,function y_(e,t){var s=t.length;if(!s)return e;var l=s-1;return t[l]=(s>1?"& ":"")+t[l],t=t.join(s>2?", ":" "),e.replace(vg,"{\n/* [wrapped with "+t+"] */\n")}(l,function P_(e,t){return Vr(Qp,function(s){var l="_."+s[0];t&s[1]&&!zs(e,l)&&e.push(l)}),e.sort()}(function d_(e){var t=e.match(mg);return t?t[1].split(bg):[]}(l),s)))}function Lf(e){var t=0,s=0;return function(){var l=Hy(),g=16-(l-s);if(s=l,g>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function _o(e,t){var s=-1,l=e.length,g=l-1;for(t=t===r?l:t;++s<t;){var I=ec(s,g),R=e[I];e[I]=e[s],e[s]=R}return e.length=t,e}var jf=function w_(e){var t=wo(e,function(l){return 500===s.size&&s.clear(),l}),s=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gg,function(s,l,g,I){t.push(g?I.replace(Eg,"$1"):l||s)}),t});function En(e){if("string"==typeof e||Mr(e))return e;var t=e+"";return"0"==t&&1/e==-Qn?"-0":t}function ai(e){if(null!=e){try{return Vs.call(e)}catch{}try{return e+""}catch{}}return""}function Ff(e){if(e instanceof Ke)return e.clone();var t=new Kr(e.__wrapped__,e.__chain__);return t.__actions__=Or(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var C_=Be(function(e,t){return zt(e)?ts(e,pr(t,1,zt,!0)):[]}),T_=Be(function(e,t){var s=Wr(t);return zt(s)&&(s=r),zt(e)?ts(e,pr(t,1,zt,!0),Oe(s,2)):[]}),D_=Be(function(e,t){var s=Wr(t);return zt(s)&&(s=r),zt(e)?ts(e,pr(t,1,zt,!0),r,s):[]});function Mf(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var g=null==s?0:ze(s);return g<0&&(g=nr(l+g,0)),$s(e,Oe(t,3),g)}function Zf(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var g=l-1;return s!==r&&(g=ze(s),g=s<0?nr(l+g,0):vr(g,l-1)),$s(e,Oe(t,3),g,!0)}function Uf(e){return null!=e&&e.length?pr(e,1):[]}function zf(e){return e&&e.length?e[0]:r}var B_=Be(function(e){var t=It(e,sc);return t.length&&t[0]===e[0]?Ja(t):[]}),H_=Be(function(e){var t=Wr(e),s=It(e,sc);return t===Wr(s)?t=r:s.pop(),s.length&&s[0]===e[0]?Ja(s,Oe(t,2)):[]}),V_=Be(function(e){var t=Wr(e),s=It(e,sc);return(t="function"==typeof t?t:r)&&s.pop(),s.length&&s[0]===e[0]?Ja(s,r,t):[]});function Wr(e){var t=null==e?0:e.length;return t?e[t-1]:r}var J_=Be($f);function $f(e,t){return e&&e.length&&t&&t.length?Qa(e,t):e}var X_=Tn(function(e,t){var s=null==e?0:e.length,l=Va(e,t);return Ql(e,It(t,function(g){return Dn(g,s)?+g:g}).sort(lf)),l});function mc(e){return null==e?e:ky.call(e)}var pv=Be(function(e){return Vn(pr(e,1,zt,!0))}),gv=Be(function(e){var t=Wr(e);return zt(t)&&(t=r),Vn(pr(e,1,zt,!0),Oe(t,2))}),yv=Be(function(e){var t=Wr(e);return t="function"==typeof t?t:r,Vn(pr(e,1,zt,!0),r,t)});function bc(e){if(!e||!e.length)return[];var t=0;return e=zn(e,function(s){if(zt(s))return t=nr(s.length,t),!0}),Ma(t,function(s){return It(e,La(s))})}function qf(e,t){if(!e||!e.length)return[];var s=bc(e);return null==t?s:It(s,function(l){return Lr(t,r,l)})}var bv=Be(function(e,t){return zt(e)?ts(e,t):[]}),wv=Be(function(e){return ic(zn(e,zt))}),xv=Be(function(e){var t=Wr(e);return zt(t)&&(t=r),ic(zn(e,zt),Oe(t,2))}),Ev=Be(function(e){var t=Wr(e);return t="function"==typeof t?t:r,ic(zn(e,zt),r,t)}),Iv=Be(bc),Ov=Be(function(e){var t=e.length,s=t>1?e[t-1]:r;return s="function"==typeof s?(e.pop(),s):r,qf(e,s)});function Bf(e){var t=w(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var Rv=Tn(function(e){var t=e.length,s=t?e[0]:0,l=this.__wrapped__,g=function(I){return Va(I,e)};return!(t>1||this.__actions__.length)&&l instanceof Ke&&Dn(s)?((l=l.slice(s,+s+(t?1:0))).__actions__.push({func:vo,args:[g],thisArg:r}),new Kr(l,this.__chain__).thru(function(I){return t&&!I.length&&I.push(r),I})):this.thru(g)}),Mv=uo(function(e,t,s){st.call(e,s)?++e[s]:Rn(e,s,1)}),zv=yf(Mf),$v=yf(Zf);function Hf(e,t){return(Ze(e)?Vr:Hn)(e,Oe(t,3))}function Vf(e,t){return(Ze(e)?uy:zl)(e,Oe(t,3))}var Vv=uo(function(e,t,s){st.call(e,s)?e[s].push(t):Rn(e,s,[t])}),Kv=Be(function(e,t,s){var l=-1,g="function"==typeof t,I=Ar(e)?B(e.length):[];return Hn(e,function(R){I[++l]=g?Lr(t,R,s):rs(R,t,s)}),I}),Gv=uo(function(e,t,s){Rn(e,s,t)});function mo(e,t){return(Ze(e)?It:Kl)(e,Oe(t,3))}var Wv=uo(function(e,t,s){e[s?0:1].push(t)},function(){return[[],[]]}),sm=Be(function(e,t){if(null==e)return[];var s=t.length;return s>1&&Ir(e,t[0],t[1])?t=[]:s>2&&Ir(t[0],t[1],t[2])&&(t=[t[0]]),Yl(e,pr(t,1),[])}),bo=Uy||function(){return dr.Date.now()};function kf(e,t,s){return t=s?r:t,Cn(e,128,r,r,r,r,t=e&&null==t?e.length:t)}function Kf(e,t){var s;if("function"!=typeof t)throw new kr(h);return e=ze(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=r),s}}var wc=Be(function(e,t,s){var l=1;if(s.length){var g=qn(s,Ri(wc));l|=32}return Cn(e,l,t,s,g)}),Gf=Be(function(e,t,s){var l=3;if(s.length){var g=qn(s,Ri(Gf));l|=32}return Cn(t,l,e,s,g)});function Yf(e,t,s){var l,g,I,R,C,F,Y=0,ee=!1,oe=!1,ye=!0;if("function"!=typeof e)throw new kr(h);function xe($t){var ln=l,jn=g;return l=g=r,Y=$t,R=e.apply(jn,ln)}function Ce($t){var ln=$t-F;return F===r||ln>=t||ln<0||oe&&$t-Y>=I}function Ve(){var $t=bo();if(Ce($t))return Je($t);C=as(Ve,function qe($t){var yh=t-($t-F);return oe?vr(yh,I-($t-Y)):yh}($t))}function Je($t){return C=r,ye&&l?xe($t):(l=g=r,R)}function Ur(){var $t=bo(),ln=Ce($t);if(l=arguments,g=this,F=$t,ln){if(C===r)return function Re($t){return Y=$t,C=as(Ve,t),ee?xe($t):R}(F);if(oe)return af(C),C=as(Ve,t),xe(F)}return C===r&&(C=as(Ve,t)),R}return t=Yr(t)||0,Tt(s)&&(ee=!!s.leading,I=(oe="maxWait"in s)?nr(Yr(s.maxWait)||0,t):I,ye="trailing"in s?!!s.trailing:ye),Ur.cancel=function Zr(){C!==r&&af(C),Y=0,l=F=g=C=r},Ur.flush=function Sr(){return C===r?R:Je(bo())},Ur}var am=Be(function(e,t){return Ul(e,1,t)}),cm=Be(function(e,t,s){return Ul(e,Yr(t)||0,s)});function wo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new kr(h);var s=function(){var l=arguments,g=t?t.apply(this,l):l[0],I=s.cache;if(I.has(g))return I.get(g);var R=e.apply(this,l);return s.cache=I.set(g,R)||I,R};return s.cache=new(wo.Cache||An),s}function xo(e){if("function"!=typeof e)throw new kr(h);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}wo.Cache=An;var fm=Y0(function(e,t){var s=(t=1==t.length&&Ze(t[0])?It(t[0],jr(Oe())):It(pr(t,1),jr(Oe()))).length;return Be(function(l){for(var g=-1,I=vr(l.length,s);++g<I;)l[g]=t[g].call(this,l[g]);return Lr(e,this,l)})}),xc=Be(function(e,t){var s=qn(t,Ri(xc));return Cn(e,32,r,t,s)}),Xf=Be(function(e,t){var s=qn(t,Ri(Xf));return Cn(e,64,r,t,s)}),hm=Tn(function(e,t){return Cn(e,256,r,r,r,t)});function un(e,t){return e===t||e!=e&&t!=t}var Im=po(Ga),Sm=po(function(e,t){return e>=t}),ci=Hl(function(){return arguments}())?Hl:function(e){return Lt(e)&&st.call(e,"callee")&&!Cl.call(e,"callee")},Ze=B.isArray,Pm=fl?jr(fl):function L0(e){return Lt(e)&&Er(e)==Ki};function Ar(e){return null!=e&&Eo(e.length)&&!Nn(e)}function zt(e){return Lt(e)&&Ar(e)}var Gn=$y||Nc,Am=hl?jr(hl):function j0(e){return Lt(e)&&Er(e)==qi};function Ec(e){if(!Lt(e))return!1;var t=Er(e);return t==Ls||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!cs(e)}function Nn(e){if(!Tt(e))return!1;var t=Er(e);return t==js||t==Uu||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qf(e){return"number"==typeof e&&e==ze(e)}function Eo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Un}function Tt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Lt(e){return null!=e&&"object"==typeof e}var eh=dl?jr(dl):function M0(e){return Lt(e)&&mr(e)==sn};function th(e){return"number"==typeof e||Lt(e)&&Er(e)==Bi}function cs(e){if(!Lt(e)||Er(e)!=Pn)return!1;var t=Js(e);if(null===t)return!0;var s=st.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&Vs.call(s)==jy}var Ic=pl?jr(pl):function Z0(e){return Lt(e)&&Er(e)==Hi},rh=gl?jr(gl):function U0(e){return Lt(e)&&mr(e)==on};function Io(e){return"string"==typeof e||!Ze(e)&&Lt(e)&&Er(e)==Vi}function Mr(e){return"symbol"==typeof e||Lt(e)&&Er(e)==Fs}var Ci=yl?jr(yl):function z0(e){return Lt(e)&&Eo(e.length)&&!!xt[Er(e)]},Hm=po(Xa),Vm=po(function(e,t){return e<=t});function nh(e){if(!e)return[];if(Ar(e))return Io(e)?an(e):Or(e);if(Ji&&e[Ji])return function Ey(j){for(var K,B=[];!(K=j.next()).done;)B.push(K.value);return B}(e[Ji]());var t=mr(e);return(t==sn?Ua:t==on?qs:Ti)(e)}function Ln(e){return e?(e=Yr(e))===Qn||e===-Qn?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ze(e){var t=Ln(e),s=t%1;return t==t?s?t-s:t:0}function ih(e){return e?ii(ze(e),0,bn):0}function Yr(e){if("number"==typeof e)return e;if(Mr(e))return NaN;if(Tt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Tt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=xl(e);var s=Pg.test(e);return s||Ag.test(e)?oy(e.slice(2),s?2:8):Sg.test(e)?NaN:+e}function sh(e){return xn(e,Rr(e))}function nt(e){return null==e?"":Fr(e)}var Km=Oi(function(e,t){if(os(t)||Ar(t))xn(t,ur(t),e);else for(var s in t)st.call(t,s)&&es(e,s,t[s])}),oh=Oi(function(e,t){xn(t,Rr(t),e)}),So=Oi(function(e,t,s,l){xn(t,Rr(t),e,l)}),Gm=Oi(function(e,t,s,l){xn(t,ur(t),e,l)}),Jm=Tn(Va),Ym=Be(function(e,t){e=ht(e);var s=-1,l=t.length,g=l>2?t[2]:r;for(g&&Ir(t[0],t[1],g)&&(l=1);++s<l;)for(var I=t[s],R=Rr(I),C=-1,F=R.length;++C<F;){var Y=R[C],ee=e[Y];(ee===r||un(ee,Ei[Y])&&!st.call(e,Y))&&(e[Y]=I[Y])}return e}),Xm=Be(function(e){return e.push(r,Ef),Lr(ah,r,e)});function Sc(e,t,s){var l=null==e?r:si(e,t);return l===r?s:l}function Pc(e,t){return null!=e&&Pf(e,t,T0)}var c1=vf(function(e,t,s){null!=t&&"function"!=typeof t.toString&&(t=ks.call(t)),e[t]=s},Ac(Cr)),u1=vf(function(e,t,s){null!=t&&"function"!=typeof t.toString&&(t=ks.call(t)),st.call(e,t)?e[t].push(s):e[t]=[s]},Oe),l1=Be(rs);function ur(e){return Ar(e)?jl(e):Ya(e)}function Rr(e){return Ar(e)?jl(e,!0):function $0(e){if(!Tt(e))return function E_(e){var t=[];if(null!=e)for(var s in ht(e))t.push(s);return t}(e);var t=os(e),s=[];for(var l in e)"constructor"==l&&(t||!st.call(e,l))||s.push(l);return s}(e)}var d1=Oi(function(e,t,s){oo(e,t,s)}),ah=Oi(function(e,t,s,l){oo(e,t,s,l)}),p1=Tn(function(e,t){var s={};if(null==e)return s;var l=!1;t=It(t,function(I){return I=kn(I,e),l||(l=I.length>1),I}),xn(e,fc(e),s),l&&(s=Gr(s,7,c_));for(var g=t.length;g--;)nc(s,t[g]);return s}),y1=Tn(function(e,t){return null==e?{}:function B0(e,t){return Xl(e,t,function(s,l){return Pc(e,l)})}(e,t)});function ch(e,t){if(null==e)return{};var s=It(fc(e),function(l){return[l]});return t=Oe(t),Xl(e,s,function(l,g){return t(l,g[0])})}var uh=wf(ur),lh=wf(Rr);function Ti(e){return null==e?[]:Za(e,ur(e))}var A1=Ai(function(e,t,s){return t=t.toLowerCase(),e+(s?fh(t):t)});function fh(e){return Oc(nt(e).toLowerCase())}function hh(e){return(e=nt(e))&&e.replace(Cg,vy).replace(Jg,"")}var D1=Ai(function(e,t,s){return e+(s?"-":"")+t.toLowerCase()}),N1=Ai(function(e,t,s){return e+(s?" ":"")+t.toLowerCase()}),L1=gf("toLowerCase"),$1=Ai(function(e,t,s){return e+(s?"_":"")+t.toLowerCase()}),B1=Ai(function(e,t,s){return e+(s?" ":"")+Oc(t)}),Q1=Ai(function(e,t,s){return e+(s?" ":"")+t.toUpperCase()}),Oc=gf("toUpperCase");function dh(e,t,s){return e=nt(e),(t=s?r:t)===r?function xy(j){return Xg.test(j)}(e)?function Cy(j){return j.match(Wg)||[]}(e):function dy(j){return j.match(wg)||[]}(e):e.match(t)||[]}var ph=Be(function(e,t){try{return Lr(e,r,t)}catch(s){return Ec(s)?s:new Fe(s)}}),eb=Tn(function(e,t){return Vr(t,function(s){s=En(s),Rn(e,s,wc(e[s],e))}),e});function Ac(e){return function(){return e}}var ib=_f(),sb=_f(!0);function Cr(e){return e}function Rc(e){return kl("function"==typeof e?e:Gr(e,1))}var cb=Be(function(e,t){return function(s){return rs(s,e,t)}}),ub=Be(function(e,t){return function(s){return rs(e,s,t)}});function Cc(e,t,s){var l=ur(t),g=so(t,l);null==s&&(!Tt(t)||!g.length&&l.length)&&(s=t,t=e,e=this,g=so(t,ur(t)));var I=!(Tt(s)&&"chain"in s&&!s.chain),R=Nn(e);return Vr(g,function(C){var F=t[C];e[C]=F,R&&(e.prototype[C]=function(){var Y=this.__chain__;if(I||Y){var ee=e(this.__wrapped__);return(ee.__actions__=Or(this.__actions__)).push({func:F,args:arguments,thisArg:e}),ee.__chain__=Y,ee}return F.apply(e,$n([this.value()],arguments))})}),e}function Tc(){}var hb=cc(It),db=cc(_l),pb=cc(Na);function gh(e){return gc(e)?La(En(e)):function H0(e){return function(t){return si(t,e)}}(e)}var yb=mf(),_b=mf(!0);function Dc(){return[]}function Nc(){return!1}var Ib=fo(function(e,t){return e+t},0),Sb=uc("ceil"),Pb=fo(function(e,t){return e/t},1),Ob=uc("floor"),Lb=fo(function(e,t){return e*t},1),jb=uc("round"),Fb=fo(function(e,t){return e-t},0);return w.after=function om(e,t){if("function"!=typeof t)throw new kr(h);return e=ze(e),function(){if(--e<1)return t.apply(this,arguments)}},w.ary=kf,w.assign=Km,w.assignIn=oh,w.assignInWith=So,w.assignWith=Gm,w.at=Jm,w.before=Kf,w.bind=wc,w.bindAll=eb,w.bindKey=Gf,w.castArray=function vm(){if(!arguments.length)return[];var e=arguments[0];return Ze(e)?e:[e]},w.chain=Bf,w.chunk=function O_(e,t,s){t=(s?Ir(e,t,s):t===r)?1:nr(ze(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var g=0,I=0,R=B(Xs(l/t));g<l;)R[I++]=Jr(e,g,g+=t);return R},w.compact=function A_(e){for(var t=-1,s=null==e?0:e.length,l=0,g=[];++t<s;){var I=e[t];I&&(g[l++]=I)}return g},w.concat=function R_(){var e=arguments.length;if(!e)return[];for(var t=B(e-1),s=arguments[0],l=e;l--;)t[l-1]=arguments[l];return $n(Ze(s)?Or(s):[s],pr(t,1))},w.cond=function tb(e){var t=null==e?0:e.length,s=Oe();return e=t?It(e,function(l){if("function"!=typeof l[1])throw new kr(h);return[s(l[0]),l[1]]}):[],Be(function(l){for(var g=-1;++g<t;){var I=e[g];if(Lr(I[0],this,l))return Lr(I[1],this,l)}})},w.conforms=function rb(e){return function O0(e){var t=ur(e);return function(s){return Zl(s,e,t)}}(Gr(e,1))},w.constant=Ac,w.countBy=Mv,w.create=function Wm(e,t){var s=Pi(e);return null==t?s:Ml(s,t)},w.curry=function Jf(e,t,s){var l=Cn(e,8,r,r,r,r,r,t=s?r:t);return l.placeholder=Jf.placeholder,l},w.curryRight=function Wf(e,t,s){var l=Cn(e,16,r,r,r,r,r,t=s?r:t);return l.placeholder=Wf.placeholder,l},w.debounce=Yf,w.defaults=Ym,w.defaultsDeep=Xm,w.defer=am,w.delay=cm,w.difference=C_,w.differenceBy=T_,w.differenceWith=D_,w.drop=function N_(e,t,s){var l=null==e?0:e.length;return l?Jr(e,(t=s||t===r?1:ze(t))<0?0:t,l):[]},w.dropRight=function L_(e,t,s){var l=null==e?0:e.length;return l?Jr(e,0,(t=l-(t=s||t===r?1:ze(t)))<0?0:t):[]},w.dropRightWhile=function j_(e,t){return e&&e.length?co(e,Oe(t,3),!0,!0):[]},w.dropWhile=function F_(e,t){return e&&e.length?co(e,Oe(t,3),!0):[]},w.fill=function M_(e,t,s,l){var g=null==e?0:e.length;return g?(s&&"number"!=typeof s&&Ir(e,t,s)&&(s=0,l=g),function R0(e,t,s,l){var g=e.length;for((s=ze(s))<0&&(s=-s>g?0:g+s),(l=l===r||l>g?g:ze(l))<0&&(l+=g),l=s>l?0:ih(l);s<l;)e[s++]=t;return e}(e,t,s,l)):[]},w.filter=function Uv(e,t){return(Ze(e)?zn:$l)(e,Oe(t,3))},w.flatMap=function qv(e,t){return pr(mo(e,t),1)},w.flatMapDeep=function Bv(e,t){return pr(mo(e,t),Qn)},w.flatMapDepth=function Hv(e,t,s){return s=s===r?1:ze(s),pr(mo(e,t),s)},w.flatten=Uf,w.flattenDeep=function Z_(e){return null!=e&&e.length?pr(e,Qn):[]},w.flattenDepth=function U_(e,t){return null!=e&&e.length?pr(e,t=t===r?1:ze(t)):[]},w.flip=function um(e){return Cn(e,512)},w.flow=ib,w.flowRight=sb,w.fromPairs=function z_(e){for(var t=-1,s=null==e?0:e.length,l={};++t<s;){var g=e[t];l[g[0]]=g[1]}return l},w.functions=function s1(e){return null==e?[]:so(e,ur(e))},w.functionsIn=function o1(e){return null==e?[]:so(e,Rr(e))},w.groupBy=Vv,w.initial=function q_(e){return null!=e&&e.length?Jr(e,0,-1):[]},w.intersection=B_,w.intersectionBy=H_,w.intersectionWith=V_,w.invert=c1,w.invertBy=u1,w.invokeMap=Kv,w.iteratee=Rc,w.keyBy=Gv,w.keys=ur,w.keysIn=Rr,w.map=mo,w.mapKeys=function f1(e,t){var s={};return t=Oe(t,3),wn(e,function(l,g,I){Rn(s,t(l,g,I),l)}),s},w.mapValues=function h1(e,t){var s={};return t=Oe(t,3),wn(e,function(l,g,I){Rn(s,g,t(l,g,I))}),s},w.matches=function ob(e){return Gl(Gr(e,1))},w.matchesProperty=function ab(e,t){return Jl(e,Gr(t,1))},w.memoize=wo,w.merge=d1,w.mergeWith=ah,w.method=cb,w.methodOf=ub,w.mixin=Cc,w.negate=xo,w.nthArg=function fb(e){return e=ze(e),Be(function(t){return Wl(t,e)})},w.omit=p1,w.omitBy=function g1(e,t){return ch(e,xo(Oe(t)))},w.once=function lm(e){return Kf(2,e)},w.orderBy=function Jv(e,t,s,l){return null==e?[]:(Ze(t)||(t=null==t?[]:[t]),Ze(s=l?r:s)||(s=null==s?[]:[s]),Yl(e,t,s))},w.over=hb,w.overArgs=fm,w.overEvery=db,w.overSome=pb,w.partial=xc,w.partialRight=Xf,w.partition=Wv,w.pick=y1,w.pickBy=ch,w.property=gh,w.propertyOf=function gb(e){return function(t){return null==e?r:si(e,t)}},w.pull=J_,w.pullAll=$f,w.pullAllBy=function W_(e,t,s){return e&&e.length&&t&&t.length?Qa(e,t,Oe(s,2)):e},w.pullAllWith=function Y_(e,t,s){return e&&e.length&&t&&t.length?Qa(e,t,r,s):e},w.pullAt=X_,w.range=yb,w.rangeRight=_b,w.rearg=hm,w.reject=function Qv(e,t){return(Ze(e)?zn:$l)(e,xo(Oe(t,3)))},w.remove=function Q_(e,t){var s=[];if(!e||!e.length)return s;var l=-1,g=[],I=e.length;for(t=Oe(t,3);++l<I;){var R=e[l];t(R,l,e)&&(s.push(R),g.push(l))}return Ql(e,g),s},w.rest=function dm(e,t){if("function"!=typeof e)throw new kr(h);return Be(e,t=t===r?t:ze(t))},w.reverse=mc,w.sampleSize=function tm(e,t,s){return t=(s?Ir(e,t,s):t===r)?1:ze(t),(Ze(e)?E0:K0)(e,t)},w.set=function v1(e,t,s){return null==e?e:is(e,t,s)},w.setWith=function m1(e,t,s,l){return l="function"==typeof l?l:r,null==e?e:is(e,t,s,l)},w.shuffle=function rm(e){return(Ze(e)?I0:J0)(e)},w.slice=function ev(e,t,s){var l=null==e?0:e.length;return l?(s&&"number"!=typeof s&&Ir(e,t,s)?(t=0,s=l):(t=null==t?0:ze(t),s=s===r?l:ze(s)),Jr(e,t,s)):[]},w.sortBy=sm,w.sortedUniq=function av(e){return e&&e.length?tf(e):[]},w.sortedUniqBy=function cv(e,t){return e&&e.length?tf(e,Oe(t,2)):[]},w.split=function q1(e,t,s){return s&&"number"!=typeof s&&Ir(e,t,s)&&(t=s=r),(s=s===r?bn:s>>>0)?(e=nt(e))&&("string"==typeof t||null!=t&&!Ic(t))&&!(t=Fr(t))&&bi(e)?Kn(an(e),0,s):e.split(t,s):[]},w.spread=function pm(e,t){if("function"!=typeof e)throw new kr(h);return t=null==t?0:nr(ze(t),0),Be(function(s){var l=s[t],g=Kn(s,0,t);return l&&$n(g,l),Lr(e,this,g)})},w.tail=function uv(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},w.take=function lv(e,t,s){return e&&e.length?Jr(e,0,(t=s||t===r?1:ze(t))<0?0:t):[]},w.takeRight=function fv(e,t,s){var l=null==e?0:e.length;return l?Jr(e,(t=l-(t=s||t===r?1:ze(t)))<0?0:t,l):[]},w.takeRightWhile=function hv(e,t){return e&&e.length?co(e,Oe(t,3),!1,!0):[]},w.takeWhile=function dv(e,t){return e&&e.length?co(e,Oe(t,3)):[]},w.tap=function Av(e,t){return t(e),e},w.throttle=function gm(e,t,s){var l=!0,g=!0;if("function"!=typeof e)throw new kr(h);return Tt(s)&&(l="leading"in s?!!s.leading:l,g="trailing"in s?!!s.trailing:g),Yf(e,t,{leading:l,maxWait:t,trailing:g})},w.thru=vo,w.toArray=nh,w.toPairs=uh,w.toPairsIn=lh,w.toPath=function xb(e){return Ze(e)?It(e,En):Mr(e)?[e]:Or(jf(nt(e)))},w.toPlainObject=sh,w.transform=function b1(e,t,s){var l=Ze(e),g=l||Gn(e)||Ci(e);if(t=Oe(t,4),null==s){var I=e&&e.constructor;s=g?l?new I:[]:Tt(e)&&Nn(I)?Pi(Js(e)):{}}return(g?Vr:wn)(e,function(R,C,F){return t(s,R,C,F)}),s},w.unary=function ym(e){return kf(e,1)},w.union=pv,w.unionBy=gv,w.unionWith=yv,w.uniq=function _v(e){return e&&e.length?Vn(e):[]},w.uniqBy=function vv(e,t){return e&&e.length?Vn(e,Oe(t,2)):[]},w.uniqWith=function mv(e,t){return t="function"==typeof t?t:r,e&&e.length?Vn(e,r,t):[]},w.unset=function w1(e,t){return null==e||nc(e,t)},w.unzip=bc,w.unzipWith=qf,w.update=function x1(e,t,s){return null==e?e:nf(e,t,oc(s))},w.updateWith=function E1(e,t,s,l){return l="function"==typeof l?l:r,null==e?e:nf(e,t,oc(s),l)},w.values=Ti,w.valuesIn=function I1(e){return null==e?[]:Za(e,Rr(e))},w.without=bv,w.words=dh,w.wrap=function _m(e,t){return xc(oc(t),e)},w.xor=wv,w.xorBy=xv,w.xorWith=Ev,w.zip=Iv,w.zipObject=function Sv(e,t){return of(e||[],t||[],es)},w.zipObjectDeep=function Pv(e,t){return of(e||[],t||[],is)},w.zipWith=Ov,w.entries=uh,w.entriesIn=lh,w.extend=oh,w.extendWith=So,Cc(w,w),w.add=Ib,w.attempt=ph,w.camelCase=A1,w.capitalize=fh,w.ceil=Sb,w.clamp=function S1(e,t,s){return s===r&&(s=t,t=r),s!==r&&(s=(s=Yr(s))==s?s:0),t!==r&&(t=(t=Yr(t))==t?t:0),ii(Yr(e),t,s)},w.clone=function mm(e){return Gr(e,4)},w.cloneDeep=function wm(e){return Gr(e,5)},w.cloneDeepWith=function xm(e,t){return Gr(e,5,t="function"==typeof t?t:r)},w.cloneWith=function bm(e,t){return Gr(e,4,t="function"==typeof t?t:r)},w.conformsTo=function Em(e,t){return null==t||Zl(e,t,ur(t))},w.deburr=hh,w.defaultTo=function nb(e,t){return null==e||e!=e?t:e},w.divide=Pb,w.endsWith=function R1(e,t,s){e=nt(e),t=Fr(t);var l=e.length,g=s=s===r?l:ii(ze(s),0,l);return(s-=t.length)>=0&&e.slice(s,g)==t},w.eq=un,w.escape=function C1(e){return(e=nt(e))&&lg.test(e)?e.replace(qu,my):e},w.escapeRegExp=function T1(e){return(e=nt(e))&&yg.test(e)?e.replace(xa,"\\$&"):e},w.every=function Zv(e,t,s){var l=Ze(e)?_l:A0;return s&&Ir(e,t,s)&&(t=r),l(e,Oe(t,3))},w.find=zv,w.findIndex=Mf,w.findKey=function Qm(e,t){return vl(e,Oe(t,3),wn)},w.findLast=$v,w.findLastIndex=Zf,w.findLastKey=function e1(e,t){return vl(e,Oe(t,3),Ka)},w.floor=Ob,w.forEach=Hf,w.forEachRight=Vf,w.forIn=function t1(e,t){return null==e?e:ka(e,Oe(t,3),Rr)},w.forInRight=function r1(e,t){return null==e?e:ql(e,Oe(t,3),Rr)},w.forOwn=function n1(e,t){return e&&wn(e,Oe(t,3))},w.forOwnRight=function i1(e,t){return e&&Ka(e,Oe(t,3))},w.get=Sc,w.gt=Im,w.gte=Sm,w.has=function a1(e,t){return null!=e&&Pf(e,t,C0)},w.hasIn=Pc,w.head=zf,w.identity=Cr,w.includes=function kv(e,t,s,l){e=Ar(e)?e:Ti(e),s=s&&!l?ze(s):0;var g=e.length;return s<0&&(s=nr(g+s,0)),Io(e)?s<=g&&e.indexOf(t,s)>-1:!!g&&mi(e,t,s)>-1},w.indexOf=function $_(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var g=null==s?0:ze(s);return g<0&&(g=nr(l+g,0)),mi(e,t,g)},w.inRange=function P1(e,t,s){return t=Ln(t),s===r?(s=t,t=0):s=Ln(s),function D0(e,t,s){return e>=vr(t,s)&&e<nr(t,s)}(e=Yr(e),t,s)},w.invoke=l1,w.isArguments=ci,w.isArray=Ze,w.isArrayBuffer=Pm,w.isArrayLike=Ar,w.isArrayLikeObject=zt,w.isBoolean=function Om(e){return!0===e||!1===e||Lt(e)&&Er(e)==$i},w.isBuffer=Gn,w.isDate=Am,w.isElement=function Rm(e){return Lt(e)&&1===e.nodeType&&!cs(e)},w.isEmpty=function Cm(e){if(null==e)return!0;if(Ar(e)&&(Ze(e)||"string"==typeof e||"function"==typeof e.splice||Gn(e)||Ci(e)||ci(e)))return!e.length;var t=mr(e);if(t==sn||t==on)return!e.size;if(os(e))return!Ya(e).length;for(var s in e)if(st.call(e,s))return!1;return!0},w.isEqual=function Tm(e,t){return ns(e,t)},w.isEqualWith=function Dm(e,t,s){var l=(s="function"==typeof s?s:r)?s(e,t):r;return l===r?ns(e,t,r,s):!!l},w.isError=Ec,w.isFinite=function Nm(e){return"number"==typeof e&&Dl(e)},w.isFunction=Nn,w.isInteger=Qf,w.isLength=Eo,w.isMap=eh,w.isMatch=function Lm(e,t){return e===t||Wa(e,t,dc(t))},w.isMatchWith=function jm(e,t,s){return s="function"==typeof s?s:r,Wa(e,t,dc(t),s)},w.isNaN=function Fm(e){return th(e)&&e!=+e},w.isNative=function Mm(e){if(b_(e))throw new Fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Vl(e)},w.isNil=function Um(e){return null==e},w.isNull=function Zm(e){return null===e},w.isNumber=th,w.isObject=Tt,w.isObjectLike=Lt,w.isPlainObject=cs,w.isRegExp=Ic,w.isSafeInteger=function zm(e){return Qf(e)&&e>=-Un&&e<=Un},w.isSet=rh,w.isString=Io,w.isSymbol=Mr,w.isTypedArray=Ci,w.isUndefined=function $m(e){return e===r},w.isWeakMap=function qm(e){return Lt(e)&&mr(e)==ki},w.isWeakSet=function Bm(e){return Lt(e)&&"[object WeakSet]"==Er(e)},w.join=function k_(e,t){return null==e?"":qy.call(e,t)},w.kebabCase=D1,w.last=Wr,w.lastIndexOf=function K_(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var g=l;return s!==r&&(g=(g=ze(s))<0?nr(l+g,0):vr(g,l-1)),t==t?function Py(j,K,B){for(var be=B+1;be--;)if(j[be]===K)return be;return be}(e,t,g):$s(e,ml,g,!0)},w.lowerCase=N1,w.lowerFirst=L1,w.lt=Hm,w.lte=Vm,w.max=function Ab(e){return e&&e.length?io(e,Cr,Ga):r},w.maxBy=function Rb(e,t){return e&&e.length?io(e,Oe(t,2),Ga):r},w.mean=function Cb(e){return bl(e,Cr)},w.meanBy=function Tb(e,t){return bl(e,Oe(t,2))},w.min=function Db(e){return e&&e.length?io(e,Cr,Xa):r},w.minBy=function Nb(e,t){return e&&e.length?io(e,Oe(t,2),Xa):r},w.stubArray=Dc,w.stubFalse=Nc,w.stubObject=function vb(){return{}},w.stubString=function mb(){return""},w.stubTrue=function bb(){return!0},w.multiply=Lb,w.nth=function G_(e,t){return e&&e.length?Wl(e,ze(t)):r},w.noConflict=function lb(){return dr._===this&&(dr._=Fy),this},w.noop=Tc,w.now=bo,w.pad=function j1(e,t,s){e=nt(e);var l=(t=ze(t))?wi(e):0;if(!t||l>=t)return e;var g=(t-l)/2;return ho(Qs(g),s)+e+ho(Xs(g),s)},w.padEnd=function F1(e,t,s){e=nt(e);var l=(t=ze(t))?wi(e):0;return t&&l<t?e+ho(t-l,s):e},w.padStart=function M1(e,t,s){e=nt(e);var l=(t=ze(t))?wi(e):0;return t&&l<t?ho(t-l,s)+e:e},w.parseInt=function Z1(e,t,s){return s||null==t?t=0:t&&(t=+t),Vy(nt(e).replace(Ea,""),t||0)},w.random=function O1(e,t,s){if(s&&"boolean"!=typeof s&&Ir(e,t,s)&&(t=s=r),s===r&&("boolean"==typeof t?(s=t,t=r):"boolean"==typeof e&&(s=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Ln(e),t===r?(t=e,e=0):t=Ln(t)),e>t){var l=e;e=t,t=l}if(s||e%1||t%1){var g=Nl();return vr(e+g*(t-e+sy("1e-"+((g+"").length-1))),t)}return ec(e,t)},w.reduce=function Yv(e,t,s){var l=Ze(e)?Da:wl,g=arguments.length<3;return l(e,Oe(t,4),s,g,Hn)},w.reduceRight=function Xv(e,t,s){var l=Ze(e)?ly:wl,g=arguments.length<3;return l(e,Oe(t,4),s,g,zl)},w.repeat=function U1(e,t,s){return t=(s?Ir(e,t,s):t===r)?1:ze(t),tc(nt(e),t)},w.replace=function z1(){var e=arguments,t=nt(e[0]);return e.length<3?t:t.replace(e[1],e[2])},w.result=function _1(e,t,s){var l=-1,g=(t=kn(t,e)).length;for(g||(g=1,e=r);++l<g;){var I=null==e?r:e[En(t[l])];I===r&&(l=g,I=s),e=Nn(I)?I.call(e):I}return e},w.round=jb,w.runInContext=j,w.sample=function em(e){return(Ze(e)?Fl:k0)(e)},w.size=function nm(e){if(null==e)return 0;if(Ar(e))return Io(e)?wi(e):e.length;var t=mr(e);return t==sn||t==on?e.size:Ya(e).length},w.snakeCase=$1,w.some=function im(e,t,s){var l=Ze(e)?Na:W0;return s&&Ir(e,t,s)&&(t=r),l(e,Oe(t,3))},w.sortedIndex=function tv(e,t){return ao(e,t)},w.sortedIndexBy=function rv(e,t,s){return rc(e,t,Oe(s,2))},w.sortedIndexOf=function nv(e,t){var s=null==e?0:e.length;if(s){var l=ao(e,t);if(l<s&&un(e[l],t))return l}return-1},w.sortedLastIndex=function iv(e,t){return ao(e,t,!0)},w.sortedLastIndexBy=function sv(e,t,s){return rc(e,t,Oe(s,2),!0)},w.sortedLastIndexOf=function ov(e,t){if(null!=e&&e.length){var l=ao(e,t,!0)-1;if(un(e[l],t))return l}return-1},w.startCase=B1,w.startsWith=function H1(e,t,s){return e=nt(e),s=null==s?0:ii(ze(s),0,e.length),t=Fr(t),e.slice(s,s+t.length)==t},w.subtract=Fb,w.sum=function Mb(e){return e&&e.length?Fa(e,Cr):0},w.sumBy=function Zb(e,t){return e&&e.length?Fa(e,Oe(t,2)):0},w.template=function V1(e,t,s){var l=w.templateSettings;s&&Ir(e,t,s)&&(t=r),e=nt(e),t=So({},t,l,xf);var C,F,g=So({},t.imports,l.imports,xf),I=ur(g),R=Za(g,I),Y=0,ee=t.interpolate||Ms,oe="__p += '",ye=za((t.escape||Ms).source+"|"+ee.source+"|"+(ee===Bu?Ig:Ms).source+"|"+(t.evaluate||Ms).source+"|$","g"),xe="//# sourceURL="+(st.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ey+"]")+"\n";e.replace(ye,function(Ce,Ve,Je,Zr,Sr,Ur){return Je||(Je=Zr),oe+=e.slice(Y,Ur).replace(Tg,by),Ve&&(C=!0,oe+="' +\n__e("+Ve+") +\n'"),Sr&&(F=!0,oe+="';\n"+Sr+";\n__p += '"),Je&&(oe+="' +\n((__t = ("+Je+")) == null ? '' : __t) +\n'"),Y=Ur+Ce.length,Ce}),oe+="';\n";var Re=st.call(t,"variable")&&t.variable;if(Re){if(xg.test(Re))throw new Fe("Invalid `variable` option passed into `_.template`")}else oe="with (obj) {\n"+oe+"\n}\n";oe=(F?oe.replace(og,""):oe).replace(ag,"$1").replace(cg,"$1;"),oe="function("+(Re||"obj")+") {\n"+(Re?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(C?", __e = _.escape":"")+(F?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+oe+"return __p\n}";var qe=ph(function(){return et(I,xe+"return "+oe).apply(r,R)});if(qe.source=oe,Ec(qe))throw qe;return qe},w.times=function wb(e,t){if((e=ze(e))<1||e>Un)return[];var s=bn,l=vr(e,bn);t=Oe(t),e-=bn;for(var g=Ma(l,t);++s<e;)t(s);return g},w.toFinite=Ln,w.toInteger=ze,w.toLength=ih,w.toLower=function k1(e){return nt(e).toLowerCase()},w.toNumber=Yr,w.toSafeInteger=function km(e){return e?ii(ze(e),-Un,Un):0===e?e:0},w.toString=nt,w.toUpper=function K1(e){return nt(e).toUpperCase()},w.trim=function G1(e,t,s){if((e=nt(e))&&(s||t===r))return xl(e);if(!e||!(t=Fr(t)))return e;var l=an(e),g=an(t);return Kn(l,El(l,g),Il(l,g)+1).join("")},w.trimEnd=function J1(e,t,s){if((e=nt(e))&&(s||t===r))return e.slice(0,Pl(e)+1);if(!e||!(t=Fr(t)))return e;var l=an(e);return Kn(l,0,Il(l,an(t))+1).join("")},w.trimStart=function W1(e,t,s){if((e=nt(e))&&(s||t===r))return e.replace(Ea,"");if(!e||!(t=Fr(t)))return e;var l=an(e);return Kn(l,El(l,an(t))).join("")},w.truncate=function Y1(e,t){var s=30,l="...";if(Tt(t)){var g="separator"in t?t.separator:g;s="length"in t?ze(t.length):s,l="omission"in t?Fr(t.omission):l}var I=(e=nt(e)).length;if(bi(e)){var R=an(e);I=R.length}if(s>=I)return e;var C=s-wi(l);if(C<1)return l;var F=R?Kn(R,0,C).join(""):e.slice(0,C);if(g===r)return F+l;if(R&&(C+=F.length-C),Ic(g)){if(e.slice(C).search(g)){var Y,ee=F;for(g.global||(g=za(g.source,nt(Hu.exec(g))+"g")),g.lastIndex=0;Y=g.exec(ee);)var oe=Y.index;F=F.slice(0,oe===r?C:oe)}}else if(e.indexOf(Fr(g),C)!=C){var ye=F.lastIndexOf(g);ye>-1&&(F=F.slice(0,ye))}return F+l},w.unescape=function X1(e){return(e=nt(e))&&ug.test(e)?e.replace($u,Oy):e},w.uniqueId=function Eb(e){var t=++Ly;return nt(e)+t},w.upperCase=Q1,w.upperFirst=Oc,w.each=Hf,w.eachRight=Vf,w.first=zf,Cc(w,function(){var e={};return wn(w,function(t,s){st.call(w.prototype,s)||(e[s]=t)}),e}(),{chain:!1}),w.VERSION="4.17.21",Vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){w[e].placeholder=w}),Vr(["drop","take"],function(e,t){Ke.prototype[e]=function(s){s=s===r?1:nr(ze(s),0);var l=this.__filtered__&&!t?new Ke(this):this.clone();return l.__filtered__?l.__takeCount__=vr(s,l.__takeCount__):l.__views__.push({size:vr(s,bn),type:e+(l.__dir__<0?"Right":"")}),l},Ke.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),Vr(["filter","map","takeWhile"],function(e,t){var s=t+1,l=1==s||3==s;Ke.prototype[e]=function(g){var I=this.clone();return I.__iteratees__.push({iteratee:Oe(g,3),type:s}),I.__filtered__=I.__filtered__||l,I}}),Vr(["head","last"],function(e,t){var s="take"+(t?"Right":"");Ke.prototype[e]=function(){return this[s](1).value()[0]}}),Vr(["initial","tail"],function(e,t){var s="drop"+(t?"":"Right");Ke.prototype[e]=function(){return this.__filtered__?new Ke(this):this[s](1)}}),Ke.prototype.compact=function(){return this.filter(Cr)},Ke.prototype.find=function(e){return this.filter(e).head()},Ke.prototype.findLast=function(e){return this.reverse().find(e)},Ke.prototype.invokeMap=Be(function(e,t){return"function"==typeof e?new Ke(this):this.map(function(s){return rs(s,e,t)})}),Ke.prototype.reject=function(e){return this.filter(xo(Oe(e)))},Ke.prototype.slice=function(e,t){e=ze(e);var s=this;return s.__filtered__&&(e>0||t<0)?new Ke(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),t!==r&&(s=(t=ze(t))<0?s.dropRight(-t):s.take(t-e)),s)},Ke.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ke.prototype.toArray=function(){return this.take(bn)},wn(Ke.prototype,function(e,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),g=w[l?"take"+("last"==t?"Right":""):t],I=l||/^find/.test(t);g&&(w.prototype[t]=function(){var R=this.__wrapped__,C=l?[1]:arguments,F=R instanceof Ke,Y=C[0],ee=F||Ze(R),oe=function(Ve){var Je=g.apply(w,$n([Ve],C));return l&&ye?Je[0]:Je};ee&&s&&"function"==typeof Y&&1!=Y.length&&(F=ee=!1);var ye=this.__chain__,Re=I&&!ye,qe=F&&!this.__actions__.length;if(!I&&ee){R=qe?R:new Ke(this);var Ce=e.apply(R,C);return Ce.__actions__.push({func:vo,args:[oe],thisArg:r}),new Kr(Ce,ye)}return Re&&qe?e.apply(this,C):(Ce=this.thru(oe),Re?l?Ce.value()[0]:Ce.value():Ce)})}),Vr(["pop","push","shift","sort","splice","unshift"],function(e){var t=Bs[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);w.prototype[e]=function(){var g=arguments;if(l&&!this.__chain__){var I=this.value();return t.apply(Ze(I)?I:[],g)}return this[s](function(R){return t.apply(Ze(R)?R:[],g)})}}),wn(Ke.prototype,function(e,t){var s=w[t];if(s){var l=s.name+"";st.call(Si,l)||(Si[l]=[]),Si[l].push({name:t,func:s})}}),Si[lo(r,2).name]=[{name:"wrapper",func:r}],Ke.prototype.clone=function Xy(){var e=new Ke(this.__wrapped__);return e.__actions__=Or(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Or(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Or(this.__views__),e},Ke.prototype.reverse=function Qy(){if(this.__filtered__){var e=new Ke(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ke.prototype.value=function e0(){var e=this.__wrapped__.value(),t=this.__dir__,s=Ze(e),l=t<0,g=s?e.length:0,I=function h_(e,t,s){for(var l=-1,g=s.length;++l<g;){var I=s[l],R=I.size;switch(I.type){case"drop":e+=R;break;case"dropRight":t-=R;break;case"take":t=vr(t,e+R);break;case"takeRight":e=nr(e,t-R)}}return{start:e,end:t}}(0,g,this.__views__),R=I.start,C=I.end,F=C-R,Y=l?C:R-1,ee=this.__iteratees__,oe=ee.length,ye=0,xe=vr(F,this.__takeCount__);if(!s||!l&&g==F&&xe==F)return sf(e,this.__actions__);var Re=[];e:for(;F--&&ye<xe;){for(var qe=-1,Ce=e[Y+=t];++qe<oe;){var Ve=ee[qe],Zr=Ve.type,Sr=(0,Ve.iteratee)(Ce);if(2==Zr)Ce=Sr;else if(!Sr){if(1==Zr)continue e;break e}}Re[ye++]=Ce}return Re},w.prototype.at=Rv,w.prototype.chain=function Cv(){return Bf(this)},w.prototype.commit=function Tv(){return new Kr(this.value(),this.__chain__)},w.prototype.next=function Dv(){this.__values__===r&&(this.__values__=nh(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},w.prototype.plant=function Lv(e){for(var t,s=this;s instanceof ro;){var l=Ff(s);l.__index__=0,l.__values__=r,t?g.__wrapped__=l:t=l;var g=l;s=s.__wrapped__}return g.__wrapped__=e,t},w.prototype.reverse=function jv(){var e=this.__wrapped__;if(e instanceof Ke){var t=e;return this.__actions__.length&&(t=new Ke(this)),(t=t.reverse()).__actions__.push({func:vo,args:[mc],thisArg:r}),new Kr(t,this.__chain__)}return this.thru(mc)},w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=function Fv(){return sf(this.__wrapped__,this.__actions__)},w.prototype.first=w.prototype.head,Ji&&(w.prototype[Ji]=function Nv(){return this}),w}();ei?((ei.exports=xi)._=xi,Ra._=xi):dr._=xi}.call(Ui);var lp=Object.defineProperty,fp=Object.defineProperties,hp=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,dp=Object.prototype.hasOwnProperty,pp=Object.prototype.propertyIsEnumerable,Ou=(y,n,r)=>n in y?lp(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Ps=(y,n)=>{for(var r in n||(n={}))dp.call(n,r)&&Ou(y,r,n[r]);if(Pu)for(var r of Pu(n))pp.call(n,r)&&Ou(y,r,n[r]);return y},gp=(y,n)=>fp(y,hp(n));function Br(y,n,r){let o;const a=ca(y);return n.rpcMap&&(o=n.rpcMap[a]),o||(o=`https://rpc.walletconnect.com/v1?chainId=eip155:${a}&projectId=${r}`),o}function ca(y){return y.includes("eip155")?Number(y.split(":")[1]):Number(y)}function Au(y){return y.map(n=>`${n.split(":")[0]}:${n.split(":")[1]}`)}function Ru(y){var n,r,o,a;const u={};if(!(0,E.L5)(y))return u;for(const[h,P]of Object.entries(y)){const N=(0,E.gp)(h)?[h]:P.chains,q=P.methods||[],Q=P.events||[],ge=P.rpcMap||{},Te=(0,E.M)(h);u[Te]=gp(Ps(Ps({},u[Te]),P),{chains:(0,E.eG)(N,null==(n=u[Te])?void 0:n.chains),methods:(0,E.eG)(q,null==(r=u[Te])?void 0:r.methods),events:(0,E.eG)(Q,null==(o=u[Te])?void 0:o.events),rpcMap:Ps(Ps({},ge),null==(a=u[Te])?void 0:a.rpcMap)})}return u}function vp(y){return y.includes(":")?y.split(":")[2]:y}function mp(y){const n={};for(const[r,o]of Object.entries(y)){const a=o.methods||[],u=o.events||[],h=o.accounts||[],P=(0,E.gp)(r)?[r]:o.chains?o.chains:Au(o.accounts);n[r]={chains:P,methods:a,events:u,accounts:h}}return n}const Cu={},Mt=y=>Cu[y],ua=(y,n)=>{Cu[y]=n};class bp{constructor(n){this.name="polkadot",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(this.chainId=n,!this.httpProviders[n]){const o=r||Br(`${this.name}:${n}`,this.namespace);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n&&n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Br(n,this.namespace);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class wp{constructor(n){this.name="eip155",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}request(n){var r=this;return(0,b.Z)(function*(){switch(n.request.method){case"eth_requestAccounts":case"eth_accounts":return r.getAccounts();case"wallet_switchEthereumChain":return yield r.handleSwitchChain(n);case"eth_chainId":return parseInt(r.getDefaultChain())}return r.namespace.methods.includes(n.request.method)?yield r.client.request(n):r.getHttpProvider().request(n.request)})()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}setDefaultChain(n,r){const o=ca(n);if(!this.httpProviders[o]){const a=r||Br(`${this.name}:${o}`,this.namespace,this.client.core.projectId);if(!a)throw new Error(`No RPC url provided for chainId: ${o}`);this.setHttpProvider(o,a)}this.chainId=o,this.events.emit("default_chain_changed",`${this.name}:${o}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}createHttpProvider(n,r){const o=r||Br(`${this.name}:${n}`,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new Eu(o,Mt("disableProviderPing")))}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;const a=ca(r);n[a]=this.createHttpProvider(a,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const n=this.chainId,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}handleSwitchChain(n){var r=this;return(0,b.Z)(function*(){var o,a;let u=n.request.params?null==(o=n.request.params[0])?void 0:o.chainId:"0x0";u=u.startsWith("0x")?u:`0x${u}`;const h=parseInt(u,16);if(r.isChainApproved(h))r.setDefaultChain(`${h}`);else{if(!r.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${h}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);yield r.client.request({topic:n.topic,request:{method:n.request.method,params:[{chainId:u}]},chainId:null==(a=r.namespace.chains)?void 0:a[0]}),r.setDefaultChain(`${h}`)}return null})()}isChainApproved(n){return this.namespace.chains.includes(`${this.name}:${n}`)}}class xp{constructor(n){this.name="solana",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(!this.httpProviders[n]){const o=r||Br(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Br(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Ep{constructor(n){this.name="cosmos",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(this.chainId=n,!this.httpProviders[n]){const o=r||Br(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Br(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Ip{constructor(n){this.name="cip34",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(this.chainId=n,!this.httpProviders[n]){const o=r||this.getCardanoRPCUrl(n);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{const o=this.getCardanoRPCUrl(r);n[r]=this.createHttpProvider(r,o)}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}getCardanoRPCUrl(n){const r=this.namespace.rpcMap;if(r)return r[n]}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||this.getCardanoRPCUrl(n);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Sp{constructor(n){this.name="elrond",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(!this.httpProviders[n]){const o=r||Br(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Br(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}class Pp{constructor(n){this.name="multiversx",this.namespace=n.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(n){this.namespace=Object.assign(this.namespace,n)}requestAccounts(){return this.getAccounts()}request(n){return this.namespace.methods.includes(n.request.method)?this.client.request(n):this.getHttpProvider().request(n.request)}setDefaultChain(n,r){if(!this.httpProviders[n]){const o=r||Br(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!o)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,o)}this.chainId=n,this.events.emit("default_chain_changed",`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const n=this.namespace.chains[0];if(!n)throw new Error("ChainId not found");return n.split(":")[1]}getAccounts(){const n=this.namespace.accounts;return n?[...new Set(n.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const n={};return this.namespace.chains.forEach(r=>{var o;n[r]=this.createHttpProvider(r,null==(o=this.namespace.rpcMap)?void 0:o[r])}),n}getHttpProvider(){const n=`${this.name}:${this.chainId}`,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${n} not found`);return r}setHttpProvider(n,r){const o=this.createHttpProvider(n,r);o&&(this.httpProviders[n]=o)}createHttpProvider(n,r){const o=r||Br(n,this.namespace,this.client.core.projectId);return typeof o>"u"?void 0:new Dr(new gi(o,Mt("disableProviderPing")))}}var Op=Object.defineProperty,Ap=Object.defineProperties,Rp=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,Cp=Object.prototype.hasOwnProperty,Tp=Object.prototype.propertyIsEnumerable,Du=(y,n,r)=>n in y?Op(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,Os=(y,n)=>{for(var r in n||(n={}))Cp.call(n,r)&&Du(y,r,n[r]);if(Tu)for(var r of Tu(n))Tp.call(n,r)&&Du(y,r,n[r]);return y},la=(y,n)=>Ap(y,Rp(n));class fa{constructor(n){this.events=new(_e()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=n,this.logger=typeof n?.logger<"u"&&"string"!=typeof n?.logger?n.logger:(0,he.pino)((0,he.getDefaultLoggerOptions)({level:n?.logger||"error"})),this.disableProviderPing=n?.disableProviderPing||!1}static init(n){return(0,b.Z)(function*(){const r=new fa(n);return yield r.initialize(),r})()}request(n,r){var o=this;return(0,b.Z)(function*(){const[a,u]=o.validateChain(r);if(!o.session)throw new Error("Please call connect() before request()");return yield o.getProvider(a).request({request:Os({},n),chainId:`${a}:${u}`,topic:o.session.topic})})()}sendAsync(n,r,o){this.request(n,o).then(a=>r(null,a)).catch(a=>r(a,void 0))}enable(){var n=this;return(0,b.Z)(function*(){if(!n.client)throw new Error("Sign Client not initialized");return n.session||(yield n.connect({namespaces:n.namespaces,optionalNamespaces:n.optionalNamespaces,sessionProperties:n.sessionProperties})),yield n.requestAccounts()})()}disconnect(){var n=this;return(0,b.Z)(function*(){var r;if(!n.session)throw new Error("Please call connect() before enable()");yield n.client.disconnect({topic:null==(r=n.session)?void 0:r.topic,reason:(0,E.D6)("USER_DISCONNECTED")}),yield n.cleanup()})()}connect(n){var r=this;return(0,b.Z)(function*(){if(!r.client)throw new Error("Sign Client not initialized");if(r.setNamespaces(n),yield r.cleanupPendingPairings(),!n.skipPairing)return yield r.pair(n.pairingTopic)})()}on(n,r){this.events.on(n,r)}once(n,r){this.events.once(n,r)}removeListener(n,r){this.events.removeListener(n,r)}off(n,r){this.events.off(n,r)}get isWalletConnect(){return!0}pair(n){var r=this;return(0,b.Z)(function*(){r.shouldAbortPairingAttempt=!1;let o=0;do{if(r.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(o>=r.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:a,approval:u}=yield r.client.connect({pairingTopic:n,requiredNamespaces:r.namespaces,optionalNamespaces:r.optionalNamespaces,sessionProperties:r.sessionProperties});a&&(r.uri=a,r.events.emit("display_uri",a)),yield u().then(h=>{r.session=h,r.namespaces||(r.namespaces=mp(h.namespaces),r.persist("namespaces",r.namespaces))}).catch(h=>{if(h.message!==_u)throw h;o++})}while(!r.session);return r.onConnect(),r.session})()}setDefaultChain(n,r){try{if(!this.session)return;const[o,a]=this.validateChain(n);this.getProvider(o).setDefaultChain(a,r)}catch(o){if(!/Please call connect/.test(o.message))throw o}}cleanupPendingPairings(n={}){var r=this;return(0,b.Z)(function*(){r.logger.info("Cleaning up inactive pairings...");const o=r.client.pairing.getAll();if((0,E.qt)(o)){for(const a of o)n.deletePairings?r.client.core.expirer.set(a.topic,0):yield r.client.core.relayer.subscriber.unsubscribe(a.topic);r.logger.info(`Inactive pairings cleared: ${o.length}`)}})()}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}checkStorage(){var n=this;return(0,b.Z)(function*(){n.namespaces=yield n.getFromStore("namespaces"),n.optionalNamespaces=(yield n.getFromStore("optionalNamespaces"))||{},n.client.session.length&&(n.session=n.client.session.get(n.client.session.keys[n.client.session.keys.length-1]),n.createProviders())})()}initialize(){var n=this;return(0,b.Z)(function*(){n.logger.trace("Initialized"),yield n.createClient(),yield n.checkStorage(),n.registerEventListeners()})()}createClient(){var n=this;return(0,b.Z)(function*(){n.client=n.providerOpts.client||(yield oa.init({logger:n.providerOpts.logger||"error",relayUrl:n.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:n.providerOpts.projectId,metadata:n.providerOpts.metadata,storageOptions:n.providerOpts.storageOptions,name:n.providerOpts.name})),n.logger.trace("SignClient Initialized")})()}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const n=[...new Set(Object.keys(this.session.namespaces).map(r=>(0,E.M)(r)))];ua("client",this.client),ua("events",this.events),ua("disableProviderPing",this.disableProviderPing),n.forEach(r=>{if(!this.session)return;const o=function yp(y,n){const r=Object.keys(n.namespaces).filter(a=>a.includes(y));if(!r.length)return[];const o=[];return r.forEach(a=>{o.push(...n.namespaces[a].accounts)}),o}(r,this.session),a=Au(o),u=function _p(y={},n={}){const r=Ru(y),o=Ru(n);return aa.exports.merge(r,o)}(this.namespaces,this.optionalNamespaces),h=la(Os({},u[r]),{accounts:o,chains:a});switch(r){case"eip155":this.rpcProviders[r]=new wp({namespace:h});break;case"solana":this.rpcProviders[r]=new xp({namespace:h});break;case"cosmos":this.rpcProviders[r]=new Ep({namespace:h});break;case"polkadot":this.rpcProviders[r]=new bp({namespace:h});break;case"cip34":this.rpcProviders[r]=new Ip({namespace:h});break;case"elrond":this.rpcProviders[r]=new Sp({namespace:h});break;case"multiversx":this.rpcProviders[r]=new Pp({namespace:h})}})}registerEventListeners(){var n=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:o}=r,{event:a}=o;if("accountsChanged"===a.name){const u=a.data;u&&(0,E.qt)(u)&&this.events.emit("accountsChanged",u.map(vp))}else"chainChanged"===a.name?this.onChainChanged(o.chainId):this.events.emit(a.name,a.data);this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:o})=>{var a;const{namespaces:u}=o,h=null==(a=this.client)?void 0:a.session.get(r);this.session=la(Os({},h),{namespaces:u}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:o})}),this.client.on("session_delete",function(){var r=(0,b.Z)(function*(o){yield n.cleanup(),n.events.emit("session_delete",o),n.events.emit("disconnect",la(Os({},(0,E.D6)("USER_DISCONNECTED")),{data:o.topic}))});return function(o){return r.apply(this,arguments)}}()),this.on("default_chain_changed",r=>{this.onChainChanged(r,!0)})}getProvider(n){if(!this.rpcProviders[n])throw new Error(`Provider not found: ${n}`);return this.rpcProviders[n]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(n=>{var r;this.getProvider(n).updateNamespace(null==(r=this.session)?void 0:r.namespaces[n])})}setNamespaces(n){const{namespaces:r,optionalNamespaces:o,sessionProperties:a}=n;r&&Object.keys(r).length&&(this.namespaces=r),o&&Object.keys(o).length&&(this.optionalNamespaces=o),this.sessionProperties=a,this.persist("namespaces",r),this.persist("optionalNamespaces",o)}validateChain(n){const[r,o]=n?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,o];if(r&&!Object.keys(this.namespaces||{}).map(h=>(0,E.M)(h)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&o)return[r,o];const a=(0,E.M)(Object.keys(this.namespaces)[0]);return[a,this.rpcProviders[a].getDefaultChain()]}requestAccounts(){var n=this;return(0,b.Z)(function*(){const[r]=n.validateChain();return yield n.getProvider(r).requestAccounts()})()}onChainChanged(n,r=!1){var o;if(!this.namespaces)return;const[a,u]=this.validateChain(n);r||this.getProvider(a).setDefaultChain(u),(null!=(o=this.namespaces[a])?o:this.namespaces[`${a}:${u}`]).defaultChain=u,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",u)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}cleanup(){var n=this;return(0,b.Z)(function*(){n.session=void 0,n.namespaces=void 0,n.optionalNamespaces=void 0,n.sessionProperties=void 0,n.persist("namespaces",void 0),n.persist("optionalNamespaces",void 0),n.persist("sessionProperties",void 0),yield n.cleanupPendingPairings({deletePairings:!0})})()}persist(n,r){this.client.core.storage.setItem(`${Su}/${n}`,r)}getFromStore(n){var r=this;return(0,b.Z)(function*(){return yield r.client.core.storage.getItem(`${Su}/${n}`)})()}}const Dp=fa,As=["eth_sendTransaction","personal_sign"],Nu=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Rs=["chainChanged","accountsChanged"],Lu=["message","disconnect","connect"];var Mp=Object.defineProperty,Zp=Object.defineProperties,Up=Object.getOwnPropertyDescriptors,ju=Object.getOwnPropertySymbols,zp=Object.prototype.hasOwnProperty,$p=Object.prototype.propertyIsEnumerable,Fu=(y,n,r)=>n in y?Mp(y,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):y[n]=r,zi=(y,n)=>{for(var r in n||(n={}))zp.call(n,r)&&Fu(y,r,n[r]);if(ju)for(var r of ju(n))$p.call(n,r)&&Fu(y,r,n[r]);return y},Mu=(y,n)=>Zp(y,Up(n));function Cs(y){return Number(y[0].split(":")[1])}function ha(y){return`0x${y.toString(16)}`}class Ts{constructor(){this.events=new ae.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(n,r)=>(this.events.on(n,r),this),this.once=(n,r)=>(this.events.once(n,r),this),this.removeListener=(n,r)=>(this.events.removeListener(n,r),this),this.off=(n,r)=>(this.events.off(n,r),this),this.parseAccount=n=>this.isCompatibleChainId(n)?this.parseAccountId(n).address:n,this.signer={},this.rpc={}}static init(n){return(0,b.Z)(function*(){const r=new Ts;return yield r.initialize(n),r})()}request(n){var r=this;return(0,b.Z)(function*(){return yield r.signer.request(n,r.formatChainId(r.chainId))})()}sendAsync(n,r){this.signer.sendAsync(n,r,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}enable(){var n=this;return(0,b.Z)(function*(){return n.session||(yield n.connect()),yield n.request({method:"eth_requestAccounts"})})()}connect(n){var r=this;return(0,b.Z)(function*(){if(!r.signer.client)throw new Error("Provider not initialized. Call init() first");r.loadConnectOpts(n);const{required:o,optional:a}=function qp(y){const{chains:n,optionalChains:r,methods:o,optionalMethods:a,events:u,optionalEvents:h,rpcMap:P}=y;if(!(0,E.qt)(n))throw new Error("Invalid chains");const N={chains:n,methods:o||As,events:u||Rs,rpcMap:zi({},n.length?{[Cs(n)]:P[Cs(n)]}:{})},q=u?.filter(Xe=>!Rs.includes(Xe)),Q=o?.filter(Xe=>!As.includes(Xe));if(!(r||h||a||null!=q&&q.length||null!=Q&&Q.length))return{required:n.length?N:void 0};const Te={chains:[...new Set(q?.length&&Q?.length||!r?N.chains.concat(r||[]):r)],methods:[...new Set(N.methods.concat(null!=a&&a.length?a:Nu))],events:[...new Set(N.events.concat(h||Lu))],rpcMap:P};return{required:n.length?N:void 0,optional:r.length?Te:void 0}}(r.rpc);try{const u=yield new Promise(function(){var P=(0,b.Z)(function*(N,q){var Q;r.rpc.showQrModal&&(null==(Q=r.modal)||Q.subscribeModal(ge=>{!ge.open&&!r.signer.session&&(r.signer.abortPairingAttempt(),q(new Error("Connection request reset. Please try again.")))})),yield r.signer.connect(Mu(zi({namespaces:zi({},o&&{[r.namespace]:o})},a&&{optionalNamespaces:{[r.namespace]:a}}),{pairingTopic:n?.pairingTopic})).then(ge=>{N(ge)}).catch(ge=>{q(new Error(ge.message))})});return function(N,q){return P.apply(this,arguments)}}());if(!u)return;r.setChainIds(r.rpc.chains);const h=(0,E.gu)(u.namespaces,[r.namespace]);r.setAccounts(h),r.events.emit("connect",{chainId:ha(r.chainId)})}catch(u){throw r.signer.logger.error(u),u}finally{r.modal&&r.modal.closeModal()}})()}disconnect(){var n=this;return(0,b.Z)(function*(){n.session&&(yield n.signer.disconnect()),n.reset()})()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",n=>{const{params:r}=n,{event:o}=r;"accountsChanged"===o.name?(this.accounts=this.parseAccounts(o.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===o.name?this.setChainId(this.formatChainId(o.data)):this.events.emit(o.name,o.data),this.events.emit("session_event",n)}),this.signer.on("chainChanged",n=>{const r=parseInt(n);this.chainId=r,this.events.emit("chainChanged",ha(this.chainId)),this.persist()}),this.signer.on("session_update",n=>{this.events.emit("session_update",n)}),this.signer.on("session_delete",n=>{this.reset(),this.events.emit("session_delete",n),this.events.emit("disconnect",Mu(zi({},(0,E.D6)("USER_DISCONNECTED")),{data:n.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",n=>{var r,o;this.rpc.showQrModal&&(null==(r=this.modal)||r.closeModal(),null==(o=this.modal)||o.openModal({uri:n})),this.events.emit("display_uri",n)})}switchEthereumChain(n){this.request({method:"wallet_switchEthereumChain",params:[{chainId:n.toString(16)}]})}isCompatibleChainId(n){return"string"==typeof n&&n.startsWith(`${this.namespace}:`)}formatChainId(n){return`${this.namespace}:${n}`}parseChainId(n){return Number(n.split(":")[1])}setChainIds(n){const r=n.filter(o=>this.isCompatibleChainId(o)).map(o=>this.parseChainId(o));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",ha(this.chainId)),this.persist())}setChainId(n){if(this.isCompatibleChainId(n)){const r=this.parseChainId(n);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(n){const[r,o,a]=n.split(":");return{chainId:`${r}:${o}`,address:a}}setAccounts(n){this.accounts=n.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(n){var r,o;const a=null!=(r=n?.chains)?r:[],u=null!=(o=n?.optionalChains)?o:[],h=a.concat(u);if(!h.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const P=a.length?n?.methods||As:[],N=a.length?n?.events||Rs:[],q=n?.optionalMethods||[],Q=n?.optionalEvents||[],ge=n?.rpcMap||this.buildRpcMap(h,n.projectId),Te=n?.qrModalOptions||void 0;return{chains:a?.map(Xe=>this.formatChainId(Xe)),optionalChains:u.map(Xe=>this.formatChainId(Xe)),methods:P,events:N,optionalMethods:q,optionalEvents:Q,rpcMap:ge,showQrModal:!(null==n||!n.showQrModal),qrModalOptions:Te,projectId:n.projectId,metadata:n.metadata}}buildRpcMap(n,r){const o={};return n.forEach(a=>{o[a]=this.getRpcUrl(a,r)}),o}initialize(n){var r=this;return(0,b.Z)(function*(){if(r.rpc=r.getRpcConfig(n),r.chainId=Cs(r.rpc.chains.length?r.rpc.chains:r.rpc.optionalChains),r.signer=yield Dp.init({projectId:r.rpc.projectId,metadata:r.rpc.metadata,disableProviderPing:n.disableProviderPing,relayUrl:n.relayUrl,storageOptions:n.storageOptions}),r.registerEventListeners(),yield r.loadPersistedSession(),r.rpc.showQrModal){let o;try{const{WalletConnectModal:a}=yield G.e(283).then(G.bind(G,1283));o=a}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(o)try{r.modal=new o(zi({walletConnectVersion:2,projectId:r.rpc.projectId,standaloneChains:r.rpc.chains},r.rpc.qrModalOptions))}catch(a){throw r.signer.logger.error(a),new Error("Could not generate WalletConnectModal Instance")}}})()}loadConnectOpts(n){if(!n)return;const{chains:r,optionalChains:o,rpcMap:a}=n;r&&(0,E.qt)(r)&&(this.rpc.chains=r.map(u=>this.formatChainId(u)),r.forEach(u=>{this.rpc.rpcMap[u]=a?.[u]||this.getRpcUrl(u)})),o&&(0,E.qt)(o)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=o?.map(u=>this.formatChainId(u)),o.forEach(u=>{this.rpc.rpcMap[u]=a?.[u]||this.getRpcUrl(u)}))}getRpcUrl(n,r){var o;return(null==(o=this.rpc.rpcMap)?void 0:o[n])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${n}&projectId=${r||this.rpc.projectId}`}loadPersistedSession(){var n=this;return(0,b.Z)(function*(){if(!n.session)return;const r=yield n.signer.client.core.storage.getItem(`${n.STORAGE_KEY}/chainId`),o=n.session.namespaces[`${n.namespace}:${r}`]?n.session.namespaces[`${n.namespace}:${r}`]:n.session.namespaces[n.namespace];n.setChainIds(r?[n.formatChainId(r)]:o?.accounts),n.setAccounts(o?.accounts)})()}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(n){return"string"==typeof n||n instanceof String?[this.parseAccount(n)]:n.map(r=>this.parseAccount(r))}}const Bp=Ts},232:(De,M,G)=>{"use strict";G.d(M,{q:()=>b});class b{}},1252:(De,M,G)=>{"use strict";G.r(M),G.d(M,{IEvents:()=>b.q});var b=G(232)},3510:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.HEARTBEAT_EVENTS=M.HEARTBEAT_INTERVAL=void 0;const b=G(3961);M.HEARTBEAT_INTERVAL=b.FIVE_SECONDS,M.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},6844:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),G(9653).__exportStar(G(3510),M)},2271:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.HeartBeat=void 0;const b=G(9653),ae=G(9069),_e=G(3961),E=G(6925),X=G(6844);class we extends E.IHeartBeat{constructor(te){super(te),this.events=new ae.EventEmitter,this.interval=X.HEARTBEAT_INTERVAL,this.interval=te?.interval||X.HEARTBEAT_INTERVAL}static init(te){return b.__awaiter(this,void 0,void 0,function*(){const ce=new we(te);return yield ce.init(),ce})}init(){return b.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(te,ce){this.events.on(te,ce)}once(te,ce){this.events.once(te,ce)}off(te,ce){this.events.off(te,ce)}removeListener(te,ce){this.events.removeListener(te,ce)}initialize(){return b.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),_e.toMiliseconds(this.interval))})}pulse(){this.events.emit(X.HEARTBEAT_EVENTS.pulse)}}M.HeartBeat=we},2062:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});const b=G(9653);b.__exportStar(G(2271),M),b.__exportStar(G(6925),M),b.__exportStar(G(6844),M)},8891:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.IHeartBeat=void 0;const b=G(1252);M.IHeartBeat=class ae extends b.IEvents{constructor(E){super()}}},6925:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),G(9653).__exportStar(G(8891),M)},5504:De=>{"use strict";De.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},9274:(De,M,G)=>{"use strict";const ae=G(2461),_e=G(1404),E=ae.__importDefault(G(6474)),X=G(285);M.ZP=class we{constructor(){this.localStorage=E.default}getKeys(){return ae.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return ae.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(X.parseEntry)})}getItem(te){return ae.__awaiter(this,void 0,void 0,function*(){const ce=this.localStorage.getItem(te);if(null!==ce)return _e.safeJsonParse(ce)})}setItem(te,ce){return ae.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(te,_e.safeJsonStringify(ce))})}removeItem(te){return ae.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(te)})}}},6474:De=>{"use strict";!function(){let M;function G(){}M=G,M.prototype.getItem=function(b){return this.hasOwnProperty(b)?String(this[b]):null},M.prototype.setItem=function(b,ae){this[b]=String(ae)},M.prototype.removeItem=function(b){delete this[b]},M.prototype.clear=function(){const b=this;Object.keys(b).forEach(function(ae){b[ae]=void 0,delete b[ae]})},M.prototype.key=function(b){return b=b||0,Object.keys(this)[b]},M.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),De.exports=typeof global<"u"&&global.localStorage?global.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:new G}()},285:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});const b=G(2461);b.__exportStar(G(4110),M),b.__exportStar(G(1474),M)},4110:(De,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.IKeyValueStorage=void 0,M.IKeyValueStorage=class G{}},1474:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.parseEntry=void 0;const b=G(1404);M.parseEntry=function ae(_e){var E;return[_e[0],b.safeJsonParse(null!==(E=_e[1])&&void 0!==E?E:"")]}},6552:(De,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PINO_CUSTOM_CONTEXT_KEY=M.PINO_LOGGER_DEFAULTS=void 0,M.PINO_LOGGER_DEFAULTS={level:"info"},M.PINO_CUSTOM_CONTEXT_KEY="custom_context"},8767:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.pino=void 0;const b=G(7121),ae=b.__importDefault(G(8544));Object.defineProperty(M,"pino",{enumerable:!0,get:function(){return ae.default}}),b.__exportStar(G(6552),M),b.__exportStar(G(6873),M)},6873:(De,M,G)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.generateChildLogger=M.formatChildLoggerContext=M.getLoggerContext=M.setBrowserLoggerContext=M.getBrowserLoggerContext=M.getDefaultLoggerOptions=void 0;const b=G(6552);function _e(te,ce=b.PINO_CUSTOM_CONTEXT_KEY){return te[ce]||""}function E(te,ce,le=b.PINO_CUSTOM_CONTEXT_KEY){return te[le]=ce,te}function X(te,ce=b.PINO_CUSTOM_CONTEXT_KEY){let le="";return le=typeof te.bindings>"u"?_e(te,ce):te.bindings().context||"",le}function we(te,ce,le=b.PINO_CUSTOM_CONTEXT_KEY){const Pe=X(te,le);return Pe.trim()?`${Pe}/${ce}`:ce}M.getDefaultLoggerOptions=function ae(te){return Object.assign(Object.assign({},te),{level:te?.level||b.PINO_LOGGER_DEFAULTS.level})},M.getBrowserLoggerContext=_e,M.setBrowserLoggerContext=E,M.getLoggerContext=X,M.formatChildLoggerContext=we,M.generateChildLogger=function he(te,ce,le=b.PINO_CUSTOM_CONTEXT_KEY){const Pe=we(te,ce,le);return E(te.child({context:Pe}),Pe,le)}},2088:()=>{},8472:function(De,M){var _e,G=typeof self<"u"?self:this,b=function(){function _e(){this.fetch=!1,this.DOMException=G.DOMException}return _e.prototype=G,new _e}();_e=b,function(X){var we={searchParams:"URLSearchParams"in _e,iterable:"Symbol"in _e&&"iterator"in Symbol,blob:"FileReader"in _e&&"Blob"in _e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in _e,arrayBuffer:"ArrayBuffer"in _e};if(we.arrayBuffer)var te=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ce=ArrayBuffer.isView||function(v){return v&&te.indexOf(Object.prototype.toString.call(v))>-1};function le(v){if("string"!=typeof v&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function Pe(v){return"string"!=typeof v&&(v=String(v)),v}function me(v){var d={next:function(){var x=v.shift();return{done:void 0===x,value:x}}};return we.iterable&&(d[Symbol.iterator]=function(){return d}),d}function Ie(v){this.map={},v instanceof Ie?v.forEach(function(d,x){this.append(x,d)},this):Array.isArray(v)?v.forEach(function(d){this.append(d[0],d[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(d){this.append(d,v[d])},this)}function de(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function ke(v){return new Promise(function(d,x){v.onload=function(){d(v.result)},v.onerror=function(){x(v.error)}})}function je(v){var d=new FileReader,x=ke(d);return d.readAsArrayBuffer(v),x}function se(v){if(v.slice)return v.slice(0);var d=new Uint8Array(v.byteLength);return d.set(new Uint8Array(v)),d.buffer}function ne(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?"string"==typeof v?this._bodyText=v:we.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:we.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:we.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():we.arrayBuffer&&we.blob&&function he(v){return v&&DataView.prototype.isPrototypeOf(v)}(v)?(this._bodyArrayBuffer=se(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):we.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||ce(v))?this._bodyArrayBuffer=se(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||("string"==typeof v?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):we.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},we.blob&&(this.blob=function(){var v=de(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?de(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(je)}),this.text=function(){var v=de(this);if(v)return v;if(this._bodyBlob)return function He(v){var d=new FileReader,x=ke(d);return d.readAsText(v),x}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function Ge(v){for(var d=new Uint8Array(v),x=new Array(d.length),T=0;T<d.length;T++)x[T]=String.fromCharCode(d[T]);return x.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},we.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}Ie.prototype.append=function(v,d){v=le(v),d=Pe(d);var x=this.map[v];this.map[v]=x?x+", "+d:d},Ie.prototype.delete=function(v){delete this.map[le(v)]},Ie.prototype.get=function(v){return v=le(v),this.has(v)?this.map[v]:null},Ie.prototype.has=function(v){return this.map.hasOwnProperty(le(v))},Ie.prototype.set=function(v,d){this.map[le(v)]=Pe(d)},Ie.prototype.forEach=function(v,d){for(var x in this.map)this.map.hasOwnProperty(x)&&v.call(d,this.map[x],x,this)},Ie.prototype.keys=function(){var v=[];return this.forEach(function(d,x){v.push(x)}),me(v)},Ie.prototype.values=function(){var v=[];return this.forEach(function(d){v.push(d)}),me(v)},Ie.prototype.entries=function(){var v=[];return this.forEach(function(d,x){v.push([x,d])}),me(v)},we.iterable&&(Ie.prototype[Symbol.iterator]=Ie.prototype.entries);var ue=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Z(v,d){var x=(d=d||{}).body;if(v instanceof Z){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,d.headers||(this.headers=new Ie(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!x&&null!=v._bodyInit&&(x=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new Ie(d.headers)),this.method=function fe(v){var d=v.toUpperCase();return ue.indexOf(d)>-1?d:v}(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}function W(v){var d=new FormData;return v.trim().split("&").forEach(function(x){if(x){var T=x.split("="),pe=T.shift().replace(/\+/g," "),A=T.join("=").replace(/\+/g," ");d.append(decodeURIComponent(pe),decodeURIComponent(A))}}),d}function p(v){var d=new Ie;return v.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(T){var pe=T.split(":"),A=pe.shift().trim();if(A){var H=pe.join(":").trim();d.append(A,H)}}),d}function m(v,d){d||(d={}),this.type="default",this.status=void 0===d.status?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new Ie(d.headers),this.url=d.url||"",this._initBody(v)}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})},ne.call(Z.prototype),ne.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ie(this.headers),url:this.url})},m.error=function(){var v=new m(null,{status:0,statusText:""});return v.type="error",v};var _=[301,302,303,307,308];m.redirect=function(v,d){if(-1===_.indexOf(d))throw new RangeError("Invalid status code");return new m(null,{status:d,headers:{location:v}})},X.DOMException=_e.DOMException;try{new X.DOMException}catch{X.DOMException=function(d,x){this.message=d,this.name=x;var T=Error(d);this.stack=T.stack},X.DOMException.prototype=Object.create(Error.prototype),X.DOMException.prototype.constructor=X.DOMException}function S(v,d){return new Promise(function(x,T){var pe=new Z(v,d);if(pe.signal&&pe.signal.aborted)return T(new X.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function H(){A.abort()}A.onload=function(){var re={status:A.status,statusText:A.statusText,headers:p(A.getAllResponseHeaders()||"")};re.url="responseURL"in A?A.responseURL:re.headers.get("X-Request-URL"),x(new m("response"in A?A.response:A.responseText,re))},A.onerror=function(){T(new TypeError("Network request failed"))},A.ontimeout=function(){T(new TypeError("Network request failed"))},A.onabort=function(){T(new X.DOMException("Aborted","AbortError"))},A.open(pe.method,pe.url,!0),"include"===pe.credentials?A.withCredentials=!0:"omit"===pe.credentials&&(A.withCredentials=!1),"responseType"in A&&we.blob&&(A.responseType="blob"),pe.headers.forEach(function(re,$){A.setRequestHeader($,re)}),pe.signal&&(pe.signal.addEventListener("abort",H),A.onreadystatechange=function(){4===A.readyState&&pe.signal.removeEventListener("abort",H)}),A.send(typeof pe._bodyInit>"u"?null:pe._bodyInit)})}S.polyfill=!0,_e.fetch||(_e.fetch=S,_e.Headers=Ie,_e.Request=Z,_e.Response=m),X.Headers=Ie,X.Request=Z,X.Response=m,X.fetch=S,Object.defineProperty(X,"__esModule",{value:!0})}({}),b.fetch.ponyfill=!0,delete b.fetch.polyfill;var ae=b;(M=ae.fetch).default=ae.fetch,M.fetch=ae.fetch,M.Headers=ae.Headers,M.Request=ae.Request,M.Response=ae.Response,De.exports=M},9069:De=>{"use strict";var b,M="object"==typeof Reflect?Reflect:null,G=M&&"function"==typeof M.apply?M.apply:function(ne,ue,fe){return Function.prototype.apply.call(ne,ue,fe)};b=M&&"function"==typeof M.ownKeys?M.ownKeys:Object.getOwnPropertySymbols?function(ne){return Object.getOwnPropertyNames(ne).concat(Object.getOwnPropertySymbols(ne))}:function(ne){return Object.getOwnPropertyNames(ne)};var _e=Number.isNaN||function(ne){return ne!=ne};function E(){E.init.call(this)}De.exports=E,De.exports.once=function je(se,ne){return new Promise(function(ue,fe){function Z(p){se.removeListener(ne,W),fe(p)}function W(){"function"==typeof se.removeListener&&se.removeListener("error",Z),ue([].slice.call(arguments))}Ge(se,ne,W,{once:!0}),"error"!==ne&&function He(se,ne,ue){"function"==typeof se.on&&Ge(se,"error",ne,ue)}(se,Z,{once:!0})})},E.EventEmitter=E,E.prototype._events=void 0,E.prototype._eventsCount=0,E.prototype._maxListeners=void 0;var X=10;function we(se){if("function"!=typeof se)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof se)}function he(se){return void 0===se._maxListeners?E.defaultMaxListeners:se._maxListeners}function te(se,ne,ue,fe){var Z,W,p;if(we(ue),void 0===(W=se._events)?(W=se._events=Object.create(null),se._eventsCount=0):(void 0!==W.newListener&&(se.emit("newListener",ne,ue.listener?ue.listener:ue),W=se._events),p=W[ne]),void 0===p)p=W[ne]=ue,++se._eventsCount;else if("function"==typeof p?p=W[ne]=fe?[ue,p]:[p,ue]:fe?p.unshift(ue):p.push(ue),(Z=he(se))>0&&p.length>Z&&!p.warned){p.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(ne)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=se,m.type=ne,m.count=p.length,function ae(se){console&&console.warn&&console.warn(se)}(m)}return se}function ce(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function le(se,ne,ue){var fe={fired:!1,wrapFn:void 0,target:se,type:ne,listener:ue},Z=ce.bind(fe);return Z.listener=ue,fe.wrapFn=Z,Z}function Pe(se,ne,ue){var fe=se._events;if(void 0===fe)return[];var Z=fe[ne];return void 0===Z?[]:"function"==typeof Z?ue?[Z.listener||Z]:[Z]:ue?function ke(se){for(var ne=new Array(se.length),ue=0;ue<ne.length;++ue)ne[ue]=se[ue].listener||se[ue];return ne}(Z):Ie(Z,Z.length)}function me(se){var ne=this._events;if(void 0!==ne){var ue=ne[se];if("function"==typeof ue)return 1;if(void 0!==ue)return ue.length}return 0}function Ie(se,ne){for(var ue=new Array(ne),fe=0;fe<ne;++fe)ue[fe]=se[fe];return ue}function Ge(se,ne,ue,fe){if("function"==typeof se.on)fe.once?se.once(ne,ue):se.on(ne,ue);else{if("function"!=typeof se.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof se);se.addEventListener(ne,function Z(W){fe.once&&se.removeEventListener(ne,Z),ue(W)})}}Object.defineProperty(E,"defaultMaxListeners",{enumerable:!0,get:function(){return X},set:function(se){if("number"!=typeof se||se<0||_e(se))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+se+".");X=se}}),E.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},E.prototype.setMaxListeners=function(ne){if("number"!=typeof ne||ne<0||_e(ne))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ne+".");return this._maxListeners=ne,this},E.prototype.getMaxListeners=function(){return he(this)},E.prototype.emit=function(ne){for(var ue=[],fe=1;fe<arguments.length;fe++)ue.push(arguments[fe]);var Z="error"===ne,W=this._events;if(void 0!==W)Z=Z&&void 0===W.error;else if(!Z)return!1;if(Z){var p;if(ue.length>0&&(p=ue[0]),p instanceof Error)throw p;var m=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw m.context=p,m}var _=W[ne];if(void 0===_)return!1;if("function"==typeof _)G(_,this,ue);else{var S=_.length,v=Ie(_,S);for(fe=0;fe<S;++fe)G(v[fe],this,ue)}return!0},E.prototype.on=E.prototype.addListener=function(ne,ue){return te(this,ne,ue,!1)},E.prototype.prependListener=function(ne,ue){return te(this,ne,ue,!0)},E.prototype.once=function(ne,ue){return we(ue),this.on(ne,le(this,ne,ue)),this},E.prototype.prependOnceListener=function(ne,ue){return we(ue),this.prependListener(ne,le(this,ne,ue)),this},E.prototype.off=E.prototype.removeListener=function(ne,ue){var fe,Z,W,p,m;if(we(ue),void 0===(Z=this._events))return this;if(void 0===(fe=Z[ne]))return this;if(fe===ue||fe.listener===ue)0==--this._eventsCount?this._events=Object.create(null):(delete Z[ne],Z.removeListener&&this.emit("removeListener",ne,fe.listener||ue));else if("function"!=typeof fe){for(W=-1,p=fe.length-1;p>=0;p--)if(fe[p]===ue||fe[p].listener===ue){m=fe[p].listener,W=p;break}if(W<0)return this;0===W?fe.shift():function de(se,ne){for(;ne+1<se.length;ne++)se[ne]=se[ne+1];se.pop()}(fe,W),1===fe.length&&(Z[ne]=fe[0]),void 0!==Z.removeListener&&this.emit("removeListener",ne,m||ue)}return this},E.prototype.removeAllListeners=function(ne){var ue,fe,Z;if(void 0===(fe=this._events))return this;if(void 0===fe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==fe[ne]&&(0==--this._eventsCount?this._events=Object.create(null):delete fe[ne]),this;if(0===arguments.length){var p,W=Object.keys(fe);for(Z=0;Z<W.length;++Z)"removeListener"!==(p=W[Z])&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ue=fe[ne]))this.removeListener(ne,ue);else if(void 0!==ue)for(Z=ue.length-1;Z>=0;Z--)this.removeListener(ne,ue[Z]);return this},E.prototype.listeners=function(ne){return Pe(this,ne,!0)},E.prototype.rawListeners=function(ne){return Pe(this,ne,!1)},E.listenerCount=function(se,ne){return"function"==typeof se.listenerCount?se.listenerCount(ne):me.call(se,ne)},E.prototype.listenerCount=me,E.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]}},8222:(De,M,G)=>{De=G.nmd(De);var ae="__lodash_hash_undefined__",_e=1,E=2,X=9007199254740991,we="[object Arguments]",he="[object Array]",te="[object AsyncFunction]",ce="[object Boolean]",le="[object Date]",Pe="[object Error]",me="[object Function]",Ie="[object GeneratorFunction]",de="[object Map]",ke="[object Number]",je="[object Null]",He="[object Object]",Ge="[object Promise]",se="[object Proxy]",ne="[object RegExp]",ue="[object Set]",fe="[object String]",W="[object Undefined]",p="[object WeakMap]",m="[object ArrayBuffer]",_="[object DataView]",Se=/^\[object .+?Constructor\]$/,$e=/^(?:0|[1-9]\d*)$/,Le={};Le["[object Float32Array]"]=Le["[object Float64Array]"]=Le["[object Int8Array]"]=Le["[object Int16Array]"]=Le["[object Int32Array]"]=Le["[object Uint8Array]"]=Le["[object Uint8ClampedArray]"]=Le["[object Uint16Array]"]=Le["[object Uint32Array]"]=!0,Le[we]=Le[he]=Le[m]=Le[ce]=Le[_]=Le[le]=Le[Pe]=Le[me]=Le[de]=Le[ke]=Le[He]=Le[ne]=Le[ue]=Le[fe]=Le[p]=!1;var Xr="object"==typeof global&&global&&global.Object===Object&&global,Qr="object"==typeof self&&self&&self.Object===Object&&self,dt=Xr||Qr||Function("return this")(),V=M&&!M.nodeType&&M,k=V&&De&&!De.nodeType&&De,z=k&&k.exports===V,f=z&&Xr.process,D=function(){try{return f&&f.binding&&f.binding("util")}catch{}}(),Ee=D&&D.isTypedArray;function ut(O,L){for(var ie=-1,ve=null==O?0:O.length;++ie<ve;)if(L(O[ie],ie,O))return!0;return!1}function qt(O,L){return O.has(L)}function sr(O){var L=-1,ie=Array(O.size);return O.forEach(function(ve,lt){ie[++L]=[lt,ve]}),ie}function Ht(O){var L=-1,ie=Array(O.size);return O.forEach(function(ve){ie[++L]=ve}),ie}var O,St=Array.prototype,it=Object.prototype,pt=dt["__core-js_shared__"],at=Function.prototype.toString,ct=it.hasOwnProperty,Vt=(O=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",Yt=it.toString,lr=RegExp("^"+at.call(ct).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fr=z?dt.Buffer:void 0,or=dt.Symbol,gr=dt.Uint8Array,yr=it.propertyIsEnumerable,zr=St.splice,_r=or?or.toStringTag:void 0,br=Object.getOwnPropertySymbols,fn=fr?fr.isBuffer:void 0,Jn=function Bt(O,L){return function(ie){return O(L(ie))}}(Object.keys,Object),hn=rn(dt,"DataView"),dn=rn(dt,"Map"),Ot=rn(dt,"Promise"),At=rn(dt,"Set"),jt=rn(dt,"WeakMap"),vt=rn(Object,"create"),kt=In(hn),Xt=In(dn),Ft=In(Ot),Dt=In(At),Rt=In(jt),Ct=or?or.prototype:void 0,mt=Ct?Ct.valueOf:void 0;function gt(O){var L=-1,ie=null==O?0:O.length;for(this.clear();++L<ie;){var ve=O[L];this.set(ve[0],ve[1])}}function en(O){var L=-1,ie=null==O?0:O.length;for(this.clear();++L<ie;){var ve=O[L];this.set(ve[0],ve[1])}}function pn(O){var L=-1,ie=null==O?0:O.length;for(this.clear();++L<ie;){var ve=O[L];this.set(ve[0],ve[1])}}function Dr(O){var L=-1,ie=null==O?0:O.length;for(this.__data__=new pn;++L<ie;)this.add(O[L])}function gn(O){var L=this.__data__=new en(O);this.size=L.size}function li(O,L){for(var ie=O.length;ie--;)if(vs(O[ie][0],L))return ie;return-1}function Wn(O){return null==O?void 0===O?W:je:_r&&_r in Object(O)?function Yn(O){var L=ct.call(O,_r),ie=O[_r];try{O[_r]=void 0;var ve=!0}catch{}var lt=Yt.call(O);return ve&&(L?O[_r]=ie:delete O[_r]),lt}(O):function qo(O){return Yt.call(O)}(O)}function ps(O){return Xn(O)&&Wn(O)==we}function gs(O,L,ie,ve,lt){return O===L||(null==O||null==L||!Xn(O)&&!Xn(L)?O!=O&&L!=L:function No(O,L,ie,ve,lt,Me){var Et=hi(O),Wt=hi(L),tr=Et?he:yn(O),bt=Wt?he:yn(L),wr=(tr=tr==we?He:tr)==He,Nr=(bt=bt==we?He:bt)==He,ar=tr==bt;if(ar&&Li(O)){if(!Li(L))return!1;Et=!0,wr=!1}if(ar&&!wr)return Me||(Me=new gn),Et||xs(O)?_s(O,L,ie,ve,lt,Me):function Fo(O,L,ie,ve,lt,Me,Et){switch(ie){case _:if(O.byteLength!=L.byteLength||O.byteOffset!=L.byteOffset)return!1;O=O.buffer,L=L.buffer;case m:return!(O.byteLength!=L.byteLength||!Me(new gr(O),new gr(L)));case ce:case le:case ke:return vs(+O,+L);case Pe:return O.name==L.name&&O.message==L.message;case ne:case fe:return O==L+"";case de:var Wt=sr;case ue:if(Wt||(Wt=Ht),O.size!=L.size&&!(ve&_e))return!1;var bt=Et.get(O);if(bt)return bt==L;ve|=E,Et.set(O,L);var wr=_s(Wt(O),Wt(L),ve,lt,Me,Et);return Et.delete(O),wr;case"[object Symbol]":if(mt)return mt.call(O)==mt.call(L)}return!1}(O,L,tr,ie,ve,lt,Me);if(!(ie&_e)){var xr=wr&&ct.call(O,"__wrapped__"),Pr=Nr&&ct.call(L,"__wrapped__");if(xr||Pr){var _n=xr?O.value():O,nn=Pr?L.value():L;return Me||(Me=new gn),lt(_n,nn,ie,ve,Me)}}return!!ar&&(Me||(Me=new gn),function Mo(O,L,ie,ve,lt,Me){var Et=ie&_e,Wt=Ni(O),tr=Wt.length;if(tr!=Ni(L).length&&!Et)return!1;for(var Nr=tr;Nr--;){var ar=Wt[Nr];if(!(Et?ar in L:ct.call(L,ar)))return!1}var xr=Me.get(O);if(xr&&Me.get(L))return xr==L;var Pr=!0;Me.set(O,L),Me.set(L,O);for(var _n=Et;++Nr<tr;){var nn=O[ar=Wt[Nr]],Sn=L[ar];if(ve)var Es=Et?ve(Sn,nn,ar,L,O,Me):ve(nn,Sn,ar,O,L,Me);if(!(void 0===Es?nn===Sn||lt(nn,Sn,ie,ve,Me):Es)){Pr=!1;break}_n||(_n="constructor"==ar)}if(Pr&&!_n){var di=O.constructor,pi=L.constructor;di!=pi&&"constructor"in O&&"constructor"in L&&!("function"==typeof di&&di instanceof di&&"function"==typeof pi&&pi instanceof pi)&&(Pr=!1)}return Me.delete(O),Me.delete(L),Pr}(O,L,ie,ve,lt,Me))}(O,L,ie,ve,gs,lt))}function _s(O,L,ie,ve,lt,Me){var Et=ie&_e,Wt=O.length,tr=L.length;if(Wt!=tr&&!(Et&&tr>Wt))return!1;var bt=Me.get(O);if(bt&&Me.get(L))return bt==L;var wr=-1,Nr=!0,ar=ie&E?new Dr:void 0;for(Me.set(O,L),Me.set(L,O);++wr<Wt;){var xr=O[wr],Pr=L[wr];if(ve)var _n=Et?ve(Pr,xr,wr,L,O,Me):ve(xr,Pr,wr,O,L,Me);if(void 0!==_n){if(_n)continue;Nr=!1;break}if(ar){if(!ut(L,function(nn,Sn){if(!qt(ar,Sn)&&(xr===nn||lt(xr,nn,ie,ve,Me)))return ar.push(Sn)})){Nr=!1;break}}else if(xr!==Pr&&!lt(xr,Pr,ie,ve,Me)){Nr=!1;break}}return Me.delete(O),Me.delete(L),Nr}function Ni(O){return function Do(O,L,ie){var ve=L(O);return hi(O)?ve:function We(O,L){for(var ie=-1,ve=L.length,lt=O.length;++ie<ve;)O[lt+ie]=L[ie];return O}(ve,ie(O))}(O,ko,Zo)}function fi(O,L){var ie=O.__data__;return function Uo(O){var L=typeof O;return"string"==L||"number"==L||"symbol"==L||"boolean"==L?"__proto__"!==O:null===O}(L)?ie["string"==typeof L?"string":"hash"]:ie.map}function rn(O,L){var ie=function ir(O,L){return O?.[L]}(O,L);return function ys(O){return!(!ws(O)||function zo(O){return!!Vt&&Vt in O}(O))&&(ms(O)?lr:Se).test(In(O))}(ie)?ie:void 0}gt.prototype.clear=function Kt(){this.__data__=vt?vt(null):{},this.size=0},gt.prototype.delete=function Qt(O){var L=this.has(O)&&delete this.__data__[O];return this.size-=L?1:0,L},gt.prototype.get=function Gt(O){var L=this.__data__;if(vt){var ie=L[O];return ie===ae?void 0:ie}return ct.call(L,O)?L[O]:void 0},gt.prototype.has=function Jt(O){var L=this.__data__;return vt?void 0!==L[O]:ct.call(L,O)},gt.prototype.set=function Po(O,L){var ie=this.__data__;return this.size+=this.has(O)?0:1,ie[O]=vt&&void 0===L?ae:L,this},en.prototype.clear=function Oo(){this.__data__=[],this.size=0},en.prototype.delete=function us(O){var L=this.__data__,ie=li(L,O);return!(ie<0||(ie==L.length-1?L.pop():zr.call(L,ie,1),--this.size,0))},en.prototype.get=function ls(O){var L=this.__data__,ie=li(L,O);return ie<0?void 0:L[ie][1]},en.prototype.has=function fs(O){return li(this.__data__,O)>-1},en.prototype.set=function Ao(O,L){var ie=this.__data__,ve=li(ie,O);return ve<0?(++this.size,ie.push([O,L])):ie[ve][1]=L,this},pn.prototype.clear=function Di(){this.size=0,this.__data__={hash:new gt,map:new(dn||en),string:new gt}},pn.prototype.delete=function ui(O){var L=fi(this,O).delete(O);return this.size-=L?1:0,L},pn.prototype.get=function tn(O){return fi(this,O).get(O)},pn.prototype.has=function Tr(O){return fi(this,O).has(O)},pn.prototype.set=function Lc(O,L){var ie=fi(this,O),ve=ie.size;return ie.set(O,L),this.size+=ie.size==ve?0:1,this},Dr.prototype.add=Dr.prototype.push=function jc(O){return this.__data__.set(O,ae),this},Dr.prototype.has=function Fc(O){return this.__data__.has(O)},gn.prototype.clear=function Ro(){this.__data__=new en,this.size=0},gn.prototype.delete=function hs(O){var L=this.__data__,ie=L.delete(O);return this.size=L.size,ie},gn.prototype.get=function ds(O){return this.__data__.get(O)},gn.prototype.has=function Co(O){return this.__data__.has(O)},gn.prototype.set=function To(O,L){var ie=this.__data__;if(ie instanceof en){var ve=ie.__data__;if(!dn||ve.length<199)return ve.push([O,L]),this.size=++ie.size,this;ie=this.__data__=new pn(ve)}return ie.set(O,L),this.size=ie.size,this};var Zo=br?function(O){return null==O?[]:(O=Object(O),function Ne(O,L){for(var ie=-1,ve=null==O?0:O.length,lt=0,Me=[];++ie<ve;){var Et=O[ie];L(Et,ie,O)&&(Me[lt++]=Et)}return Me}(br(O),function(L){return yr.call(O,L)}))}:function Ko(){return[]},yn=Wn;function er(O,L){return!!(L=L??X)&&("number"==typeof O||$e.test(O))&&O>-1&&O%1==0&&O<L}function In(O){if(null!=O){try{return at.call(O)}catch{}try{return O+""}catch{}}return""}function vs(O,L){return O===L||O!=O&&L!=L}(hn&&yn(new hn(new ArrayBuffer(1)))!=_||dn&&yn(new dn)!=de||Ot&&yn(Ot.resolve())!=Ge||At&&yn(new At)!=ue||jt&&yn(new jt)!=p)&&(yn=function(O){var L=Wn(O),ie=L==He?O.constructor:void 0,ve=ie?In(ie):"";if(ve)switch(ve){case kt:return _;case Xt:return de;case Ft:return Ge;case Dt:return ue;case Rt:return p}return L});var Bo=ps(function(){return arguments}())?ps:function(O){return Xn(O)&&ct.call(O,"callee")&&!yr.call(O,"callee")},hi=Array.isArray,Li=fn||function Go(){return!1};function ms(O){if(!ws(O))return!1;var L=Wn(O);return L==me||L==Ie||L==te||L==se}function bs(O){return"number"==typeof O&&O>-1&&O%1==0&&O<=X}function ws(O){var L=typeof O;return null!=O&&("object"==L||"function"==L)}function Xn(O){return null!=O&&"object"==typeof O}var xs=Ee?function ot(O){return function(L){return O(L)}}(Ee):function Lo(O){return Xn(O)&&bs(O.length)&&!!Le[Wn(O)]};function ko(O){return function Ho(O){return null!=O&&bs(O.length)&&!ms(O)}(O)?function Mc(O,L){var ie=hi(O),ve=!ie&&Bo(O),lt=!ie&&!ve&&Li(O),Me=!ie&&!ve&&!lt&&xs(O),Et=ie||ve||lt||Me,Wt=Et?function tt(O,L){for(var ie=-1,ve=Array(O);++ie<O;)ve[ie]=L(ie);return ve}(O.length,String):[],tr=Wt.length;for(var bt in O)(L||ct.call(O,bt))&&(!Et||!("length"==bt||lt&&("offset"==bt||"parent"==bt)||Me&&("buffer"==bt||"byteLength"==bt||"byteOffset"==bt)||er(bt,tr)))&&Wt.push(bt);return Wt}(O):function jo(O){if(!function $o(O){var L=O&&O.constructor;return O===("function"==typeof L&&L.prototype||it)}(O))return Jn(O);var L=[];for(var ie in Object(O))ct.call(O,ie)&&"constructor"!=ie&&L.push(ie);return L}(O)}De.exports=function Vo(O,L){return gs(O,L)}},8958:De=>{"use strict";function M(b){try{return JSON.stringify(b)}catch{return'"[Circular]"'}}De.exports=function G(b,ae,_e){var E=_e&&_e.stringify||M;if("object"==typeof b&&null!==b){var we=ae.length+1;if(1===we)return b;var he=new Array(we);he[0]=E(b);for(var te=1;te<we;te++)he[te]=E(ae[te]);return he.join(" ")}if("string"!=typeof b)return b;var ce=ae.length;if(0===ce)return b;for(var le="",Pe=0,me=-1,Ie=b&&b.length||0,de=0;de<Ie;){if(37===b.charCodeAt(de)&&de+1<Ie){switch(me=me>-1?me:0,b.charCodeAt(de+1)){case 100:case 102:if(Pe>=ce||null==ae[Pe])break;me<de&&(le+=b.slice(me,de)),le+=Number(ae[Pe]),me=de+2,de++;break;case 105:if(Pe>=ce||null==ae[Pe])break;me<de&&(le+=b.slice(me,de)),le+=Math.floor(Number(ae[Pe])),me=de+2,de++;break;case 79:case 111:case 106:if(Pe>=ce||void 0===ae[Pe])break;me<de&&(le+=b.slice(me,de));var ke=typeof ae[Pe];if("string"===ke){le+="'"+ae[Pe]+"'",me=de+2,de++;break}if("function"===ke){le+=ae[Pe].name||"<anonymous>",me=de+2,de++;break}le+=E(ae[Pe]),me=de+2,de++;break;case 115:if(Pe>=ce)break;me<de&&(le+=b.slice(me,de)),le+=String(ae[Pe]),me=de+2,de++;break;case 37:me<de&&(le+=b.slice(me,de)),le+="%",me=de+2,de++,Pe--}++Pe}++de}return-1===me?b:(me<Ie&&(le+=b.slice(me)),le)}},1404:(De,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.safeJsonParse=function G(ae){if("string"!=typeof ae)throw new Error("Cannot safe json parse value of type "+typeof ae);try{return JSON.parse(ae)}catch{return ae}},M.safeJsonStringify=function b(ae){return"string"==typeof ae?ae:JSON.stringify(ae,(_e,E)=>typeof E>"u"?null:E)}},4308:(De,M,G)=>{"use strict";G.r(M),G.d(M,{__assign:()=>_e,__asyncDelegator:()=>Ge,__asyncGenerator:()=>He,__asyncValues:()=>se,__await:()=>je,__awaiter:()=>te,__classPrivateFieldGet:()=>Z,__classPrivateFieldSet:()=>W,__createBinding:()=>le,__decorate:()=>X,__exportStar:()=>Pe,__extends:()=>ae,__generator:()=>ce,__importDefault:()=>fe,__importStar:()=>ue,__makeTemplateObject:()=>ne,__metadata:()=>he,__param:()=>we,__read:()=>Ie,__rest:()=>E,__spread:()=>de,__spreadArrays:()=>ke,__values:()=>me});var b=function(p,m){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var v in S)S.hasOwnProperty(v)&&(_[v]=S[v])})(p,m)};function ae(p,m){function _(){this.constructor=p}b(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var _e=function(){return _e=Object.assign||function(m){for(var _,S=1,v=arguments.length;S<v;S++)for(var d in _=arguments[S])Object.prototype.hasOwnProperty.call(_,d)&&(m[d]=_[d]);return m},_e.apply(this,arguments)};function E(p,m){var _={};for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&m.indexOf(S)<0&&(_[S]=p[S]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(S=Object.getOwnPropertySymbols(p);v<S.length;v++)m.indexOf(S[v])<0&&Object.prototype.propertyIsEnumerable.call(p,S[v])&&(_[S[v]]=p[S[v]])}return _}function X(p,m,_,S){var x,v=arguments.length,d=v<3?m:null===S?S=Object.getOwnPropertyDescriptor(m,_):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,_,S);else for(var T=p.length-1;T>=0;T--)(x=p[T])&&(d=(v<3?x(d):v>3?x(m,_,d):x(m,_))||d);return v>3&&d&&Object.defineProperty(m,_,d),d}function we(p,m){return function(_,S){m(_,S,p)}}function he(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function te(p,m,_,S){return new(_||(_=Promise))(function(d,x){function T(H){try{A(S.next(H))}catch(re){x(re)}}function pe(H){try{A(S.throw(H))}catch(re){x(re)}}function A(H){H.done?d(H.value):function v(d){return d instanceof _?d:new _(function(x){x(d)})}(H.value).then(T,pe)}A((S=S.apply(p,m||[])).next())})}function ce(p,m){var S,v,d,x,_={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function T(A){return function(H){return function pe(A){if(S)throw new TypeError("Generator is already executing.");for(;_;)try{if(S=1,v&&(d=2&A[0]?v.return:A[0]?v.throw||((d=v.return)&&d.call(v),0):v.next)&&!(d=d.call(v,A[1])).done)return d;switch(v=0,d&&(A=[2&A[0],d.value]),A[0]){case 0:case 1:d=A;break;case 4:return _.label++,{value:A[1],done:!1};case 5:_.label++,v=A[1],A=[0];continue;case 7:A=_.ops.pop(),_.trys.pop();continue;default:if(!(d=(d=_.trys).length>0&&d[d.length-1])&&(6===A[0]||2===A[0])){_=0;continue}if(3===A[0]&&(!d||A[1]>d[0]&&A[1]<d[3])){_.label=A[1];break}if(6===A[0]&&_.label<d[1]){_.label=d[1],d=A;break}if(d&&_.label<d[2]){_.label=d[2],_.ops.push(A);break}d[2]&&_.ops.pop(),_.trys.pop();continue}A=m.call(p,_)}catch(H){A=[6,H],v=0}finally{S=d=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,H])}}}function le(p,m,_,S){void 0===S&&(S=_),p[S]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function me(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],S=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&S>=p.length&&(p=void 0),{value:p&&p[S++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var v,x,S=_.call(p),d=[];try{for(;(void 0===m||m-- >0)&&!(v=S.next()).done;)d.push(v.value)}catch(T){x={error:T}}finally{try{v&&!v.done&&(_=S.return)&&_.call(S)}finally{if(x)throw x.error}}return d}function de(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ie(arguments[m]));return p}function ke(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var S=Array(p),v=0;for(m=0;m<_;m++)for(var d=arguments[m],x=0,T=d.length;x<T;x++,v++)S[v]=d[x];return S}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function He(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,S=_.apply(p,m||[]),d=[];return v={},x("next"),x("throw"),x("return"),v[Symbol.asyncIterator]=function(){return this},v;function x($){S[$]&&(v[$]=function(Se){return new Promise(function($e,Le){d.push([$,Se,$e,Le])>1||T($,Se)})})}function T($,Se){try{!function pe($){$.value instanceof je?Promise.resolve($.value.v).then(A,H):re(d[0][2],$)}(S[$](Se))}catch($e){re(d[0][3],$e)}}function A($){T("next",$)}function H($){T("throw",$)}function re($,Se){$(Se),d.shift(),d.length&&T(d[0][0],d[0][1])}}function Ge(p){var m,_;return m={},S("next"),S("throw",function(v){throw v}),S("return"),m[Symbol.iterator]=function(){return this},m;function S(v,d){m[v]=p[v]?function(x){return(_=!_)?{value:je(p[v](x)),done:"return"===v}:d?d(x):x}:d}}function se(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=me(p),_={},S("next"),S("throw"),S("return"),_[Symbol.asyncIterator]=function(){return this},_);function S(d){_[d]=p[d]&&function(x){return new Promise(function(T,pe){!function v(d,x,T,pe){Promise.resolve(pe).then(function(A){d({value:A,done:T})},x)}(T,pe,(x=p[d](x)).done,x.value)})}}}function ne(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function ue(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function fe(p){return p&&p.__esModule?p:{default:p}}function Z(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function W(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},9653:(De,M,G)=>{"use strict";G.r(M),G.d(M,{__assign:()=>_e,__asyncDelegator:()=>Ge,__asyncGenerator:()=>He,__asyncValues:()=>se,__await:()=>je,__awaiter:()=>te,__classPrivateFieldGet:()=>Z,__classPrivateFieldSet:()=>W,__createBinding:()=>le,__decorate:()=>X,__exportStar:()=>Pe,__extends:()=>ae,__generator:()=>ce,__importDefault:()=>fe,__importStar:()=>ue,__makeTemplateObject:()=>ne,__metadata:()=>he,__param:()=>we,__read:()=>Ie,__rest:()=>E,__spread:()=>de,__spreadArrays:()=>ke,__values:()=>me});var b=function(p,m){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var v in S)S.hasOwnProperty(v)&&(_[v]=S[v])})(p,m)};function ae(p,m){function _(){this.constructor=p}b(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var _e=function(){return _e=Object.assign||function(m){for(var _,S=1,v=arguments.length;S<v;S++)for(var d in _=arguments[S])Object.prototype.hasOwnProperty.call(_,d)&&(m[d]=_[d]);return m},_e.apply(this,arguments)};function E(p,m){var _={};for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&m.indexOf(S)<0&&(_[S]=p[S]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(S=Object.getOwnPropertySymbols(p);v<S.length;v++)m.indexOf(S[v])<0&&Object.prototype.propertyIsEnumerable.call(p,S[v])&&(_[S[v]]=p[S[v]])}return _}function X(p,m,_,S){var x,v=arguments.length,d=v<3?m:null===S?S=Object.getOwnPropertyDescriptor(m,_):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,_,S);else for(var T=p.length-1;T>=0;T--)(x=p[T])&&(d=(v<3?x(d):v>3?x(m,_,d):x(m,_))||d);return v>3&&d&&Object.defineProperty(m,_,d),d}function we(p,m){return function(_,S){m(_,S,p)}}function he(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function te(p,m,_,S){return new(_||(_=Promise))(function(d,x){function T(H){try{A(S.next(H))}catch(re){x(re)}}function pe(H){try{A(S.throw(H))}catch(re){x(re)}}function A(H){H.done?d(H.value):function v(d){return d instanceof _?d:new _(function(x){x(d)})}(H.value).then(T,pe)}A((S=S.apply(p,m||[])).next())})}function ce(p,m){var S,v,d,x,_={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function T(A){return function(H){return function pe(A){if(S)throw new TypeError("Generator is already executing.");for(;_;)try{if(S=1,v&&(d=2&A[0]?v.return:A[0]?v.throw||((d=v.return)&&d.call(v),0):v.next)&&!(d=d.call(v,A[1])).done)return d;switch(v=0,d&&(A=[2&A[0],d.value]),A[0]){case 0:case 1:d=A;break;case 4:return _.label++,{value:A[1],done:!1};case 5:_.label++,v=A[1],A=[0];continue;case 7:A=_.ops.pop(),_.trys.pop();continue;default:if(!(d=(d=_.trys).length>0&&d[d.length-1])&&(6===A[0]||2===A[0])){_=0;continue}if(3===A[0]&&(!d||A[1]>d[0]&&A[1]<d[3])){_.label=A[1];break}if(6===A[0]&&_.label<d[1]){_.label=d[1],d=A;break}if(d&&_.label<d[2]){_.label=d[2],_.ops.push(A);break}d[2]&&_.ops.pop(),_.trys.pop();continue}A=m.call(p,_)}catch(H){A=[6,H],v=0}finally{S=d=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,H])}}}function le(p,m,_,S){void 0===S&&(S=_),p[S]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function me(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],S=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&S>=p.length&&(p=void 0),{value:p&&p[S++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var v,x,S=_.call(p),d=[];try{for(;(void 0===m||m-- >0)&&!(v=S.next()).done;)d.push(v.value)}catch(T){x={error:T}}finally{try{v&&!v.done&&(_=S.return)&&_.call(S)}finally{if(x)throw x.error}}return d}function de(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ie(arguments[m]));return p}function ke(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var S=Array(p),v=0;for(m=0;m<_;m++)for(var d=arguments[m],x=0,T=d.length;x<T;x++,v++)S[v]=d[x];return S}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function He(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,S=_.apply(p,m||[]),d=[];return v={},x("next"),x("throw"),x("return"),v[Symbol.asyncIterator]=function(){return this},v;function x($){S[$]&&(v[$]=function(Se){return new Promise(function($e,Le){d.push([$,Se,$e,Le])>1||T($,Se)})})}function T($,Se){try{!function pe($){$.value instanceof je?Promise.resolve($.value.v).then(A,H):re(d[0][2],$)}(S[$](Se))}catch($e){re(d[0][3],$e)}}function A($){T("next",$)}function H($){T("throw",$)}function re($,Se){$(Se),d.shift(),d.length&&T(d[0][0],d[0][1])}}function Ge(p){var m,_;return m={},S("next"),S("throw",function(v){throw v}),S("return"),m[Symbol.iterator]=function(){return this},m;function S(v,d){m[v]=p[v]?function(x){return(_=!_)?{value:je(p[v](x)),done:"return"===v}:d?d(x):x}:d}}function se(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=me(p),_={},S("next"),S("throw"),S("return"),_[Symbol.asyncIterator]=function(){return this},_);function S(d){_[d]=p[d]&&function(x){return new Promise(function(T,pe){!function v(d,x,T,pe){Promise.resolve(pe).then(function(A){d({value:A,done:T})},x)}(T,pe,(x=p[d](x)).done,x.value)})}}}function ne(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function ue(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function fe(p){return p&&p.__esModule?p:{default:p}}function Z(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function W(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},2461:(De,M,G)=>{"use strict";G.r(M),G.d(M,{__assign:()=>_e,__asyncDelegator:()=>Ge,__asyncGenerator:()=>He,__asyncValues:()=>se,__await:()=>je,__awaiter:()=>te,__classPrivateFieldGet:()=>Z,__classPrivateFieldSet:()=>W,__createBinding:()=>le,__decorate:()=>X,__exportStar:()=>Pe,__extends:()=>ae,__generator:()=>ce,__importDefault:()=>fe,__importStar:()=>ue,__makeTemplateObject:()=>ne,__metadata:()=>he,__param:()=>we,__read:()=>Ie,__rest:()=>E,__spread:()=>de,__spreadArrays:()=>ke,__values:()=>me});var b=function(p,m){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var v in S)S.hasOwnProperty(v)&&(_[v]=S[v])})(p,m)};function ae(p,m){function _(){this.constructor=p}b(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var _e=function(){return _e=Object.assign||function(m){for(var _,S=1,v=arguments.length;S<v;S++)for(var d in _=arguments[S])Object.prototype.hasOwnProperty.call(_,d)&&(m[d]=_[d]);return m},_e.apply(this,arguments)};function E(p,m){var _={};for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&m.indexOf(S)<0&&(_[S]=p[S]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(S=Object.getOwnPropertySymbols(p);v<S.length;v++)m.indexOf(S[v])<0&&Object.prototype.propertyIsEnumerable.call(p,S[v])&&(_[S[v]]=p[S[v]])}return _}function X(p,m,_,S){var x,v=arguments.length,d=v<3?m:null===S?S=Object.getOwnPropertyDescriptor(m,_):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,_,S);else for(var T=p.length-1;T>=0;T--)(x=p[T])&&(d=(v<3?x(d):v>3?x(m,_,d):x(m,_))||d);return v>3&&d&&Object.defineProperty(m,_,d),d}function we(p,m){return function(_,S){m(_,S,p)}}function he(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function te(p,m,_,S){return new(_||(_=Promise))(function(d,x){function T(H){try{A(S.next(H))}catch(re){x(re)}}function pe(H){try{A(S.throw(H))}catch(re){x(re)}}function A(H){H.done?d(H.value):function v(d){return d instanceof _?d:new _(function(x){x(d)})}(H.value).then(T,pe)}A((S=S.apply(p,m||[])).next())})}function ce(p,m){var S,v,d,x,_={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function T(A){return function(H){return function pe(A){if(S)throw new TypeError("Generator is already executing.");for(;_;)try{if(S=1,v&&(d=2&A[0]?v.return:A[0]?v.throw||((d=v.return)&&d.call(v),0):v.next)&&!(d=d.call(v,A[1])).done)return d;switch(v=0,d&&(A=[2&A[0],d.value]),A[0]){case 0:case 1:d=A;break;case 4:return _.label++,{value:A[1],done:!1};case 5:_.label++,v=A[1],A=[0];continue;case 7:A=_.ops.pop(),_.trys.pop();continue;default:if(!(d=(d=_.trys).length>0&&d[d.length-1])&&(6===A[0]||2===A[0])){_=0;continue}if(3===A[0]&&(!d||A[1]>d[0]&&A[1]<d[3])){_.label=A[1];break}if(6===A[0]&&_.label<d[1]){_.label=d[1],d=A;break}if(d&&_.label<d[2]){_.label=d[2],_.ops.push(A);break}d[2]&&_.ops.pop(),_.trys.pop();continue}A=m.call(p,_)}catch(H){A=[6,H],v=0}finally{S=d=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,H])}}}function le(p,m,_,S){void 0===S&&(S=_),p[S]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function me(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],S=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&S>=p.length&&(p=void 0),{value:p&&p[S++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var v,x,S=_.call(p),d=[];try{for(;(void 0===m||m-- >0)&&!(v=S.next()).done;)d.push(v.value)}catch(T){x={error:T}}finally{try{v&&!v.done&&(_=S.return)&&_.call(S)}finally{if(x)throw x.error}}return d}function de(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ie(arguments[m]));return p}function ke(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var S=Array(p),v=0;for(m=0;m<_;m++)for(var d=arguments[m],x=0,T=d.length;x<T;x++,v++)S[v]=d[x];return S}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function He(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,S=_.apply(p,m||[]),d=[];return v={},x("next"),x("throw"),x("return"),v[Symbol.asyncIterator]=function(){return this},v;function x($){S[$]&&(v[$]=function(Se){return new Promise(function($e,Le){d.push([$,Se,$e,Le])>1||T($,Se)})})}function T($,Se){try{!function pe($){$.value instanceof je?Promise.resolve($.value.v).then(A,H):re(d[0][2],$)}(S[$](Se))}catch($e){re(d[0][3],$e)}}function A($){T("next",$)}function H($){T("throw",$)}function re($,Se){$(Se),d.shift(),d.length&&T(d[0][0],d[0][1])}}function Ge(p){var m,_;return m={},S("next"),S("throw",function(v){throw v}),S("return"),m[Symbol.iterator]=function(){return this},m;function S(v,d){m[v]=p[v]?function(x){return(_=!_)?{value:je(p[v](x)),done:"return"===v}:d?d(x):x}:d}}function se(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=me(p),_={},S("next"),S("throw"),S("return"),_[Symbol.asyncIterator]=function(){return this},_);function S(d){_[d]=p[d]&&function(x){return new Promise(function(T,pe){!function v(d,x,T,pe){Promise.resolve(pe).then(function(A){d({value:A,done:T})},x)}(T,pe,(x=p[d](x)).done,x.value)})}}}function ne(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function ue(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function fe(p){return p&&p.__esModule?p:{default:p}}function Z(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function W(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},7121:(De,M,G)=>{"use strict";G.r(M),G.d(M,{__assign:()=>_e,__asyncDelegator:()=>Ge,__asyncGenerator:()=>He,__asyncValues:()=>se,__await:()=>je,__awaiter:()=>te,__classPrivateFieldGet:()=>Z,__classPrivateFieldSet:()=>W,__createBinding:()=>le,__decorate:()=>X,__exportStar:()=>Pe,__extends:()=>ae,__generator:()=>ce,__importDefault:()=>fe,__importStar:()=>ue,__makeTemplateObject:()=>ne,__metadata:()=>he,__param:()=>we,__read:()=>Ie,__rest:()=>E,__spread:()=>de,__spreadArrays:()=>ke,__values:()=>me});var b=function(p,m){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var v in S)S.hasOwnProperty(v)&&(_[v]=S[v])})(p,m)};function ae(p,m){function _(){this.constructor=p}b(p,m),p.prototype=null===m?Object.create(m):(_.prototype=m.prototype,new _)}var _e=function(){return _e=Object.assign||function(m){for(var _,S=1,v=arguments.length;S<v;S++)for(var d in _=arguments[S])Object.prototype.hasOwnProperty.call(_,d)&&(m[d]=_[d]);return m},_e.apply(this,arguments)};function E(p,m){var _={};for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&m.indexOf(S)<0&&(_[S]=p[S]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var v=0;for(S=Object.getOwnPropertySymbols(p);v<S.length;v++)m.indexOf(S[v])<0&&Object.prototype.propertyIsEnumerable.call(p,S[v])&&(_[S[v]]=p[S[v]])}return _}function X(p,m,_,S){var x,v=arguments.length,d=v<3?m:null===S?S=Object.getOwnPropertyDescriptor(m,_):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(p,m,_,S);else for(var T=p.length-1;T>=0;T--)(x=p[T])&&(d=(v<3?x(d):v>3?x(m,_,d):x(m,_))||d);return v>3&&d&&Object.defineProperty(m,_,d),d}function we(p,m){return function(_,S){m(_,S,p)}}function he(p,m){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,m)}function te(p,m,_,S){return new(_||(_=Promise))(function(d,x){function T(H){try{A(S.next(H))}catch(re){x(re)}}function pe(H){try{A(S.throw(H))}catch(re){x(re)}}function A(H){H.done?d(H.value):function v(d){return d instanceof _?d:new _(function(x){x(d)})}(H.value).then(T,pe)}A((S=S.apply(p,m||[])).next())})}function ce(p,m){var S,v,d,x,_={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return x={next:T(0),throw:T(1),return:T(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function T(A){return function(H){return function pe(A){if(S)throw new TypeError("Generator is already executing.");for(;_;)try{if(S=1,v&&(d=2&A[0]?v.return:A[0]?v.throw||((d=v.return)&&d.call(v),0):v.next)&&!(d=d.call(v,A[1])).done)return d;switch(v=0,d&&(A=[2&A[0],d.value]),A[0]){case 0:case 1:d=A;break;case 4:return _.label++,{value:A[1],done:!1};case 5:_.label++,v=A[1],A=[0];continue;case 7:A=_.ops.pop(),_.trys.pop();continue;default:if(!(d=(d=_.trys).length>0&&d[d.length-1])&&(6===A[0]||2===A[0])){_=0;continue}if(3===A[0]&&(!d||A[1]>d[0]&&A[1]<d[3])){_.label=A[1];break}if(6===A[0]&&_.label<d[1]){_.label=d[1],d=A;break}if(d&&_.label<d[2]){_.label=d[2],_.ops.push(A);break}d[2]&&_.ops.pop(),_.trys.pop();continue}A=m.call(p,_)}catch(H){A=[6,H],v=0}finally{S=d=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,H])}}}function le(p,m,_,S){void 0===S&&(S=_),p[S]=m[_]}function Pe(p,m){for(var _ in p)"default"!==_&&!m.hasOwnProperty(_)&&(m[_]=p[_])}function me(p){var m="function"==typeof Symbol&&Symbol.iterator,_=m&&p[m],S=0;if(_)return _.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&S>=p.length&&(p=void 0),{value:p&&p[S++],done:!p}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(p,m){var _="function"==typeof Symbol&&p[Symbol.iterator];if(!_)return p;var v,x,S=_.call(p),d=[];try{for(;(void 0===m||m-- >0)&&!(v=S.next()).done;)d.push(v.value)}catch(T){x={error:T}}finally{try{v&&!v.done&&(_=S.return)&&_.call(S)}finally{if(x)throw x.error}}return d}function de(){for(var p=[],m=0;m<arguments.length;m++)p=p.concat(Ie(arguments[m]));return p}function ke(){for(var p=0,m=0,_=arguments.length;m<_;m++)p+=arguments[m].length;var S=Array(p),v=0;for(m=0;m<_;m++)for(var d=arguments[m],x=0,T=d.length;x<T;x++,v++)S[v]=d[x];return S}function je(p){return this instanceof je?(this.v=p,this):new je(p)}function He(p,m,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,S=_.apply(p,m||[]),d=[];return v={},x("next"),x("throw"),x("return"),v[Symbol.asyncIterator]=function(){return this},v;function x($){S[$]&&(v[$]=function(Se){return new Promise(function($e,Le){d.push([$,Se,$e,Le])>1||T($,Se)})})}function T($,Se){try{!function pe($){$.value instanceof je?Promise.resolve($.value.v).then(A,H):re(d[0][2],$)}(S[$](Se))}catch($e){re(d[0][3],$e)}}function A($){T("next",$)}function H($){T("throw",$)}function re($,Se){$(Se),d.shift(),d.length&&T(d[0][0],d[0][1])}}function Ge(p){var m,_;return m={},S("next"),S("throw",function(v){throw v}),S("return"),m[Symbol.iterator]=function(){return this},m;function S(v,d){m[v]=p[v]?function(x){return(_=!_)?{value:je(p[v](x)),done:"return"===v}:d?d(x):x}:d}}function se(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,m=p[Symbol.asyncIterator];return m?m.call(p):(p=me(p),_={},S("next"),S("throw"),S("return"),_[Symbol.asyncIterator]=function(){return this},_);function S(d){_[d]=p[d]&&function(x){return new Promise(function(T,pe){!function v(d,x,T,pe){Promise.resolve(pe).then(function(A){d({value:A,done:T})},x)}(T,pe,(x=p[d](x)).done,x.value)})}}}function ne(p,m){return Object.defineProperty?Object.defineProperty(p,"raw",{value:m}):p.raw=m,p}function ue(p){if(p&&p.__esModule)return p;var m={};if(null!=p)for(var _ in p)Object.hasOwnProperty.call(p,_)&&(m[_]=p[_]);return m.default=p,m}function fe(p){return p&&p.__esModule?p:{default:p}}function Z(p,m){if(!m.has(p))throw new TypeError("attempted to get private field on non-instance");return m.get(p)}function W(p,m,_){if(!m.has(p))throw new TypeError("attempted to set private field on non-instance");return m.set(p,_),_}},8544:(De,M,G)=>{"use strict";const b=G(8958);De.exports=X;const ae=function fe(){function Z(W){return typeof W<"u"&&W}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return Z(self)||Z(window)||Z(this)||{}}}().console||{},_e={mapHttpRequest:ke,mapHttpResponse:ke,wrapRequestSerializer:je,wrapResponseSerializer:je,wrapErrorSerializer:je,req:ke,res:ke,err:function Ie(Z){const W={type:Z.constructor.name,msg:Z.message,stack:Z.stack};for(const p in Z)void 0===W[p]&&(W[p]=Z[p]);return W}};function X(Z){(Z=Z||{}).browser=Z.browser||{};const W=Z.browser.transmit;if(W&&"function"!=typeof W.send)throw Error("pino: transmit option must have a send function");const p=Z.browser.write||ae;Z.browser.write&&(Z.browser.asObject=!0);const m=Z.serializers||{},_=function E(Z,W){return Array.isArray(Z)?Z.filter(function(m){return"!stdSerializers.err"!==m}):!0===Z&&Object.keys(W)}(Z.browser.serialize,m);let S=Z.browser.serialize;Array.isArray(Z.browser.serialize)&&Z.browser.serialize.indexOf("!stdSerializers.err")>-1&&(S=!1),"function"==typeof p&&(p.error=p.fatal=p.warn=p.info=p.debug=p.trace=p),!1===Z.enabled&&(Z.level="silent");const d=Z.level||"info",x=Object.create(p);x.log||(x.log=He),Object.defineProperty(x,"levelVal",{get:function pe(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(x,"level",{get:function A(){return this._level},set:function H($){if("silent"!==$&&!this.levels.values[$])throw Error("unknown level "+$);this._level=$,we(T,x,"error","log"),we(T,x,"fatal","error"),we(T,x,"warn","error"),we(T,x,"info","log"),we(T,x,"debug","log"),we(T,x,"trace","log")}});const T={transmit:W,serialize:_,asObject:Z.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:de(Z)};return x.levels=X.levels,x.level=d,x.setMaxListeners=x.getMaxListeners=x.emit=x.addListener=x.on=x.prependListener=x.once=x.prependOnceListener=x.removeListener=x.removeAllListeners=x.listeners=x.listenerCount=x.eventNames=x.write=x.flush=He,x.serializers=m,x._serialize=_,x._stdErrSerialize=S,x.child=function re($,Se){if(!$)throw new Error("missing bindings for child Pino");Se=Se||{},_&&$.serializers&&(Se.serializers=$.serializers);const $e=Se.serializers;if(_&&$e){var Le=Object.assign({},m,$e),Xr=!0===Z.browser.serialize?Object.keys(Le):_;delete $.serializers,ce([$],Xr,Le,this._stdErrSerialize)}function Qr(dt){this._childLevel=1+(0|dt._childLevel),this.error=le(dt,$,"error"),this.fatal=le(dt,$,"fatal"),this.warn=le(dt,$,"warn"),this.info=le(dt,$,"info"),this.debug=le(dt,$,"debug"),this.trace=le(dt,$,"trace"),Le&&(this.serializers=Le,this._serialize=Xr),W&&(this._logEvent=me([].concat(dt._logEvent.bindings,$)))}return Qr.prototype=this,new Qr(this)},W&&(x._logEvent=me()),x}function we(Z,W,p,m){const _=Object.getPrototypeOf(W);W[p]=W.levelVal>W.levels.values[p]?He:_[p]?_[p]:ae[p]||ae[m]||He,function he(Z,W,p){!Z.transmit&&W[p]===He||(W[p]=function(m){return function(){const S=Z.timestamp(),v=new Array(arguments.length),d=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ae?ae:this;for(var x=0;x<v.length;x++)v[x]=arguments[x];if(Z.serialize&&!Z.asObject&&ce(v,this._serialize,this.serializers,this._stdErrSerialize),Z.asObject?m.call(d,function te(Z,W,p,m){Z._serialize&&ce(p,Z._serialize,Z.serializers,Z._stdErrSerialize);const _=p.slice();let S=_[0];const v={};m&&(v.time=m),v.level=X.levels.values[W];let d=1+(0|Z._childLevel);if(d<1&&(d=1),null!==S&&"object"==typeof S){for(;d--&&"object"==typeof _[0];)Object.assign(v,_.shift());S=_.length?b(_.shift(),_):void 0}else"string"==typeof S&&(S=b(_.shift(),_));return void 0!==S&&(v.msg=S),v}(this,p,v,S)):m.apply(d,v),Z.transmit){const T=Z.transmit.level||W.level,A=X.levels.values[p];if(A<X.levels.values[T])return;!function Pe(Z,W,p){const m=W.send,_=W.ts,S=W.methodLevel,v=W.methodValue,d=W.val,x=Z._logEvent.bindings;ce(p,Z._serialize||Object.keys(Z.serializers),Z.serializers,void 0===Z._stdErrSerialize||Z._stdErrSerialize),Z._logEvent.ts=_,Z._logEvent.messages=p.filter(function(T){return-1===x.indexOf(T)}),Z._logEvent.level.label=S,Z._logEvent.level.value=v,m(S,Z._logEvent,d),Z._logEvent=me(x)}(this,{ts:S,methodLevel:p,methodValue:A,transmitLevel:T,transmitValue:X.levels.values[Z.transmit.level||W.level],send:Z.transmit.send,val:W.levelVal},v)}}}(W[p]))}(Z,W,p)}function ce(Z,W,p,m){for(const _ in Z)if(m&&Z[_]instanceof Error)Z[_]=X.stdSerializers.err(Z[_]);else if("object"==typeof Z[_]&&!Array.isArray(Z[_]))for(const S in Z[_])W&&W.indexOf(S)>-1&&S in p&&(Z[_][S]=p[S](Z[_][S]))}function le(Z,W,p){return function(){const m=new Array(1+arguments.length);m[0]=W;for(var _=1;_<m.length;_++)m[_]=arguments[_-1];return Z[p].apply(this,m)}}function me(Z){return{ts:0,messages:[],bindings:Z||[],level:{label:"",value:0}}}function de(Z){return"function"==typeof Z.timestamp?Z.timestamp:!1===Z.timestamp?Ge:se}function ke(){return{}}function je(Z){return Z}function He(){}function Ge(){return!1}function se(){return Date.now()}X.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},X.stdSerializers=_e,X.stdTimeFunctions=Object.assign({},{nullTime:Ge,epochTime:se,unixTime:function ne(){return Math.round(Date.now()/1e3)},isoTime:function ue(){return new Date(Date.now()).toISOString()}})}}]);